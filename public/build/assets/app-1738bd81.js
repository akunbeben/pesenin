function ic(o,c){for(var l=0;l<c.length;l++){const h=c[l];if(typeof h!="string"&&!Array.isArray(h)){for(const g in h)if(g!=="default"&&!(g in o)){const d=Object.getOwnPropertyDescriptor(h,g);d&&Object.defineProperty(o,g,d.get?d:{enumerable:!0,get:()=>h[g]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var rc=Object.create,ul=Object.defineProperty,sc=Object.getOwnPropertyDescriptor,fl=Object.getOwnPropertyNames,oc=Object.getPrototypeOf,ac=Object.prototype.hasOwnProperty,Ei=(o,c)=>function(){return c||(0,o[fl(o)[0]])((c={exports:{}}).exports,c),c.exports},lc=(o,c,l,h)=>{if(c&&typeof c=="object"||typeof c=="function")for(let g of fl(c))!ac.call(o,g)&&g!==l&&ul(o,g,{get:()=>c[g],enumerable:!(h=sc(c,g))||h.enumerable});return o},qt=(o,c,l)=>(l=o!=null?rc(oc(o)):{},lc(c||!o||!o.__esModule?ul(l,"default",{value:o,enumerable:!0}):l,o)),vn=Ei({"../alpine/packages/alpinejs/dist/module.cjs.js"(o,c){var l=Object.create,h=Object.defineProperty,g=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,w=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,S=(t,i)=>function(){return i||(0,t[d(t)[0]])((i={exports:{}}).exports,i),i.exports},m=(t,i)=>{for(var s in i)h(t,s,{get:i[s],enumerable:!0})},b=(t,i,s,a)=>{if(i&&typeof i=="object"||typeof i=="function")for(let u of d(i))!E.call(t,u)&&u!==s&&h(t,u,{get:()=>i[u],enumerable:!(a=g(i,u))||a.enumerable});return t},v=(t,i,s)=>(s=t!=null?l(w(t)):{},b(i||!t||!t.__esModule?h(s,"default",{value:t,enumerable:!0}):s,t)),R=t=>b(h({},"__esModule",{value:!0}),t),j=S({"node_modules/@vue/shared/dist/shared.cjs.js"(t){Object.defineProperty(t,"__esModule",{value:!0});function i(Y,be){const Ne=Object.create(null),qe=Y.split(",");for(let It=0;It<qe.length;It++)Ne[qe[It]]=!0;return be?It=>!!Ne[It.toLowerCase()]:It=>!!Ne[It]}var s={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},a={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},u="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",f=i(u),p=2;function x(Y,be=0,Ne=Y.length){let qe=Y.split(/(\r?\n)/);const It=qe.filter((En,cn)=>cn%2===1);qe=qe.filter((En,cn)=>cn%2===0);let Xt=0;const An=[];for(let En=0;En<qe.length;En++)if(Xt+=qe[En].length+(It[En]&&It[En].length||0),Xt>=be){for(let cn=En-p;cn<=En+p||Ne>Xt;cn++){if(cn<0||cn>=qe.length)continue;const Gr=cn+1;An.push(`${Gr}${" ".repeat(Math.max(3-String(Gr).length,0))}|  ${qe[cn]}`);const mr=qe[cn].length,Ts=It[cn]&&It[cn].length||0;if(cn===En){const wr=be-(Xt-(mr+Ts)),so=Math.max(1,Ne>Xt?mr-wr:Ne-be);An.push("   |  "+" ".repeat(wr)+"^".repeat(so))}else if(cn>En){if(Ne>Xt){const wr=Math.max(Math.min(Ne-Xt,mr),1);An.push("   |  "+"^".repeat(wr))}Xt+=mr+Ts}}break}return An.join(`
`)}var y="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",C=i(y),M=i(y+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),L=/[>/="'\u0009\u000a\u000c\u0020]/,F={};function V(Y){if(F.hasOwnProperty(Y))return F[Y];const be=L.test(Y);return be&&console.error(`unsafe attribute name: ${Y}`),F[Y]=!be}var ce={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},he=i("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),K=i("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function Te(Y){if(Kn(Y)){const be={};for(let Ne=0;Ne<Y.length;Ne++){const qe=Y[Ne],It=Te(Vi(qe)?kt(qe):qe);if(It)for(const Xt in It)be[Xt]=It[Xt]}return be}else if(li(Y))return Y}var Ee=/;(?![^(]*\))/g,st=/:(.+)/;function kt(Y){const be={};return Y.split(Ee).forEach(Ne=>{if(Ne){const qe=Ne.split(st);qe.length>1&&(be[qe[0].trim()]=qe[1].trim())}}),be}function Ht(Y){let be="";if(!Y)return be;for(const Ne in Y){const qe=Y[Ne],It=Ne.startsWith("--")?Ne:Is(Ne);(Vi(qe)||typeof qe=="number"&&he(It))&&(be+=`${It}:${qe};`)}return be}function wt(Y){let be="";if(Vi(Y))be=Y;else if(Kn(Y))for(let Ne=0;Ne<Y.length;Ne++){const qe=wt(Y[Ne]);qe&&(be+=qe+" ")}else if(li(Y))for(const Ne in Y)Y[Ne]&&(be+=Ne+" ");return be.trim()}var Qt="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",hn="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Vn="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",kn=i(Qt),Fr=i(hn),Ti=i(Vn),qs=/["'&<>]/;function Zs(Y){const be=""+Y,Ne=qs.exec(be);if(!Ne)return be;let qe="",It,Xt,An=0;for(Xt=Ne.index;Xt<be.length;Xt++){switch(be.charCodeAt(Xt)){case 34:It="&quot;";break;case 38:It="&amp;";break;case 39:It="&#39;";break;case 60:It="&lt;";break;case 62:It="&gt;";break;default:continue}An!==Xt&&(qe+=be.substring(An,Xt)),An=Xt+1,qe+=It}return An!==Xt?qe+be.substring(An,Xt):qe}var ds=/^-?>|<!--|-->|--!>|<!-$/g;function Ks(Y){return Y.replace(ds,"")}function Qs(Y,be){if(Y.length!==be.length)return!1;let Ne=!0;for(let qe=0;Ne&&qe<Y.length;qe++)Ne=lr(Y[qe],be[qe]);return Ne}function lr(Y,be){if(Y===be)return!0;let Ne=zr(Y),qe=zr(be);if(Ne||qe)return Ne&&qe?Y.getTime()===be.getTime():!1;if(Ne=Kn(Y),qe=Kn(be),Ne||qe)return Ne&&qe?Qs(Y,be):!1;if(Ne=li(Y),qe=li(be),Ne||qe){if(!Ne||!qe)return!1;const It=Object.keys(Y).length,Xt=Object.keys(be).length;if(It!==Xt)return!1;for(const An in Y){const En=Y.hasOwnProperty(An),cn=be.hasOwnProperty(An);if(En&&!cn||!En&&cn||!lr(Y[An],be[An]))return!1}}return String(Y)===String(be)}function gs(Y,be){return Y.findIndex(Ne=>lr(Ne,be))}var ps=Y=>Y==null?"":li(Y)?JSON.stringify(Y,Js,2):String(Y),Js=(Y,be)=>Wi(be)?{[`Map(${be.size})`]:[...be.entries()].reduce((Ne,[qe,It])=>(Ne[`${qe} =>`]=It,Ne),{})}:Qn(be)?{[`Set(${be.size})`]:[...be.values()]}:li(be)&&!Kn(be)&&!Es(be)?String(be):be,$s=["bigInt","optionalChaining","nullishCoalescingOperator"],Ur=Object.freeze({}),jr=Object.freeze([]),Hr=()=>{},cr=()=>!1,ur=/^on[^a-z]/,fr=Y=>ur.test(Y),hr=Y=>Y.startsWith("onUpdate:"),xs=Object.assign,ms=(Y,be)=>{const Ne=Y.indexOf(be);Ne>-1&&Y.splice(Ne,1)},ws=Object.prototype.hasOwnProperty,ys=(Y,be)=>ws.call(Y,be),Kn=Array.isArray,Wi=Y=>Gi(Y)==="[object Map]",Qn=Y=>Gi(Y)==="[object Set]",zr=Y=>Y instanceof Date,Wr=Y=>typeof Y=="function",Vi=Y=>typeof Y=="string",eo=Y=>typeof Y=="symbol",li=Y=>Y!==null&&typeof Y=="object",dr=Y=>li(Y)&&Wr(Y.then)&&Wr(Y.catch),As=Object.prototype.toString,Gi=Y=>As.call(Y),to=Y=>Gi(Y).slice(8,-1),Es=Y=>Gi(Y)==="[object Object]",Cs=Y=>Vi(Y)&&Y!=="NaN"&&Y[0]!=="-"&&""+parseInt(Y,10)===Y,bs=i(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xi=Y=>{const be=Object.create(null);return Ne=>be[Ne]||(be[Ne]=Y(Ne))},vs=/-(\w)/g,Ss=Xi(Y=>Y.replace(vs,(be,Ne)=>Ne?Ne.toUpperCase():"")),no=/\B([A-Z])/g,Is=Xi(Y=>Y.replace(no,"-$1").toLowerCase()),Yi=Xi(Y=>Y.charAt(0).toUpperCase()+Y.slice(1)),io=Xi(Y=>Y?`on${Yi(Y)}`:""),Vr=(Y,be)=>Y!==be&&(Y===Y||be===be),ro=(Y,be)=>{for(let Ne=0;Ne<Y.length;Ne++)Y[Ne](be)},gr=(Y,be,Ne)=>{Object.defineProperty(Y,be,{configurable:!0,enumerable:!1,value:Ne})},pr=Y=>{const be=parseFloat(Y);return isNaN(be)?Y:be},xr,_s=()=>xr||(xr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});t.EMPTY_ARR=jr,t.EMPTY_OBJ=Ur,t.NO=cr,t.NOOP=Hr,t.PatchFlagNames=s,t.babelParserDefaultPlugins=$s,t.camelize=Ss,t.capitalize=Yi,t.def=gr,t.escapeHtml=Zs,t.escapeHtmlComment=Ks,t.extend=xs,t.generateCodeFrame=x,t.getGlobalThis=_s,t.hasChanged=Vr,t.hasOwn=ys,t.hyphenate=Is,t.invokeArrayFns=ro,t.isArray=Kn,t.isBooleanAttr=M,t.isDate=zr,t.isFunction=Wr,t.isGloballyWhitelisted=f,t.isHTMLTag=kn,t.isIntegerKey=Cs,t.isKnownAttr=K,t.isMap=Wi,t.isModelListener=hr,t.isNoUnitNumericStyleProp=he,t.isObject=li,t.isOn=fr,t.isPlainObject=Es,t.isPromise=dr,t.isReservedProp=bs,t.isSSRSafeAttrName=V,t.isSVGTag=Fr,t.isSet=Qn,t.isSpecialBooleanAttr=C,t.isString=Vi,t.isSymbol=eo,t.isVoidTag=Ti,t.looseEqual=lr,t.looseIndexOf=gs,t.makeMap=i,t.normalizeClass=wt,t.normalizeStyle=Te,t.objectToString=As,t.parseStringStyle=kt,t.propsToAttrMap=ce,t.remove=ms,t.slotFlagsText=a,t.stringifyStyle=Ht,t.toDisplayString=ps,t.toHandlerKey=io,t.toNumber=pr,t.toRawType=to,t.toTypeString=Gi}}),B=S({"node_modules/@vue/shared/index.js"(t,i){i.exports=j()}}),I=S({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"(t){Object.defineProperty(t,"__esModule",{value:!0});var i=B(),s=new WeakMap,a=[],u,f=Symbol("iterate"),p=Symbol("Map key iterate");function x(T){return T&&T._isEffect===!0}function y(T,oe=i.EMPTY_OBJ){x(T)&&(T=T.raw);const le=L(T,oe);return oe.lazy||le(),le}function C(T){T.active&&(F(T),T.options.onStop&&T.options.onStop(),T.active=!1)}var M=0;function L(T,oe){const le=function(){if(!le.active)return T();if(!a.includes(le)){F(le);try{return K(),a.push(le),u=le,T()}finally{a.pop(),Te(),u=a[a.length-1]}}};return le.id=M++,le.allowRecurse=!!oe.allowRecurse,le._isEffect=!0,le.active=!0,le.raw=T,le.deps=[],le.options=oe,le}function F(T){const{deps:oe}=T;if(oe.length){for(let le=0;le<oe.length;le++)oe[le].delete(T);oe.length=0}}var V=!0,ce=[];function he(){ce.push(V),V=!1}function K(){ce.push(V),V=!0}function Te(){const T=ce.pop();V=T===void 0?!0:T}function Ee(T,oe,le){if(!V||u===void 0)return;let Fe=s.get(T);Fe||s.set(T,Fe=new Map);let ve=Fe.get(le);ve||Fe.set(le,ve=new Set),ve.has(u)||(ve.add(u),u.deps.push(ve),u.options.onTrack&&u.options.onTrack({effect:u,target:T,type:oe,key:le}))}function st(T,oe,le,Fe,ve,Je){const xt=s.get(T);if(!xt)return;const Jt=new Set,Cn=pn=>{pn&&pn.forEach(Jn=>{(Jn!==u||Jn.allowRecurse)&&Jt.add(Jn)})};if(oe==="clear")xt.forEach(Cn);else if(le==="length"&&i.isArray(T))xt.forEach((pn,Jn)=>{(Jn==="length"||Jn>=Fe)&&Cn(pn)});else switch(le!==void 0&&Cn(xt.get(le)),oe){case"add":i.isArray(T)?i.isIntegerKey(le)&&Cn(xt.get("length")):(Cn(xt.get(f)),i.isMap(T)&&Cn(xt.get(p)));break;case"delete":i.isArray(T)||(Cn(xt.get(f)),i.isMap(T)&&Cn(xt.get(p)));break;case"set":i.isMap(T)&&Cn(xt.get(f));break}const Xr=pn=>{pn.options.onTrigger&&pn.options.onTrigger({effect:pn,target:T,key:le,type:oe,newValue:Fe,oldValue:ve,oldTarget:Je}),pn.options.scheduler?pn.options.scheduler(pn):pn()};Jt.forEach(Xr)}var kt=i.makeMap("__proto__,__v_isRef,__isVue"),Ht=new Set(Object.getOwnPropertyNames(Symbol).map(T=>Symbol[T]).filter(i.isSymbol)),wt=Ti(),Qt=Ti(!1,!0),hn=Ti(!0),Vn=Ti(!0,!0),kn=Fr();function Fr(){const T={};return["includes","indexOf","lastIndexOf"].forEach(oe=>{T[oe]=function(...le){const Fe=Y(this);for(let Je=0,xt=this.length;Je<xt;Je++)Ee(Fe,"get",Je+"");const ve=Fe[oe](...le);return ve===-1||ve===!1?Fe[oe](...le.map(Y)):ve}}),["push","pop","shift","unshift","splice"].forEach(oe=>{T[oe]=function(...le){he();const Fe=Y(this)[oe].apply(this,le);return Te(),Fe}}),T}function Ti(T=!1,oe=!1){return function(Fe,ve,Je){if(ve==="__v_isReactive")return!T;if(ve==="__v_isReadonly")return T;if(ve==="__v_raw"&&Je===(T?oe?Ss:vs:oe?Xi:bs).get(Fe))return Fe;const xt=i.isArray(Fe);if(!T&&xt&&i.hasOwn(kn,ve))return Reflect.get(kn,ve,Je);const Jt=Reflect.get(Fe,ve,Je);return(i.isSymbol(ve)?Ht.has(ve):kt(ve))||(T||Ee(Fe,"get",ve),oe)?Jt:qe(Jt)?!xt||!i.isIntegerKey(ve)?Jt.value:Jt:i.isObject(Jt)?T?Vr(Jt):Yi(Jt):Jt}}var qs=ds(),Zs=ds(!0);function ds(T=!1){return function(le,Fe,ve,Je){let xt=le[Fe];if(!T&&(ve=Y(ve),xt=Y(xt),!i.isArray(le)&&qe(xt)&&!qe(ve)))return xt.value=ve,!0;const Jt=i.isArray(le)&&i.isIntegerKey(Fe)?Number(Fe)<le.length:i.hasOwn(le,Fe),Cn=Reflect.set(le,Fe,ve,Je);return le===Y(Je)&&(Jt?i.hasChanged(ve,xt)&&st(le,"set",Fe,ve,xt):st(le,"add",Fe,ve)),Cn}}function Ks(T,oe){const le=i.hasOwn(T,oe),Fe=T[oe],ve=Reflect.deleteProperty(T,oe);return ve&&le&&st(T,"delete",oe,void 0,Fe),ve}function Qs(T,oe){const le=Reflect.has(T,oe);return(!i.isSymbol(oe)||!Ht.has(oe))&&Ee(T,"has",oe),le}function lr(T){return Ee(T,"iterate",i.isArray(T)?"length":f),Reflect.ownKeys(T)}var gs={get:wt,set:qs,deleteProperty:Ks,has:Qs,ownKeys:lr},ps={get:hn,set(T,oe){return console.warn(`Set operation on key "${String(oe)}" failed: target is readonly.`,T),!0},deleteProperty(T,oe){return console.warn(`Delete operation on key "${String(oe)}" failed: target is readonly.`,T),!0}},Js=i.extend({},gs,{get:Qt,set:Zs}),$s=i.extend({},ps,{get:Vn}),Ur=T=>i.isObject(T)?Yi(T):T,jr=T=>i.isObject(T)?Vr(T):T,Hr=T=>T,cr=T=>Reflect.getPrototypeOf(T);function ur(T,oe,le=!1,Fe=!1){T=T.__v_raw;const ve=Y(T),Je=Y(oe);oe!==Je&&!le&&Ee(ve,"get",oe),!le&&Ee(ve,"get",Je);const{has:xt}=cr(ve),Jt=Fe?Hr:le?jr:Ur;if(xt.call(ve,oe))return Jt(T.get(oe));if(xt.call(ve,Je))return Jt(T.get(Je));T!==ve&&T.get(oe)}function fr(T,oe=!1){const le=this.__v_raw,Fe=Y(le),ve=Y(T);return T!==ve&&!oe&&Ee(Fe,"has",T),!oe&&Ee(Fe,"has",ve),T===ve?le.has(T):le.has(T)||le.has(ve)}function hr(T,oe=!1){return T=T.__v_raw,!oe&&Ee(Y(T),"iterate",f),Reflect.get(T,"size",T)}function xs(T){T=Y(T);const oe=Y(this);return cr(oe).has.call(oe,T)||(oe.add(T),st(oe,"add",T,T)),this}function ms(T,oe){oe=Y(oe);const le=Y(this),{has:Fe,get:ve}=cr(le);let Je=Fe.call(le,T);Je?Cs(le,Fe,T):(T=Y(T),Je=Fe.call(le,T));const xt=ve.call(le,T);return le.set(T,oe),Je?i.hasChanged(oe,xt)&&st(le,"set",T,oe,xt):st(le,"add",T,oe),this}function ws(T){const oe=Y(this),{has:le,get:Fe}=cr(oe);let ve=le.call(oe,T);ve?Cs(oe,le,T):(T=Y(T),ve=le.call(oe,T));const Je=Fe?Fe.call(oe,T):void 0,xt=oe.delete(T);return ve&&st(oe,"delete",T,void 0,Je),xt}function ys(){const T=Y(this),oe=T.size!==0,le=i.isMap(T)?new Map(T):new Set(T),Fe=T.clear();return oe&&st(T,"clear",void 0,void 0,le),Fe}function Kn(T,oe){return function(Fe,ve){const Je=this,xt=Je.__v_raw,Jt=Y(xt),Cn=oe?Hr:T?jr:Ur;return!T&&Ee(Jt,"iterate",f),xt.forEach((Xr,pn)=>Fe.call(ve,Cn(Xr),Cn(pn),Je))}}function Wi(T,oe,le){return function(...Fe){const ve=this.__v_raw,Je=Y(ve),xt=i.isMap(Je),Jt=T==="entries"||T===Symbol.iterator&&xt,Cn=T==="keys"&&xt,Xr=ve[T](...Fe),pn=le?Hr:oe?jr:Ur;return!oe&&Ee(Je,"iterate",Cn?p:f),{next(){const{value:Jn,done:oo}=Xr.next();return oo?{value:Jn,done:oo}:{value:Jt?[pn(Jn[0]),pn(Jn[1])]:pn(Jn),done:oo}},[Symbol.iterator](){return this}}}}function Qn(T){return function(...oe){{const le=oe[0]?`on key "${oe[0]}" `:"";console.warn(`${i.capitalize(T)} operation ${le}failed: target is readonly.`,Y(this))}return T==="delete"?!1:this}}function zr(){const T={get(Je){return ur(this,Je)},get size(){return hr(this)},has:fr,add:xs,set:ms,delete:ws,clear:ys,forEach:Kn(!1,!1)},oe={get(Je){return ur(this,Je,!1,!0)},get size(){return hr(this)},has:fr,add:xs,set:ms,delete:ws,clear:ys,forEach:Kn(!1,!0)},le={get(Je){return ur(this,Je,!0)},get size(){return hr(this,!0)},has(Je){return fr.call(this,Je,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:Kn(!0,!1)},Fe={get(Je){return ur(this,Je,!0,!0)},get size(){return hr(this,!0)},has(Je){return fr.call(this,Je,!0)},add:Qn("add"),set:Qn("set"),delete:Qn("delete"),clear:Qn("clear"),forEach:Kn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Je=>{T[Je]=Wi(Je,!1,!1),le[Je]=Wi(Je,!0,!1),oe[Je]=Wi(Je,!1,!0),Fe[Je]=Wi(Je,!0,!0)}),[T,le,oe,Fe]}var[Wr,Vi,eo,li]=zr();function dr(T,oe){const le=oe?T?li:eo:T?Vi:Wr;return(Fe,ve,Je)=>ve==="__v_isReactive"?!T:ve==="__v_isReadonly"?T:ve==="__v_raw"?Fe:Reflect.get(i.hasOwn(le,ve)&&ve in Fe?le:Fe,ve,Je)}var As={get:dr(!1,!1)},Gi={get:dr(!1,!0)},to={get:dr(!0,!1)},Es={get:dr(!0,!0)};function Cs(T,oe,le){const Fe=Y(le);if(Fe!==le&&oe.call(T,Fe)){const ve=i.toRawType(T);console.warn(`Reactive ${ve} contains both the raw and reactive versions of the same object${ve==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var bs=new WeakMap,Xi=new WeakMap,vs=new WeakMap,Ss=new WeakMap;function no(T){switch(T){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Is(T){return T.__v_skip||!Object.isExtensible(T)?0:no(i.toRawType(T))}function Yi(T){return T&&T.__v_isReadonly?T:gr(T,!1,gs,As,bs)}function io(T){return gr(T,!1,Js,Gi,Xi)}function Vr(T){return gr(T,!0,ps,to,vs)}function ro(T){return gr(T,!0,$s,Es,Ss)}function gr(T,oe,le,Fe,ve){if(!i.isObject(T))return console.warn(`value cannot be made reactive: ${String(T)}`),T;if(T.__v_raw&&!(oe&&T.__v_isReactive))return T;const Je=ve.get(T);if(Je)return Je;const xt=Is(T);if(xt===0)return T;const Jt=new Proxy(T,xt===2?Fe:le);return ve.set(T,Jt),Jt}function pr(T){return xr(T)?pr(T.__v_raw):!!(T&&T.__v_isReactive)}function xr(T){return!!(T&&T.__v_isReadonly)}function _s(T){return pr(T)||xr(T)}function Y(T){return T&&Y(T.__v_raw)||T}function be(T){return i.def(T,"__v_skip",!0),T}var Ne=T=>i.isObject(T)?Yi(T):T;function qe(T){return!!(T&&T.__v_isRef===!0)}function It(T){return En(T)}function Xt(T){return En(T,!0)}var An=class{constructor(T,oe=!1){this._shallow=oe,this.__v_isRef=!0,this._rawValue=oe?T:Y(T),this._value=oe?T:Ne(T)}get value(){return Ee(Y(this),"get","value"),this._value}set value(T){T=this._shallow?T:Y(T),i.hasChanged(T,this._rawValue)&&(this._rawValue=T,this._value=this._shallow?T:Ne(T),st(Y(this),"set","value",T))}};function En(T,oe=!1){return qe(T)?T:new An(T,oe)}function cn(T){st(Y(T),"set","value",T.value)}function Gr(T){return qe(T)?T.value:T}var mr={get:(T,oe,le)=>Gr(Reflect.get(T,oe,le)),set:(T,oe,le,Fe)=>{const ve=T[oe];return qe(ve)&&!qe(le)?(ve.value=le,!0):Reflect.set(T,oe,le,Fe)}};function Ts(T){return pr(T)?T:new Proxy(T,mr)}var wr=class{constructor(T){this.__v_isRef=!0;const{get:oe,set:le}=T(()=>Ee(this,"get","value"),()=>st(this,"set","value"));this._get=oe,this._set=le}get value(){return this._get()}set value(T){this._set(T)}};function so(T){return new wr(T)}function $l(T){_s(T)||console.warn("toRefs() expects a reactive object but received a plain one.");const oe=i.isArray(T)?new Array(T.length):{};for(const le in T)oe[le]=ea(T,le);return oe}var ec=class{constructor(T,oe){this._object=T,this._key=oe,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(T){this._object[this._key]=T}};function ea(T,oe){return qe(T[oe])?T[oe]:new ec(T,oe)}var tc=class{constructor(T,oe,le){this._setter=oe,this._dirty=!0,this.__v_isRef=!0,this.effect=y(T,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,st(Y(this),"set","value"))}}),this.__v_isReadonly=le}get value(){const T=Y(this);return T._dirty&&(T._value=this.effect(),T._dirty=!1),Ee(T,"get","value"),T._value}set value(T){this._setter(T)}};function nc(T){let oe,le;return i.isFunction(T)?(oe=T,le=()=>{console.warn("Write operation failed: computed value is readonly")}):(oe=T.get,le=T.set),new tc(oe,le,i.isFunction(T)||!T.set)}t.ITERATE_KEY=f,t.computed=nc,t.customRef=so,t.effect=y,t.enableTracking=K,t.isProxy=_s,t.isReactive=pr,t.isReadonly=xr,t.isRef=qe,t.markRaw=be,t.pauseTracking=he,t.proxyRefs=Ts,t.reactive=Yi,t.readonly=Vr,t.ref=It,t.resetTracking=Te,t.shallowReactive=io,t.shallowReadonly=ro,t.shallowRef=Xt,t.stop=C,t.toRaw=Y,t.toRef=ea,t.toRefs=$l,t.track=Ee,t.trigger=st,t.triggerRef=cn,t.unref=Gr}}),H=S({"node_modules/@vue/reactivity/index.js"(t,i){i.exports=I()}}),$={};m($,{Alpine:()=>n,default:()=>r}),c.exports=R($);var Q=!1,Z=!1,O=[],ee=-1;function U(t){D(t)}function D(t){O.includes(t)||O.push(t),W()}function z(t){let i=O.indexOf(t);i!==-1&&i>ee&&O.splice(i,1)}function W(){!Z&&!Q&&(Q=!0,queueMicrotask(Oe))}function Oe(){Q=!1,Z=!0;for(let t=0;t<O.length;t++)O[t](),ee=t;O.length=0,ee=-1,Z=!1}var Le,ae,Ie,lt,q=!0;function yt(t){q=!1,t(),q=!0}function ke(t){Le=t.reactive,Ie=t.release,ae=i=>t.effect(i,{scheduler:s=>{q?U(s):s()}}),lt=t.raw}function zt(t){ae=t}function Wt(t){let i=()=>{};return[a=>{let u=ae(a);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(f=>f())}),t._x_effects.add(u),i=()=>{u!==void 0&&(t._x_effects.delete(u),Ie(u))},u},()=>{i()}]}function Zt(t,i){let s=!0,a,u=ae(()=>{let f=t();JSON.stringify(f),s?a=f:queueMicrotask(()=>{i(f,a),a=f}),s=!1});return()=>Ie(u)}function et(t,i,s={}){t.dispatchEvent(new CustomEvent(i,{detail:s,bubbles:!0,composed:!0,cancelable:!0}))}function Se(t,i){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(u=>Se(u,i));return}let s=!1;if(i(t,()=>s=!0),s)return;let a=t.firstElementChild;for(;a;)Se(a,i),a=a.nextElementSibling}function Pe(t,...i){console.warn(`Alpine Warning: ${t}`,...i)}var Be=!1;function Xe(){Be&&Pe("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Be=!0,document.body||Pe("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),et(document,"alpine:init"),et(document,"alpine:initializing"),xn(),We(i=>te(i,Se)),xe(i=>re(i)),ye((i,s)=>{Rt(i,s).forEach(a=>a())});let t=i=>!ze(i.parentElement,!0);Array.from(document.querySelectorAll(_e().join(","))).filter(t).forEach(i=>{te(i)}),et(document,"alpine:initialized")}var se=[],bt=[];function de(){return se.map(t=>t())}function _e(){return se.concat(bt).map(t=>t())}function Ze(t){se.push(t)}function it(t){bt.push(t)}function ze(t,i=!1){return pe(t,s=>{if((i?_e():de()).some(u=>s.matches(u)))return!0})}function pe(t,i){if(t){if(i(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return pe(t.parentElement,i)}}function Kt(t){return de().some(i=>t.matches(i))}var At=[];function $e(t){At.push(t)}function te(t,i=Se,s=()=>{}){bi(()=>{i(t,(a,u)=>{s(a,u),At.forEach(f=>f(a,u)),Rt(a,a.attributes).forEach(f=>f()),a._x_ignore&&u()})})}function re(t,i=Se){i(t,s=>{ot(s),rt(s)})}var we=[],Ae=[],me=[];function We(t){me.push(t)}function xe(t,i){typeof i=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(i)):(i=t,Ae.push(i))}function ye(t){we.push(t)}function Ge(t,i,s){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[i]||(t._x_attributeCleanups[i]=[]),t._x_attributeCleanups[i].push(s)}function ot(t,i){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([s,a])=>{(i===void 0||i.includes(s))&&(a.forEach(u=>u()),delete t._x_attributeCleanups[s])})}function rt(t){if(t._x_cleanups)for(;t._x_cleanups.length;)t._x_cleanups.pop()()}var St=new MutationObserver(fi),dt=!1;function xn(){St.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),dt=!0}function Tn(){jt(),St.disconnect(),dt=!1}var Hn=[];function jt(){let t=St.takeRecords();Hn.push(()=>t.length>0&&fi(t));let i=Hn.length;queueMicrotask(()=>{if(Hn.length===i)for(;Hn.length>0;)Hn.shift()()})}function ue(t){if(!dt)return t();Tn();let i=t();return xn(),i}var Mt=!1,vt=[];function Ut(){Mt=!0}function ui(){Mt=!1,fi(vt),vt=[]}function fi(t){if(Mt){vt=vt.concat(t);return}let i=new Set,s=new Set,a=new Map,u=new Map;for(let f=0;f<t.length;f++)if(!t[f].target._x_ignoreMutationObserver&&(t[f].type==="childList"&&(t[f].addedNodes.forEach(p=>p.nodeType===1&&i.add(p)),t[f].removedNodes.forEach(p=>p.nodeType===1&&s.add(p))),t[f].type==="attributes")){let p=t[f].target,x=t[f].attributeName,y=t[f].oldValue,C=()=>{a.has(p)||a.set(p,[]),a.get(p).push({name:x,value:p.getAttribute(x)})},M=()=>{u.has(p)||u.set(p,[]),u.get(p).push(x)};p.hasAttribute(x)&&y===null?C():p.hasAttribute(x)?(M(),C()):M()}u.forEach((f,p)=>{ot(p,f)}),a.forEach((f,p)=>{we.forEach(x=>x(p,f))});for(let f of s)i.has(f)||(Ae.forEach(p=>p(f)),re(f));i.forEach(f=>{f._x_ignoreSelf=!0,f._x_ignore=!0});for(let f of i)s.has(f)||f.isConnected&&(delete f._x_ignoreSelf,delete f._x_ignore,me.forEach(p=>p(f)),f._x_ignore=!0,f._x_ignoreSelf=!0);i.forEach(f=>{delete f._x_ignoreSelf,delete f._x_ignore}),i=null,s=null,a=null,u=null}function Ri(t){return Xn(mn(t))}function gt(t,i,s){return t._x_dataStack=[i,...mn(s||t)],()=>{t._x_dataStack=t._x_dataStack.filter(a=>a!==i)}}function mn(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?mn(t.host):t.parentNode?mn(t.parentNode):[]}function Xn(t){return new Proxy({objects:t},Ji)}var Ji={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(i=>Object.keys(i))))},has({objects:t},i){return i==Symbol.unscopables?!1:t.some(s=>Object.prototype.hasOwnProperty.call(s,i)||Reflect.has(s,i))},get({objects:t},i,s){return i=="toJSON"?Nn:Reflect.get(t.find(a=>Reflect.has(a,i))||{},i,s)},set({objects:t},i,s,a){const u=t.find(p=>Object.prototype.hasOwnProperty.call(p,i))||t[t.length-1],f=Object.getOwnPropertyDescriptor(u,i);return f!=null&&f.set&&(f!=null&&f.get)?Reflect.set(u,i,s,a):Reflect.set(u,i,s)}};function Nn(){return Reflect.ownKeys(this).reduce((i,s)=>(i[s]=Reflect.get(this,s),i),{})}function Ci(t){let i=a=>typeof a=="object"&&!Array.isArray(a)&&a!==null,s=(a,u="")=>{Object.entries(Object.getOwnPropertyDescriptors(a)).forEach(([f,{value:p,enumerable:x}])=>{if(x===!1||p===void 0||typeof p=="object"&&p!==null&&p.__v_skip)return;let y=u===""?f:`${u}.${f}`;typeof p=="object"&&p!==null&&p._x_interceptor?a[f]=p.initialize(t,y,f):i(p)&&p!==a&&!(p instanceof Element)&&s(p,y)})};return s(t)}function rn(t,i=()=>{}){let s={initialValue:void 0,_x_interceptor:!0,initialize(a,u,f){return t(this.initialValue,()=>ti(a,u),p=>ni(a,u,p),u,f)}};return i(s),a=>{if(typeof a=="object"&&a!==null&&a._x_interceptor){let u=s.initialize.bind(s);s.initialize=(f,p,x)=>{let y=a.initialize(f,p,x);return s.initialValue=y,u(f,p,x)}}else s.initialValue=a;return s}}function ti(t,i){return i.split(".").reduce((s,a)=>s[a],t)}function ni(t,i,s){if(typeof i=="string"&&(i=i.split(".")),i.length===1)t[i[0]]=s;else{if(i.length===0)throw error;return t[i[0]]||(t[i[0]]={}),ni(t[i[0]],i.slice(1),s)}}var Sn={};function In(t,i){Sn[t]=i}function Dn(t,i){return Object.entries(Sn).forEach(([s,a])=>{let u=null;function f(){if(u)return u;{let[p,x]=pt(i);return u={interceptor:rn,...p},xe(i,x),u}}Object.defineProperty(t,`$${s}`,{get(){return a(i,f())},enumerable:!1})}),t}function Li(t,i,s,...a){try{return s(...a)}catch(u){N(u,t,i)}}function N(t,i,s=void 0){t=Object.assign(t??{message:"No error message given."},{el:i,expression:s}),console.warn(`Alpine Expression Error: ${t.message}

${s?'Expression: "'+s+`"

`:""}`,i),setTimeout(()=>{throw t},0)}var P=!0;function X(t){let i=P;P=!1;let s=t();return P=i,s}function k(t,i,s={}){let a;return ne(t,i)(u=>a=u,s),a}function ne(...t){return ge(...t)}var ge=Ce;function fe(t){ge=t}function Ce(t,i){let s={};Dn(s,t);let a=[s,...mn(t)],u=typeof i=="function"?Me(a,i):ct(a,i,t);return Li.bind(null,t,i,u)}function Me(t,i){return(s=()=>{},{scope:a={},params:u=[]}={})=>{let f=i.apply(Xn([a,...t]),u);mt(s,f)}}var De={};function nt(t,i){if(De[t])return De[t];let s=Object.getPrototypeOf(async function(){}).constructor,a=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,f=(()=>{try{let p=new s(["__self","scope"],`with (scope) { __self.result = ${a} }; __self.finished = true; return __self.result;`);return Object.defineProperty(p,"name",{value:`[Alpine] ${t}`}),p}catch(p){return N(p,i,t),Promise.resolve()}})();return De[t]=f,f}function ct(t,i,s){let a=nt(i,s);return(u=()=>{},{scope:f={},params:p=[]}={})=>{a.result=void 0,a.finished=!1;let x=Xn([f,...t]);if(typeof a=="function"){let y=a(a,x).catch(C=>N(C,s,i));a.finished?(mt(u,a.result,x,p,s),a.result=void 0):y.then(C=>{mt(u,C,x,p,s)}).catch(C=>N(C,s,i)).finally(()=>a.result=void 0)}}}function mt(t,i,s,a,u){if(P&&typeof i=="function"){let f=i.apply(s,a);f instanceof Promise?f.then(p=>mt(t,p,s,a)).catch(p=>N(p,u,i)):t(f)}else typeof i=="object"&&i instanceof Promise?i.then(f=>t(f)):t(i)}var He="x-";function Ue(t=""){return He+t}function Ve(t){He=t}var Dt={};function je(t,i){return Dt[t]=i,{before(s){if(!Dt[s]){console.warn(String.raw`Cannot find directive \`${s}\`. \`${t}\` will use the default order of execution`);return}const a=gi.indexOf(s);gi.splice(a>=0?a:gi.indexOf("DEFAULT"),0,t)}}}function Rt(t,i,s){if(i=Array.from(i),t._x_virtualDirectives){let f=Object.entries(t._x_virtualDirectives).map(([x,y])=>({name:x,value:y})),p=ie(f);f=f.map(x=>p.find(y=>y.name===x.name)?{name:`x-bind:${x.name}`,value:`"${x.value}"`}:x),i=i.concat(f)}let a={};return i.map(Rn((f,p)=>a[f]=p)).filter(gn).map(Bt(a,s)).sort(vi).map(f=>Et(t,f))}function ie(t){return Array.from(t).map(Rn()).filter(i=>!gn(i))}var dn=!1,at=new Map,wn=Symbol();function bi(t){dn=!0;let i=Symbol();wn=i,at.set(i,[]);let s=()=>{for(;at.get(i).length;)at.get(i).shift()();at.delete(i)},a=()=>{dn=!1,s()};t(s),a()}function pt(t){let i=[],s=x=>i.push(x),[a,u]=Wt(t);return i.push(u),[{Alpine:Hi,effect:a,cleanup:s,evaluateLater:ne.bind(ne,t),evaluate:k.bind(k,t)},()=>i.forEach(x=>x())]}function Et(t,i){let s=()=>{},a=Dt[i.type]||s,[u,f]=pt(t);Ge(t,i.original,f);let p=()=>{t._x_ignore||t._x_ignoreSelf||(a.inline&&a.inline(t,i,u),a=a.bind(a,t,i,u),dn?at.get(wn).push(a):a())};return p.runCleanups=f,p}var ht=(t,i)=>({name:s,value:a})=>(s.startsWith(t)&&(s=s.replace(t,i)),{name:s,value:a}),hi=t=>t;function Rn(t=()=>{}){return({name:i,value:s})=>{let{name:a,value:u}=di.reduce((f,p)=>p(f),{name:i,value:s});return a!==i&&t(a,i),{name:a,value:u}}}var di=[];function Lt(t){di.push(t)}function gn({name:t}){return Yn().test(t)}var Yn=()=>new RegExp(`^${He}([^:^.]+)\\b`);function Bt(t,i){return({name:s,value:a})=>{let u=s.match(Yn()),f=s.match(/:([a-zA-Z0-9\-_:]+)/),p=s.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],x=i||t[s]||s;return{type:u?u[1]:null,value:f?f[1]:null,modifiers:p.map(y=>y.replace(".","")),expression:a,original:x}}}var Ln="DEFAULT",gi=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Ln,"teleport"];function vi(t,i){let s=gi.indexOf(t.type)===-1?Ln:t.type,a=gi.indexOf(i.type)===-1?Ln:i.type;return gi.indexOf(s)-gi.indexOf(a)}var _t=[],an=!1;function G(t=()=>{}){return queueMicrotask(()=>{an||setTimeout(()=>{_()})}),new Promise(i=>{_t.push(()=>{t(),i()})})}function _(){for(an=!1;_t.length;)_t.shift()()}function Ye(){an=!0}function $t(t,i){return Array.isArray(i)?On(t,i.join(" ")):typeof i=="object"&&i!==null?Fs(t,i):typeof i=="function"?$t(t,i()):On(t,i)}function On(t,i){let s=u=>u.split(" ").filter(f=>!t.classList.contains(f)).filter(Boolean),a=u=>(t.classList.add(...u),()=>{t.classList.remove(...u)});return i=i===!0?i="":i||"",a(s(i))}function Fs(t,i){let s=x=>x.split(" ").filter(Boolean),a=Object.entries(i).flatMap(([x,y])=>y?s(x):!1).filter(Boolean),u=Object.entries(i).flatMap(([x,y])=>y?!1:s(x)).filter(Boolean),f=[],p=[];return u.forEach(x=>{t.classList.contains(x)&&(t.classList.remove(x),p.push(x))}),a.forEach(x=>{t.classList.contains(x)||(t.classList.add(x),f.push(x))}),()=>{p.forEach(x=>t.classList.add(x)),f.forEach(x=>t.classList.remove(x))}}function Si(t,i){return typeof i=="object"&&i!==null?Bn(t,i):Qe(t,i)}function Bn(t,i){let s={};return Object.entries(i).forEach(([a,u])=>{s[a]=t.style[a],a.startsWith("--")||(a=Vt(a)),t.style.setProperty(a,u)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Si(t,s)}}function Qe(t,i){let s=t.getAttribute("style",i);return t.setAttribute("style",i),()=>{t.setAttribute("style",s||"")}}function Vt(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $i(t,i=()=>{}){let s=!1;return function(){s?i.apply(this,arguments):(s=!0,t.apply(this,arguments))}}je("transition",(t,{value:i,modifiers:s,expression:a},{evaluate:u})=>{typeof a=="function"&&(a=u(a)),a!==!1&&(!a||typeof a=="boolean"?Nr(t,s,i):Us(t,a,i))});function Us(t,i,s){Bi(t,$t,""),{enter:u=>{t._x_transition.enter.during=u},"enter-start":u=>{t._x_transition.enter.start=u},"enter-end":u=>{t._x_transition.enter.end=u},leave:u=>{t._x_transition.leave.during=u},"leave-start":u=>{t._x_transition.leave.start=u},"leave-end":u=>{t._x_transition.leave.end=u}}[s](i)}function Nr(t,i,s){Bi(t,Si);let a=!i.includes("in")&&!i.includes("out")&&!s,u=a||i.includes("in")||["enter"].includes(s),f=a||i.includes("out")||["leave"].includes(s);i.includes("in")&&!a&&(i=i.filter((Te,Ee)=>Ee<i.indexOf("out"))),i.includes("out")&&!a&&(i=i.filter((Te,Ee)=>Ee>i.indexOf("out")));let p=!i.includes("opacity")&&!i.includes("scale"),x=p||i.includes("opacity"),y=p||i.includes("scale"),C=x?0:1,M=y?qn(i,"scale",95)/100:1,L=qn(i,"delay",0)/1e3,F=qn(i,"origin","center"),V="opacity, transform",ce=qn(i,"duration",150)/1e3,he=qn(i,"duration",75)/1e3,K="cubic-bezier(0.4, 0.0, 0.2, 1)";u&&(t._x_transition.enter.during={transformOrigin:F,transitionDelay:`${L}s`,transitionProperty:V,transitionDuration:`${ce}s`,transitionTimingFunction:K},t._x_transition.enter.start={opacity:C,transform:`scale(${M})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),f&&(t._x_transition.leave.during={transformOrigin:F,transitionDelay:`${L}s`,transitionProperty:V,transitionDuration:`${he}s`,transitionTimingFunction:K},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:C,transform:`scale(${M})`})}function Bi(t,i,s={}){t._x_transition||(t._x_transition={enter:{during:s,start:s,end:s},leave:{during:s,start:s,end:s},in(a=()=>{},u=()=>{}){Or(t,i,{during:this.enter.during,start:this.enter.start,end:this.enter.end},a,u)},out(a=()=>{},u=()=>{}){Or(t,i,{during:this.leave.during,start:this.leave.start,end:this.leave.end},a,u)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,i,s,a){const u=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let f=()=>u(s);if(i){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(s):f():t._x_transition?t._x_transition.in(s):f();return}t._x_hidePromise=t._x_transition?new Promise((p,x)=>{t._x_transition.out(()=>{},()=>p(a)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>x({isFromCancelledTransition:!0}))}):Promise.resolve(a),queueMicrotask(()=>{let p=er(t);p?(p._x_hideChildren||(p._x_hideChildren=[]),p._x_hideChildren.push(t)):u(()=>{let x=y=>{let C=Promise.all([y._x_hidePromise,...(y._x_hideChildren||[]).map(x)]).then(([M])=>M());return delete y._x_hidePromise,delete y._x_hideChildren,C};x(t).catch(y=>{if(!y.isFromCancelledTransition)throw y})})})};function er(t){let i=t.parentNode;if(i)return i._x_hidePromise?i:er(i)}function Or(t,i,{during:s,start:a,end:u}={},f=()=>{},p=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(s).length===0&&Object.keys(a).length===0&&Object.keys(u).length===0){f(),p();return}let x,y,C;ln(t,{start(){x=i(t,a)},during(){y=i(t,s)},before:f,end(){x(),C=i(t,u)},after:p,cleanup(){y(),C()}})}function ln(t,i){let s,a,u,f=$i(()=>{ue(()=>{s=!0,a||i.before(),u||(i.end(),_()),i.after(),t.isConnected&&i.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(p){this.beforeCancels.push(p)},cancel:$i(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();f()}),finish:f},ue(()=>{i.start(),i.during()}),Ye(),requestAnimationFrame(()=>{if(s)return;let p=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,x=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;p===0&&(p=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),ue(()=>{i.before()}),a=!0,requestAnimationFrame(()=>{s||(ue(()=>{i.end()}),_(),setTimeout(t._x_transitioning.finish,p+x),u=!0)})})}function qn(t,i,s){if(t.indexOf(i)===-1)return s;const a=t[t.indexOf(i)+1];if(!a||i==="scale"&&isNaN(a))return s;if(i==="duration"||i==="delay"){let u=a.match(/([0-9]+)ms/);if(u)return u[1]}return i==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(i)+2])?[a,t[t.indexOf(i)+2]].join(" "):a}var yn=!1;function Ke(t,i=()=>{}){return(...s)=>yn?i(...s):t(...s)}function js(t){return(...i)=>yn&&t(...i)}var ut=[];function en(t){ut.push(t)}function Hs(t,i){ut.forEach(s=>s(t,i)),yn=!0,Qr(()=>{te(i,(s,a)=>{a(s,()=>{})})}),yn=!1}var Pi=!1;function Kr(t,i){i._x_dataStack||(i._x_dataStack=t._x_dataStack),yn=!0,Pi=!0,Qr(()=>{pi(i)}),yn=!1,Pi=!1}function pi(t){let i=!1;te(t,(a,u)=>{Se(a,(f,p)=>{if(i&&Kt(f))return p();i=!0,u(f,p)})})}function Qr(t){let i=ae;zt((s,a)=>{let u=i(s);return Ie(u),()=>{}}),t(),zt(i)}function Ii(t,i,s,a=[]){switch(t._x_bindings||(t._x_bindings=Le({})),t._x_bindings[i]=s,i=a.includes("camel")?ts(i):i,i){case"value":ki(t,s);break;case"style":Jr(t,s);break;case"class":Fi(t,s);break;case"selected":case"checked":Ui(t,i,s);break;default:_i(t,i,s);break}}function ki(t,i){if(t.type==="radio")t.attributes.value===void 0&&(t.value=i),window.fromModel&&(typeof i=="boolean"?t.checked=tr(t.value)===i:t.checked=ns(t.value,i));else if(t.type==="checkbox")Number.isInteger(i)?t.value=i:!Array.isArray(i)&&typeof i!="boolean"&&![null,void 0].includes(i)?t.value=String(i):Array.isArray(i)?t.checked=i.some(s=>ns(s,t.value)):t.checked=!!i;else if(t.tagName==="SELECT")es(t,i);else{if(t.value===i)return;t.value=i===void 0?"":i}}function Fi(t,i){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=$t(t,i)}function Jr(t,i){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Si(t,i)}function Ui(t,i,s){_i(t,i,s),$r(t,i,s)}function _i(t,i,s){[null,void 0,!1].includes(s)&&Tt(i)?t.removeAttribute(i):(is(i)&&(s=i),_n(t,i,s))}function _n(t,i,s){t.getAttribute(i)!=s&&t.setAttribute(i,s)}function $r(t,i,s){t[i]!==s&&(t[i]=s)}function es(t,i){const s=[].concat(i).map(a=>a+"");Array.from(t.options).forEach(a=>{a.selected=s.includes(a.value)})}function ts(t){return t.toLowerCase().replace(/-(\w)/g,(i,s)=>s.toUpperCase())}function ns(t,i){return t==i}function tr(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}function is(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function Tt(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function rs(t,i,s){return t._x_bindings&&t._x_bindings[i]!==void 0?t._x_bindings[i]:Zn(t,i,s)}function nr(t,i,s,a=!0){if(t._x_bindings&&t._x_bindings[i]!==void 0)return t._x_bindings[i];if(t._x_inlineBindings&&t._x_inlineBindings[i]!==void 0){let u=t._x_inlineBindings[i];return u.extract=a,X(()=>k(t,u.expression))}return Zn(t,i,s)}function Zn(t,i,s){let a=t.getAttribute(i);return a===null?typeof s=="function"?s():s:a===""?!0:is(i)?!![i,"true"].includes(a):a}function ss(t,i){var s;return function(){var a=this,u=arguments,f=function(){s=null,t.apply(a,u)};clearTimeout(s),s=setTimeout(f,i)}}function J(t,i){let s;return function(){let a=this,u=arguments;s||(t.apply(a,u),s=!0,setTimeout(()=>s=!1,i))}}function ft({get:t,set:i},{get:s,set:a}){let u=!0,f,p=ae(()=>{let x=t(),y=s();if(u)a(sn(x)),u=!1;else{let C=JSON.stringify(x),M=JSON.stringify(y);C!==f?a(sn(x)):C!==M&&i(sn(y))}f=JSON.stringify(t()),JSON.stringify(s())});return()=>{Ie(p)}}function sn(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function ir(t){(Array.isArray(t)?t:[t]).forEach(s=>s(Hi))}var ii={},os=!1;function zs(t,i){if(os||(ii=Le(ii),os=!0),i===void 0)return ii[t];ii[t]=i,typeof i=="object"&&i!==null&&i.hasOwnProperty("init")&&typeof i.init=="function"&&ii[t].init(),Ci(ii[t])}function Ws(){return ii}var rr={};function on(t,i){let s=typeof i!="function"?()=>i:i;return t instanceof Element?Gt(t,s()):(rr[t]=s,()=>{})}function Mr(t){return Object.entries(rr).forEach(([i,s])=>{Object.defineProperty(t,i,{get(){return(...a)=>s(...a)}})}),t}function Gt(t,i,s){let a=[];for(;a.length;)a.pop()();let u=Object.entries(i).map(([p,x])=>({name:p,value:x})),f=ie(u);return u=u.map(p=>f.find(x=>x.name===p.name)?{name:`x-bind:${p.name}`,value:`"${p.value}"`}:p),Rt(t,u,s).map(p=>{a.push(p.runCleanups),p()}),()=>{for(;a.length;)a.pop()()}}var ji={};function xi(t,i){ji[t]=i}function Pt(t,i){return Object.entries(ji).forEach(([s,a])=>{Object.defineProperty(t,s,{get(){return(...u)=>a.bind(i)(...u)},enumerable:!1})}),t}var tt={get reactive(){return Le},get release(){return Ie},get effect(){return ae},get raw(){return lt},version:"3.13.7",flushAndStopDeferringMutations:ui,dontAutoEvaluateFunctions:X,disableEffectScheduling:yt,startObservingMutations:xn,stopObservingMutations:Tn,setReactivityEngine:ke,onAttributeRemoved:Ge,onAttributesAdded:ye,closestDataStack:mn,skipDuringClone:Ke,onlyDuringClone:js,addRootSelector:Ze,addInitSelector:it,interceptClone:en,addScopeToNode:gt,deferMutations:Ut,mapAttributes:Lt,evaluateLater:ne,interceptInit:$e,setEvaluator:fe,mergeProxies:Xn,extractProp:nr,findClosest:pe,onElRemoved:xe,closestRoot:ze,destroyTree:re,interceptor:rn,transition:Or,setStyles:Si,mutateDom:ue,directive:je,entangle:ft,throttle:J,debounce:ss,evaluate:k,initTree:te,nextTick:G,prefixed:Ue,prefix:Ve,plugin:ir,magic:In,store:zs,start:Xe,clone:Kr,cloneNode:Hs,bound:rs,$data:Ri,watch:Zt,walk:Se,data:xi,bind:on},Hi=tt,Nt=v(H());In("nextTick",()=>G),In("dispatch",t=>et.bind(et,t)),In("watch",(t,{evaluateLater:i,cleanup:s})=>(a,u)=>{let f=i(a),x=Zt(()=>{let y;return f(C=>y=C),y},u);s(x)}),In("store",Ws),In("data",t=>Ri(t)),In("root",t=>ze(t)),In("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Xn(mi(t))),t._x_refs_proxy));function mi(t){let i=[];return pe(t,s=>{s._x_refs&&i.push(s._x_refs)}),i}var ri={};function as(t){return ri[t]||(ri[t]=0),++ri[t]}function zn(t,i){return pe(t,s=>{if(s._x_ids&&s._x_ids[i])return!0})}function Dr(t,i){t._x_ids||(t._x_ids={}),t._x_ids[i]||(t._x_ids[i]=as(i))}In("id",(t,{cleanup:i})=>(s,a=null)=>{let u=`${s}${a?`-${a}`:""}`;return ls(t,u,i,()=>{let f=zn(t,s),p=f?f._x_ids[s]:as(s);return a?`${s}-${p}-${a}`:`${s}-${p}`})}),en((t,i)=>{t._x_id&&(i._x_id=t._x_id)});function ls(t,i,s,a){if(t._x_id||(t._x_id={}),t._x_id[i])return t._x_id[i];let u=a();return t._x_id[i]=u,s(()=>{delete t._x_id[i]}),u}In("el",t=>t),sr("Focus","focus","focus"),sr("Persist","persist","persist");function sr(t,i,s){In(i,a=>Pe(`You can't use [$${i}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${s}`,a))}je("modelable",(t,{expression:i},{effect:s,evaluateLater:a,cleanup:u})=>{let f=a(i),p=()=>{let M;return f(L=>M=L),M},x=a(`${i} = __placeholder`),y=M=>x(()=>{},{scope:{__placeholder:M}}),C=p();y(C),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let M=t._x_model.get,L=t._x_model.set,F=ft({get(){return M()},set(V){L(V)}},{get(){return p()},set(V){y(V)}});u(F)})}),je("teleport",(t,{modifiers:i,expression:s},{cleanup:a})=>{t.tagName.toLowerCase()!=="template"&&Pe("x-teleport can only be used on a <template> tag",t);let u=Rr(s),f=t.content.cloneNode(!0).firstElementChild;t._x_teleport=f,f._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),f.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(x=>{f.addEventListener(x,y=>{y.stopPropagation(),t.dispatchEvent(new y.constructor(y.type,y))})}),gt(f,{},t);let p=(x,y,C)=>{C.includes("prepend")?y.parentNode.insertBefore(x,y):C.includes("append")?y.parentNode.insertBefore(x,y.nextSibling):y.appendChild(x)};ue(()=>{p(f,u,i),te(f),f._x_ignore=!0}),t._x_teleportPutBack=()=>{let x=Rr(s);ue(()=>{p(t._x_teleport,x,i)})},a(()=>f.remove())});var cs=document.createElement("div");function Rr(t){let i=Ke(()=>document.querySelector(t),()=>cs)();return i||Pe(`Cannot find x-teleport element for selector: "${t}"`),i}var us=()=>{};us.inline=(t,{modifiers:i},{cleanup:s})=>{i.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,s(()=>{i.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})},je("ignore",us),je("effect",Ke((t,{expression:i},{effect:s})=>{s(ne(t,i))}));function si(t,i,s,a){let u=t,f=y=>a(y),p={},x=(y,C)=>M=>C(y,M);if(s.includes("dot")&&(i=Lr(i)),s.includes("camel")&&(i=Vs(i)),s.includes("passive")&&(p.passive=!0),s.includes("capture")&&(p.capture=!0),s.includes("window")&&(u=window),s.includes("document")&&(u=document),s.includes("debounce")){let y=s[s.indexOf("debounce")+1]||"invalid-wait",C=oi(y.split("ms")[0])?Number(y.split("ms")[0]):250;f=ss(f,C)}if(s.includes("throttle")){let y=s[s.indexOf("throttle")+1]||"invalid-wait",C=oi(y.split("ms")[0])?Number(y.split("ms")[0]):250;f=J(f,C)}return s.includes("prevent")&&(f=x(f,(y,C)=>{C.preventDefault(),y(C)})),s.includes("stop")&&(f=x(f,(y,C)=>{C.stopPropagation(),y(C)})),s.includes("self")&&(f=x(f,(y,C)=>{C.target===t&&y(C)})),(s.includes("away")||s.includes("outside"))&&(u=document,f=x(f,(y,C)=>{t.contains(C.target)||C.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&y(C))})),s.includes("once")&&(f=x(f,(y,C)=>{y(C),u.removeEventListener(i,f,p)})),f=x(f,(y,C)=>{ai(i)&&or(C,s)||y(C)}),u.addEventListener(i,f,p),()=>{u.removeEventListener(i,f,p)}}function Lr(t){return t.replace(/-/g,".")}function Vs(t){return t.toLowerCase().replace(/-(\w)/g,(i,s)=>s.toUpperCase())}function oi(t){return!Array.isArray(t)&&!isNaN(t)}function Gs(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function ai(t){return["keydown","keyup"].includes(t)}function or(t,i){let s=i.filter(f=>!["window","document","prevent","stop","once","capture"].includes(f));if(s.includes("debounce")){let f=s.indexOf("debounce");s.splice(f,oi((s[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(s.includes("throttle")){let f=s.indexOf("throttle");s.splice(f,oi((s[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(s.length===0||s.length===1&&Mn(t.key).includes(s[0]))return!1;const u=["ctrl","shift","alt","meta","cmd","super"].filter(f=>s.includes(f));return s=s.filter(f=>!u.includes(f)),!(u.length>0&&u.filter(p=>((p==="cmd"||p==="super")&&(p="meta"),t[`${p}Key`])).length===u.length&&Mn(t.key).includes(s[0]))}function Mn(t){if(!t)return[];t=Gs(t);let i={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return i[t]=t,Object.keys(i).map(s=>{if(i[s]===t)return s}).filter(s=>s)}je("model",(t,{modifiers:i,expression:s},{effect:a,cleanup:u})=>{let f=t;i.includes("parent")&&(f=t.parentNode);let p=ne(f,s),x;typeof s=="string"?x=ne(f,`${s} = __placeholder`):typeof s=="function"&&typeof s()=="string"?x=ne(f,`${s()} = __placeholder`):x=()=>{};let y=()=>{let F;return p(V=>F=V),hs(F)?F.get():F},C=F=>{let V;p(ce=>V=ce),hs(V)?V.set(F):x(()=>{},{scope:{__placeholder:F}})};typeof s=="string"&&t.type==="radio"&&ue(()=>{t.hasAttribute("name")||t.setAttribute("name",s)});var M=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||i.includes("lazy")?"change":"input";let L=yn?()=>{}:si(t,M,i,F=>{C(fs(t,i,F,y()))});if(i.includes("fill")&&([void 0,null,""].includes(y())||t.type==="checkbox"&&Array.isArray(y()))&&t.dispatchEvent(new Event(M,{})),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=L,u(()=>t._x_removeModelListeners.default()),t.form){let F=si(t.form,"reset",[],V=>{G(()=>t._x_model&&t._x_model.set(t.value))});u(()=>F())}t._x_model={get(){return y()},set(F){C(F)}},t._x_forceModelUpdate=F=>{F===void 0&&typeof s=="string"&&s.match(/\./)&&(F=""),window.fromModel=!0,ue(()=>Ii(t,"value",F)),delete window.fromModel},a(()=>{let F=y();i.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(F)})});function fs(t,i,s,a){return ue(()=>{if(s instanceof CustomEvent&&s.detail!==void 0)return s.detail!==null&&s.detail!==void 0?s.detail:s.target.value;if(t.type==="checkbox")if(Array.isArray(a)){let u=null;return i.includes("number")?u=Pn(s.target.value):i.includes("boolean")?u=tr(s.target.value):u=s.target.value,s.target.checked?a.concat([u]):a.filter(f=>!Xs(f,u))}else return s.target.checked;else return t.tagName.toLowerCase()==="select"&&t.multiple?i.includes("number")?Array.from(s.target.selectedOptions).map(u=>{let f=u.value||u.text;return Pn(f)}):i.includes("boolean")?Array.from(s.target.selectedOptions).map(u=>{let f=u.value||u.text;return tr(f)}):Array.from(s.target.selectedOptions).map(u=>u.value||u.text):i.includes("number")?Pn(s.target.value):i.includes("boolean")?tr(s.target.value):i.includes("trim")?s.target.value.trim():s.target.value})}function Pn(t){let i=t?parseFloat(t):null;return Br(i)?i:t}function Xs(t,i){return t==i}function Br(t){return!Array.isArray(t)&&!isNaN(t)}function hs(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}je("cloak",t=>queueMicrotask(()=>ue(()=>t.removeAttribute(Ue("cloak"))))),it(()=>`[${Ue("init")}]`),je("init",Ke((t,{expression:i},{evaluate:s})=>typeof i=="string"?!!i.trim()&&s(i,{},!1):s(i,{},!1))),je("text",(t,{expression:i},{effect:s,evaluateLater:a})=>{let u=a(i);s(()=>{u(f=>{ue(()=>{t.textContent=f})})})}),je("html",(t,{expression:i},{effect:s,evaluateLater:a})=>{let u=a(i);s(()=>{u(f=>{ue(()=>{t.innerHTML=f,t._x_ignoreSelf=!0,te(t),delete t._x_ignoreSelf})})})}),Lt(ht(":",hi(Ue("bind:"))));var Pr=(t,{value:i,modifiers:s,expression:a,original:u},{effect:f})=>{if(!i){let x={};Mr(x),ne(t,a)(C=>{Gt(t,C,u)},{scope:x});return}if(i==="key")return Wn(t,a);if(t._x_inlineBindings&&t._x_inlineBindings[i]&&t._x_inlineBindings[i].extract)return;let p=ne(t,a);f(()=>p(x=>{x===void 0&&typeof a=="string"&&a.match(/\./)&&(x=""),ue(()=>Ii(t,i,x,s))}))};Pr.inline=(t,{value:i,modifiers:s,expression:a})=>{i&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[i]={expression:a,extract:!1})},je("bind",Pr);function Wn(t,i){t._x_keyExpression=i}Ze(()=>`[${Ue("data")}]`),je("data",(t,{expression:i},{cleanup:s})=>{if(Ys(t))return;i=i===""?"{}":i;let a={};Dn(a,t);let u={};Pt(u,a);let f=k(t,i,{scope:u});(f===void 0||f===!0)&&(f={}),Dn(f,t);let p=Le(f);Ci(p);let x=gt(t,p);p.init&&k(t,p.init),s(()=>{p.destroy&&k(t,p.destroy),x()})}),en((t,i)=>{t._x_dataStack&&(i._x_dataStack=t._x_dataStack,i.setAttribute("data-has-alpine-state",!0))});function Ys(t){return yn?Pi?!0:t.hasAttribute("data-has-alpine-state"):!1}je("show",(t,{modifiers:i,expression:s},{effect:a})=>{let u=ne(t,s);t._x_doHide||(t._x_doHide=()=>{ue(()=>{t.style.setProperty("display","none",i.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{ue(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let f=()=>{t._x_doHide(),t._x_isShown=!1},p=()=>{t._x_doShow(),t._x_isShown=!0},x=()=>setTimeout(p),y=$i(L=>L?p():f(),L=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,L,p,f):L?x():f()}),C,M=!0;a(()=>u(L=>{!M&&L===C||(i.includes("immediate")&&(L?x():f()),y(L),C=L,M=!1)}))}),je("for",(t,{expression:i},{effect:s,cleanup:a})=>{let u=zi(i),f=ne(t,u.items),p=ne(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},s(()=>kr(t,u,f,p)),a(()=>{Object.values(t._x_lookup).forEach(x=>x.remove()),delete t._x_prevKeys,delete t._x_lookup})});function kr(t,i,s,a){let u=p=>typeof p=="object"&&!Array.isArray(p),f=t;s(p=>{ar(p)&&p>=0&&(p=Array.from(Array(p).keys(),K=>K+1)),p===void 0&&(p=[]);let x=t._x_lookup,y=t._x_prevKeys,C=[],M=[];if(u(p))p=Object.entries(p).map(([K,Te])=>{let Ee=Ct(i,Te,K,p);a(st=>{M.includes(st)&&Pe("Duplicate key on x-for",t),M.push(st)},{scope:{index:K,...Ee}}),C.push(Ee)});else for(let K=0;K<p.length;K++){let Te=Ct(i,p[K],K,p);a(Ee=>{M.includes(Ee)&&Pe("Duplicate key on x-for",t),M.push(Ee)},{scope:{index:K,...Te}}),C.push(Te)}let L=[],F=[],V=[],ce=[];for(let K=0;K<y.length;K++){let Te=y[K];M.indexOf(Te)===-1&&V.push(Te)}y=y.filter(K=>!V.includes(K));let he="template";for(let K=0;K<M.length;K++){let Te=M[K],Ee=y.indexOf(Te);if(Ee===-1)y.splice(K,0,Te),L.push([he,K]);else if(Ee!==K){let st=y.splice(K,1)[0],kt=y.splice(Ee-1,1)[0];y.splice(K,0,kt),y.splice(Ee,0,st),F.push([st,kt])}else ce.push(Te);he=Te}for(let K=0;K<V.length;K++){let Te=V[K];x[Te]._x_effects&&x[Te]._x_effects.forEach(z),x[Te].remove(),x[Te]=null,delete x[Te]}for(let K=0;K<F.length;K++){let[Te,Ee]=F[K],st=x[Te],kt=x[Ee],Ht=document.createElement("div");ue(()=>{kt||Pe('x-for ":key" is undefined or invalid',f,Ee,x),kt.after(Ht),st.after(kt),kt._x_currentIfEl&&kt.after(kt._x_currentIfEl),Ht.before(st),st._x_currentIfEl&&st.after(st._x_currentIfEl),Ht.remove()}),kt._x_refreshXForScope(C[M.indexOf(Ee)])}for(let K=0;K<L.length;K++){let[Te,Ee]=L[K],st=Te==="template"?f:x[Te];st._x_currentIfEl&&(st=st._x_currentIfEl);let kt=C[Ee],Ht=M[Ee],wt=document.importNode(f.content,!0).firstElementChild,Qt=Le(kt);gt(wt,Qt,f),wt._x_refreshXForScope=hn=>{Object.entries(hn).forEach(([Vn,kn])=>{Qt[Vn]=kn})},ue(()=>{st.after(wt),Ke(()=>te(wt))()}),typeof Ht=="object"&&Pe("x-for key cannot be an object, it must be a string or an integer",f),x[Ht]=wt}for(let K=0;K<ce.length;K++)x[ce[K]]._x_refreshXForScope(C[M.indexOf(ce[K])]);f._x_prevKeys=M})}function zi(t){let i=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,s=/^\s*\(|\)\s*$/g,a=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,u=t.match(a);if(!u)return;let f={};f.items=u[2].trim();let p=u[1].replace(s,"").trim(),x=p.match(i);return x?(f.item=p.replace(i,"").trim(),f.index=x[1].trim(),x[2]&&(f.collection=x[2].trim())):f.item=p,f}function Ct(t,i,s,a){let u={};return/^\[.*\]$/.test(t.item)&&Array.isArray(i)?t.item.replace("[","").replace("]","").split(",").map(p=>p.trim()).forEach((p,x)=>{u[p]=i[x]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(i)&&typeof i=="object"?t.item.replace("{","").replace("}","").split(",").map(p=>p.trim()).forEach(p=>{u[p]=i[p]}):u[t.item]=i,t.index&&(u[t.index]=s),t.collection&&(u[t.collection]=a),u}function ar(t){return!Array.isArray(t)&&!isNaN(t)}function A(){}A.inline=(t,{expression:i},{cleanup:s})=>{let a=ze(t);a._x_refs||(a._x_refs={}),a._x_refs[i]=t,s(()=>delete a._x_refs[i])},je("ref",A),je("if",(t,{expression:i},{effect:s,cleanup:a})=>{t.tagName.toLowerCase()!=="template"&&Pe("x-if can only be used on a <template> tag",t);let u=ne(t,i),f=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let x=t.content.cloneNode(!0).firstElementChild;return gt(x,{},t),ue(()=>{t.after(x),Ke(()=>te(x))()}),t._x_currentIfEl=x,t._x_undoIf=()=>{Se(x,y=>{y._x_effects&&y._x_effects.forEach(z)}),x.remove(),delete t._x_currentIfEl},x},p=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};s(()=>u(x=>{x?f():p()})),a(()=>t._x_undoIf&&t._x_undoIf())}),je("id",(t,{expression:i},{evaluate:s})=>{s(i).forEach(u=>Dr(t,u))}),en((t,i)=>{t._x_ids&&(i._x_ids=t._x_ids)}),Lt(ht("@",hi(Ue("on:")))),je("on",Ke((t,{value:i,modifiers:s,expression:a},{cleanup:u})=>{let f=a?ne(t,a):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(i)||t._x_forwardEvents.push(i));let p=si(t,i,s,x=>{f(()=>{},{scope:{$event:x},params:[x]})});u(()=>p())})),e("Collapse","collapse","collapse"),e("Intersect","intersect","intersect"),e("Focus","trap","focus"),e("Mask","mask","mask");function e(t,i,s){je(i,a=>Pe(`You can't use [x-${i}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${s}`,a))}Hi.setEvaluator(Ce),Hi.setReactivityEngine({reactive:Nt.reactive,effect:Nt.effect,release:Nt.stop,raw:Nt.toRaw});var n=Hi,r=n}}),cc=Ei({"../alpine/packages/collapse/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(j,B)=>{for(var I in B)l(j,I,{get:B[I],enumerable:!0})},E=(j,B,I,H)=>{if(B&&typeof B=="object"||typeof B=="function")for(let $ of g(B))!d.call(j,$)&&$!==I&&l(j,$,{get:()=>B[$],enumerable:!(H=h(B,$))||H.enumerable});return j},S=j=>E(l({},"__esModule",{value:!0}),j),m={};w(m,{collapse:()=>b,default:()=>R}),c.exports=S(m);function b(j){j.directive("collapse",B),B.inline=(I,{modifiers:H})=>{H.includes("min")&&(I._x_doShow=()=>{},I._x_doHide=()=>{})};function B(I,{modifiers:H}){let $=v(H,"duration",250)/1e3,Q=v(H,"min",0),Z=!H.includes("min");I._x_isShown||(I.style.height=`${Q}px`),!I._x_isShown&&Z&&(I.hidden=!0),I._x_isShown||(I.style.overflow="hidden");let O=(U,D)=>{let z=j.setStyles(U,D);return D.height?()=>{}:z},ee={transitionProperty:"height",transitionDuration:`${$}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};I._x_transition={in(U=()=>{},D=()=>{}){Z&&(I.hidden=!1),Z&&(I.style.display=null);let z=I.getBoundingClientRect().height;I.style.height="auto";let W=I.getBoundingClientRect().height;z===W&&(z=Q),j.transition(I,j.setStyles,{during:ee,start:{height:z+"px"},end:{height:W+"px"}},()=>I._x_isShown=!0,()=>{I.getBoundingClientRect().height==W&&(I.style.overflow=null)})},out(U=()=>{},D=()=>{}){let z=I.getBoundingClientRect().height;j.transition(I,O,{during:ee,start:{height:z+"px"},end:{height:Q+"px"}},()=>I.style.overflow="hidden",()=>{I._x_isShown=!1,I.style.height==`${Q}px`&&Z&&(I.style.display="none",I.hidden=!0)})}}}}function v(j,B,I){if(j.indexOf(B)===-1)return I;const H=j[j.indexOf(B)+1];if(!H)return I;if(B==="duration"){let $=H.match(/([0-9]+)ms/);if($)return $[1]}if(B==="min"){let $=H.match(/([0-9]+)px/);if($)return $[1]}return H}var R=b}}),uc=Ei({"../alpine/packages/focus/dist/module.cjs.js"(o,c){var l=Object.create,h=Object.defineProperty,g=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,w=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,S=(D,z)=>function(){return z||(0,D[d(D)[0]])((z={exports:{}}).exports,z),z.exports},m=(D,z)=>{for(var W in z)h(D,W,{get:z[W],enumerable:!0})},b=(D,z,W,Oe)=>{if(z&&typeof z=="object"||typeof z=="function")for(let Le of d(z))!E.call(D,Le)&&Le!==W&&h(D,Le,{get:()=>z[Le],enumerable:!(Oe=g(z,Le))||Oe.enumerable});return D},v=(D,z,W)=>(W=D!=null?l(w(D)):{},b(z||!D||!D.__esModule?h(W,"default",{value:D,enumerable:!0}):W,D)),R=D=>b(h({},"__esModule",{value:!0}),D),j=S({"node_modules/tabbable/dist/index.js"(D){Object.defineProperty(D,"__esModule",{value:!0});var z=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],W=z.join(","),Oe=typeof Element>"u",Le=Oe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ae=!Oe&&Element.prototype.getRootNode?function($e){return $e.getRootNode()}:function($e){return $e.ownerDocument},Ie=function(te,re,we){var Ae=Array.prototype.slice.apply(te.querySelectorAll(W));return re&&Le.call(te,W)&&Ae.unshift(te),Ae=Ae.filter(we),Ae},lt=function $e(te,re,we){for(var Ae=[],me=Array.from(te);me.length;){var We=me.shift();if(We.tagName==="SLOT"){var xe=We.assignedElements(),ye=xe.length?xe:We.children,Ge=$e(ye,!0,we);we.flatten?Ae.push.apply(Ae,Ge):Ae.push({scope:We,candidates:Ge})}else{var ot=Le.call(We,W);ot&&we.filter(We)&&(re||!te.includes(We))&&Ae.push(We);var rt=We.shadowRoot||typeof we.getShadowRoot=="function"&&we.getShadowRoot(We),St=!we.shadowRootFilter||we.shadowRootFilter(We);if(rt&&St){var dt=$e(rt===!0?We.children:rt.children,!0,we);we.flatten?Ae.push.apply(Ae,dt):Ae.push({scope:We,candidates:dt})}else me.unshift.apply(me,We.children)}}return Ae},q=function(te,re){return te.tabIndex<0&&(re||/^(AUDIO|VIDEO|DETAILS)$/.test(te.tagName)||te.isContentEditable)&&isNaN(parseInt(te.getAttribute("tabindex"),10))?0:te.tabIndex},yt=function(te,re){return te.tabIndex===re.tabIndex?te.documentOrder-re.documentOrder:te.tabIndex-re.tabIndex},ke=function(te){return te.tagName==="INPUT"},zt=function(te){return ke(te)&&te.type==="hidden"},Wt=function(te){var re=te.tagName==="DETAILS"&&Array.prototype.slice.apply(te.children).some(function(we){return we.tagName==="SUMMARY"});return re},Zt=function(te,re){for(var we=0;we<te.length;we++)if(te[we].checked&&te[we].form===re)return te[we]},et=function(te){if(!te.name)return!0;var re=te.form||ae(te),we=function(xe){return re.querySelectorAll('input[type="radio"][name="'+xe+'"]')},Ae;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")Ae=we(window.CSS.escape(te.name));else try{Ae=we(te.name)}catch(We){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",We.message),!1}var me=Zt(Ae,te.form);return!me||me===te},Se=function(te){return ke(te)&&te.type==="radio"},Pe=function(te){return Se(te)&&!et(te)},Be=function(te){var re=te.getBoundingClientRect(),we=re.width,Ae=re.height;return we===0&&Ae===0},Xe=function(te,re){var we=re.displayCheck,Ae=re.getShadowRoot;if(getComputedStyle(te).visibility==="hidden")return!0;var me=Le.call(te,"details>summary:first-of-type"),We=me?te.parentElement:te;if(Le.call(We,"details:not([open]) *"))return!0;var xe=ae(te).host,ye=(xe==null?void 0:xe.ownerDocument.contains(xe))||te.ownerDocument.contains(te);if(!we||we==="full"){if(typeof Ae=="function"){for(var Ge=te;te;){var ot=te.parentElement,rt=ae(te);if(ot&&!ot.shadowRoot&&Ae(ot)===!0)return Be(te);te.assignedSlot?te=te.assignedSlot:!ot&&rt!==te.ownerDocument?te=rt.host:te=ot}te=Ge}if(ye)return!te.getClientRects().length}else if(we==="non-zero-area")return Be(te);return!1},se=function(te){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(te.tagName))for(var re=te.parentElement;re;){if(re.tagName==="FIELDSET"&&re.disabled){for(var we=0;we<re.children.length;we++){var Ae=re.children.item(we);if(Ae.tagName==="LEGEND")return Le.call(re,"fieldset[disabled] *")?!0:!Ae.contains(te)}return!0}re=re.parentElement}return!1},bt=function(te,re){return!(re.disabled||zt(re)||Xe(re,te)||Wt(re)||se(re))},de=function(te,re){return!(Pe(re)||q(re)<0||!bt(te,re))},_e=function(te){var re=parseInt(te.getAttribute("tabindex"),10);return!!(isNaN(re)||re>=0)},Ze=function $e(te){var re=[],we=[];return te.forEach(function(Ae,me){var We=!!Ae.scope,xe=We?Ae.scope:Ae,ye=q(xe,We),Ge=We?$e(Ae.candidates):xe;ye===0?We?re.push.apply(re,Ge):re.push(xe):we.push({documentOrder:me,tabIndex:ye,item:Ae,isScope:We,content:Ge})}),we.sort(yt).reduce(function(Ae,me){return me.isScope?Ae.push.apply(Ae,me.content):Ae.push(me.content),Ae},[]).concat(re)},it=function(te,re){re=re||{};var we;return re.getShadowRoot?we=lt([te],re.includeContainer,{filter:de.bind(null,re),flatten:!1,getShadowRoot:re.getShadowRoot,shadowRootFilter:_e}):we=Ie(te,re.includeContainer,de.bind(null,re)),Ze(we)},ze=function(te,re){re=re||{};var we;return re.getShadowRoot?we=lt([te],re.includeContainer,{filter:bt.bind(null,re),flatten:!0,getShadowRoot:re.getShadowRoot}):we=Ie(te,re.includeContainer,bt.bind(null,re)),we},pe=function(te,re){if(re=re||{},!te)throw new Error("No node provided");return Le.call(te,W)===!1?!1:de(re,te)},Kt=z.concat("iframe").join(","),At=function(te,re){if(re=re||{},!te)throw new Error("No node provided");return Le.call(te,Kt)===!1?!1:bt(re,te)};D.focusable=ze,D.isFocusable=At,D.isTabbable=pe,D.tabbable=it}}),B=S({"node_modules/focus-trap/dist/focus-trap.js"(D){Object.defineProperty(D,"__esModule",{value:!0});var z=j();function W(et,Se){var Pe=Object.keys(et);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(et);Se&&(Be=Be.filter(function(Xe){return Object.getOwnPropertyDescriptor(et,Xe).enumerable})),Pe.push.apply(Pe,Be)}return Pe}function Oe(et){for(var Se=1;Se<arguments.length;Se++){var Pe=arguments[Se]!=null?arguments[Se]:{};Se%2?W(Object(Pe),!0).forEach(function(Be){Le(et,Be,Pe[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(Pe)):W(Object(Pe)).forEach(function(Be){Object.defineProperty(et,Be,Object.getOwnPropertyDescriptor(Pe,Be))})}return et}function Le(et,Se,Pe){return Se in et?Object.defineProperty(et,Se,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):et[Se]=Pe,et}var ae=function(){var et=[];return{activateTrap:function(Pe){if(et.length>0){var Be=et[et.length-1];Be!==Pe&&Be.pause()}var Xe=et.indexOf(Pe);Xe===-1||et.splice(Xe,1),et.push(Pe)},deactivateTrap:function(Pe){var Be=et.indexOf(Pe);Be!==-1&&et.splice(Be,1),et.length>0&&et[et.length-1].unpause()}}}(),Ie=function(Se){return Se.tagName&&Se.tagName.toLowerCase()==="input"&&typeof Se.select=="function"},lt=function(Se){return Se.key==="Escape"||Se.key==="Esc"||Se.keyCode===27},q=function(Se){return Se.key==="Tab"||Se.keyCode===9},yt=function(Se){return setTimeout(Se,0)},ke=function(Se,Pe){var Be=-1;return Se.every(function(Xe,se){return Pe(Xe)?(Be=se,!1):!0}),Be},zt=function(Se){for(var Pe=arguments.length,Be=new Array(Pe>1?Pe-1:0),Xe=1;Xe<Pe;Xe++)Be[Xe-1]=arguments[Xe];return typeof Se=="function"?Se.apply(void 0,Be):Se},Wt=function(Se){return Se.target.shadowRoot&&typeof Se.composedPath=="function"?Se.composedPath()[0]:Se.target},Zt=function(Se,Pe){var Be=(Pe==null?void 0:Pe.document)||document,Xe=Oe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},Pe),se={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},bt,de=function(xe,ye,Ge){return xe&&xe[ye]!==void 0?xe[ye]:Xe[Ge||ye]},_e=function(xe){return se.containerGroups.findIndex(function(ye){var Ge=ye.container,ot=ye.tabbableNodes;return Ge.contains(xe)||ot.find(function(rt){return rt===xe})})},Ze=function(xe){var ye=Xe[xe];if(typeof ye=="function"){for(var Ge=arguments.length,ot=new Array(Ge>1?Ge-1:0),rt=1;rt<Ge;rt++)ot[rt-1]=arguments[rt];ye=ye.apply(void 0,ot)}if(ye===!0&&(ye=void 0),!ye){if(ye===void 0||ye===!1)return ye;throw new Error("`".concat(xe,"` was specified but was not a node, or did not return a node"))}var St=ye;if(typeof ye=="string"&&(St=Be.querySelector(ye),!St))throw new Error("`".concat(xe,"` as selector refers to no known node"));return St},it=function(){var xe=Ze("initialFocus");if(xe===!1)return!1;if(xe===void 0)if(_e(Be.activeElement)>=0)xe=Be.activeElement;else{var ye=se.tabbableGroups[0],Ge=ye&&ye.firstTabbableNode;xe=Ge||Ze("fallbackFocus")}if(!xe)throw new Error("Your focus-trap needs to have at least one focusable element");return xe},ze=function(){if(se.containerGroups=se.containers.map(function(xe){var ye=z.tabbable(xe,Xe.tabbableOptions),Ge=z.focusable(xe,Xe.tabbableOptions);return{container:xe,tabbableNodes:ye,focusableNodes:Ge,firstTabbableNode:ye.length>0?ye[0]:null,lastTabbableNode:ye.length>0?ye[ye.length-1]:null,nextTabbableNode:function(rt){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,dt=Ge.findIndex(function(xn){return xn===rt});if(!(dt<0))return St?Ge.slice(dt+1).find(function(xn){return z.isTabbable(xn,Xe.tabbableOptions)}):Ge.slice(0,dt).reverse().find(function(xn){return z.isTabbable(xn,Xe.tabbableOptions)})}}}),se.tabbableGroups=se.containerGroups.filter(function(xe){return xe.tabbableNodes.length>0}),se.tabbableGroups.length<=0&&!Ze("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},pe=function We(xe){if(xe!==!1&&xe!==Be.activeElement){if(!xe||!xe.focus){We(it());return}xe.focus({preventScroll:!!Xe.preventScroll}),se.mostRecentlyFocusedNode=xe,Ie(xe)&&xe.select()}},Kt=function(xe){var ye=Ze("setReturnFocus",xe);return ye||(ye===!1?!1:xe)},At=function(xe){var ye=Wt(xe);if(!(_e(ye)>=0)){if(zt(Xe.clickOutsideDeactivates,xe)){bt.deactivate({returnFocus:Xe.returnFocusOnDeactivate&&!z.isFocusable(ye,Xe.tabbableOptions)});return}zt(Xe.allowOutsideClick,xe)||xe.preventDefault()}},$e=function(xe){var ye=Wt(xe),Ge=_e(ye)>=0;Ge||ye instanceof Document?Ge&&(se.mostRecentlyFocusedNode=ye):(xe.stopImmediatePropagation(),pe(se.mostRecentlyFocusedNode||it()))},te=function(xe){var ye=Wt(xe);ze();var Ge=null;if(se.tabbableGroups.length>0){var ot=_e(ye),rt=ot>=0?se.containerGroups[ot]:void 0;if(ot<0)xe.shiftKey?Ge=se.tabbableGroups[se.tabbableGroups.length-1].lastTabbableNode:Ge=se.tabbableGroups[0].firstTabbableNode;else if(xe.shiftKey){var St=ke(se.tabbableGroups,function(ue){var Mt=ue.firstTabbableNode;return ye===Mt});if(St<0&&(rt.container===ye||z.isFocusable(ye,Xe.tabbableOptions)&&!z.isTabbable(ye,Xe.tabbableOptions)&&!rt.nextTabbableNode(ye,!1))&&(St=ot),St>=0){var dt=St===0?se.tabbableGroups.length-1:St-1,xn=se.tabbableGroups[dt];Ge=xn.lastTabbableNode}}else{var Tn=ke(se.tabbableGroups,function(ue){var Mt=ue.lastTabbableNode;return ye===Mt});if(Tn<0&&(rt.container===ye||z.isFocusable(ye,Xe.tabbableOptions)&&!z.isTabbable(ye,Xe.tabbableOptions)&&!rt.nextTabbableNode(ye))&&(Tn=ot),Tn>=0){var Hn=Tn===se.tabbableGroups.length-1?0:Tn+1,jt=se.tabbableGroups[Hn];Ge=jt.firstTabbableNode}}}else Ge=Ze("fallbackFocus");Ge&&(xe.preventDefault(),pe(Ge))},re=function(xe){if(lt(xe)&&zt(Xe.escapeDeactivates,xe)!==!1){xe.preventDefault(),bt.deactivate();return}if(q(xe)){te(xe);return}},we=function(xe){var ye=Wt(xe);_e(ye)>=0||zt(Xe.clickOutsideDeactivates,xe)||zt(Xe.allowOutsideClick,xe)||(xe.preventDefault(),xe.stopImmediatePropagation())},Ae=function(){if(se.active)return ae.activateTrap(bt),se.delayInitialFocusTimer=Xe.delayInitialFocus?yt(function(){pe(it())}):pe(it()),Be.addEventListener("focusin",$e,!0),Be.addEventListener("mousedown",At,{capture:!0,passive:!1}),Be.addEventListener("touchstart",At,{capture:!0,passive:!1}),Be.addEventListener("click",we,{capture:!0,passive:!1}),Be.addEventListener("keydown",re,{capture:!0,passive:!1}),bt},me=function(){if(se.active)return Be.removeEventListener("focusin",$e,!0),Be.removeEventListener("mousedown",At,!0),Be.removeEventListener("touchstart",At,!0),Be.removeEventListener("click",we,!0),Be.removeEventListener("keydown",re,!0),bt};return bt={get active(){return se.active},get paused(){return se.paused},activate:function(xe){if(se.active)return this;var ye=de(xe,"onActivate"),Ge=de(xe,"onPostActivate"),ot=de(xe,"checkCanFocusTrap");ot||ze(),se.active=!0,se.paused=!1,se.nodeFocusedBeforeActivation=Be.activeElement,ye&&ye();var rt=function(){ot&&ze(),Ae(),Ge&&Ge()};return ot?(ot(se.containers.concat()).then(rt,rt),this):(rt(),this)},deactivate:function(xe){if(!se.active)return this;var ye=Oe({onDeactivate:Xe.onDeactivate,onPostDeactivate:Xe.onPostDeactivate,checkCanReturnFocus:Xe.checkCanReturnFocus},xe);clearTimeout(se.delayInitialFocusTimer),se.delayInitialFocusTimer=void 0,me(),se.active=!1,se.paused=!1,ae.deactivateTrap(bt);var Ge=de(ye,"onDeactivate"),ot=de(ye,"onPostDeactivate"),rt=de(ye,"checkCanReturnFocus"),St=de(ye,"returnFocus","returnFocusOnDeactivate");Ge&&Ge();var dt=function(){yt(function(){St&&pe(Kt(se.nodeFocusedBeforeActivation)),ot&&ot()})};return St&&rt?(rt(Kt(se.nodeFocusedBeforeActivation)).then(dt,dt),this):(dt(),this)},pause:function(){return se.paused||!se.active?this:(se.paused=!0,me(),this)},unpause:function(){return!se.paused||!se.active?this:(se.paused=!1,ze(),Ae(),this)},updateContainerElements:function(xe){var ye=[].concat(xe).filter(Boolean);return se.containers=ye.map(function(Ge){return typeof Ge=="string"?Be.querySelector(Ge):Ge}),se.active&&ze(),this}},bt.updateContainerElements(Se),bt};D.createFocusTrap=Zt}}),I={};m(I,{default:()=>U,focus:()=>Q}),c.exports=R(I);var H=v(B()),$=v(j());function Q(D){let z,W;window.addEventListener("focusin",()=>{z=W,W=document.activeElement}),D.magic("focus",Oe=>{let Le=Oe;return{__noscroll:!1,__wrapAround:!1,within(ae){return Le=ae,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(ae){return(0,$.isFocusable)(ae)},previouslyFocused(){return z},lastFocused(){return z},focused(){return W},focusables(){return Array.isArray(Le)?Le:(0,$.focusable)(Le,{displayCheck:"none"})},all(){return this.focusables()},isFirst(ae){let Ie=this.all();return Ie[0]&&Ie[0].isSameNode(ae)},isLast(ae){let Ie=this.all();return Ie.length&&Ie.slice(-1)[0].isSameNode(ae)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let ae=this.all(),Ie=document.activeElement;if(ae.indexOf(Ie)!==-1)return this.__wrapAround&&ae.indexOf(Ie)===ae.length-1?ae[0]:ae[ae.indexOf(Ie)+1]},getPrevious(){let ae=this.all(),Ie=document.activeElement;if(ae.indexOf(Ie)!==-1)return this.__wrapAround&&ae.indexOf(Ie)===0?ae.slice(-1)[0]:ae[ae.indexOf(Ie)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(ae){ae&&setTimeout(()=>{ae.hasAttribute("tabindex")||ae.setAttribute("tabindex","0"),ae.focus({preventScroll:this.__noscroll})})}}}),D.directive("trap",D.skipDuringClone((Oe,{expression:Le,modifiers:ae},{effect:Ie,evaluateLater:lt,cleanup:q})=>{let yt=lt(Le),ke=!1,zt={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>Oe};if(ae.includes("noautofocus"))zt.initialFocus=!1;else{let Pe=Oe.querySelector("[autofocus]");Pe&&(zt.initialFocus=Pe)}let Wt=(0,H.createFocusTrap)(Oe,zt),Zt=()=>{},et=()=>{};const Se=()=>{Zt(),Zt=()=>{},et(),et=()=>{},Wt.deactivate({returnFocus:!ae.includes("noreturn")})};Ie(()=>yt(Pe=>{ke!==Pe&&(Pe&&!ke&&(ae.includes("noscroll")&&(et=ee()),ae.includes("inert")&&(Zt=Z(Oe)),setTimeout(()=>{Wt.activate()},15)),!Pe&&ke&&Se(),ke=!!Pe)})),q(Se)},(Oe,{expression:Le,modifiers:ae},{evaluate:Ie})=>{ae.includes("inert")&&Ie(Le)&&Z(Oe)}))}function Z(D){let z=[];return O(D,W=>{let Oe=W.hasAttribute("aria-hidden");W.setAttribute("aria-hidden","true"),z.push(()=>Oe||W.removeAttribute("aria-hidden"))}),()=>{for(;z.length;)z.pop()()}}function O(D,z){D.isSameNode(document.body)||!D.parentNode||Array.from(D.parentNode.children).forEach(W=>{W.isSameNode(D)?O(D.parentNode,z):z(W)})}function ee(){let D=document.documentElement.style.overflow,z=document.documentElement.style.paddingRight,W=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${W}px`,()=>{document.documentElement.style.overflow=D,document.documentElement.style.paddingRight=z}}var U=Q}}),fc=Ei({"../alpine/packages/persist/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(I,H)=>{for(var $ in H)l(I,$,{get:H[$],enumerable:!0})},E=(I,H,$,Q)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Z of g(H))!d.call(I,Z)&&Z!==$&&l(I,Z,{get:()=>H[Z],enumerable:!(Q=h(H,Z))||Q.enumerable});return I},S=I=>E(l({},"__esModule",{value:!0}),I),m={};w(m,{default:()=>B,persist:()=>b}),c.exports=S(m);function b(I){let H=()=>{let $,Q;try{Q=localStorage}catch(Z){console.error(Z),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let O=new Map;Q={getItem:O.get.bind(O),setItem:O.set.bind(O)}}return I.interceptor((Z,O,ee,U,D)=>{let z=$||`_x_${U}`,W=v(z,Q)?R(z,Q):Z;return ee(W),I.effect(()=>{let Oe=O();j(z,Oe,Q),ee(Oe)}),W},Z=>{Z.as=O=>($=O,Z),Z.using=O=>(Q=O,Z)})};Object.defineProperty(I,"$persist",{get:()=>H()}),I.magic("persist",H),I.persist=($,{get:Q,set:Z},O=localStorage)=>{let ee=v($,O)?R($,O):Q();Z(ee),I.effect(()=>{let U=Q();j($,U,O),Z(U)})}}function v(I,H){return H.getItem(I)!==null}function R(I,H){return JSON.parse(H.getItem(I,H))}function j(I,H,$){$.setItem(I,JSON.stringify(H))}var B=b}}),hc=Ei({"../alpine/packages/intersect/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(I,H)=>{for(var $ in H)l(I,$,{get:H[$],enumerable:!0})},E=(I,H,$,Q)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Z of g(H))!d.call(I,Z)&&Z!==$&&l(I,Z,{get:()=>H[Z],enumerable:!(Q=h(H,Z))||Q.enumerable});return I},S=I=>E(l({},"__esModule",{value:!0}),I),m={};w(m,{default:()=>B,intersect:()=>b}),c.exports=S(m);function b(I){I.directive("intersect",I.skipDuringClone((H,{value:$,expression:Q,modifiers:Z},{evaluateLater:O,cleanup:ee})=>{let U=O(Q),D={rootMargin:j(Z),threshold:v(Z)},z=new IntersectionObserver(W=>{W.forEach(Oe=>{Oe.isIntersecting!==($==="leave")&&(U(),Z.includes("once")&&z.disconnect())})},D);z.observe(H),ee(()=>{z.disconnect()})}))}function v(I){if(I.includes("full"))return .99;if(I.includes("half"))return .5;if(!I.includes("threshold"))return 0;let H=I[I.indexOf("threshold")+1];return H==="100"?1:H==="0"?0:+`.${H}`}function R(I){let H=I.match(/^(-?[0-9]+)(px|%)?$/);return H?H[1]+(H[2]||"px"):void 0}function j(I){const H="margin",$="0px 0px 0px 0px",Q=I.indexOf(H);if(Q===-1)return $;let Z=[];for(let O=1;O<5;O++)Z.push(R(I[Q+O]||""));return Z=Z.filter(O=>O!==void 0),Z.length?Z.join(" ").trim():$}var B=b}}),dc=Ei({"../alpine/packages/anchor/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(N,P)=>{for(var X in P)l(N,X,{get:P[X],enumerable:!0})},E=(N,P,X,k)=>{if(P&&typeof P=="object"||typeof P=="function")for(let ne of g(P))!d.call(N,ne)&&ne!==X&&l(N,ne,{get:()=>P[ne],enumerable:!(k=h(P,ne))||k.enumerable});return N},S=N=>E(l({},"__esModule",{value:!0}),N),m={};w(m,{anchor:()=>Sn,default:()=>Li}),c.exports=S(m);var b=Math.min,v=Math.max,R=Math.round,j=Math.floor,B=N=>({x:N,y:N}),I={left:"right",right:"left",bottom:"top",top:"bottom"},H={start:"end",end:"start"};function $(N,P,X){return v(N,b(P,X))}function Q(N,P){return typeof N=="function"?N(P):N}function Z(N){return N.split("-")[0]}function O(N){return N.split("-")[1]}function ee(N){return N==="x"?"y":"x"}function U(N){return N==="y"?"height":"width"}function D(N){return["top","bottom"].includes(Z(N))?"y":"x"}function z(N){return ee(D(N))}function W(N,P,X){X===void 0&&(X=!1);const k=O(N),ne=z(N),ge=U(ne);let fe=ne==="x"?k===(X?"end":"start")?"right":"left":k==="start"?"bottom":"top";return P.reference[ge]>P.floating[ge]&&(fe=lt(fe)),[fe,lt(fe)]}function Oe(N){const P=lt(N);return[Le(N),P,Le(P)]}function Le(N){return N.replace(/start|end/g,P=>H[P])}function ae(N,P,X){const k=["left","right"],ne=["right","left"],ge=["top","bottom"],fe=["bottom","top"];switch(N){case"top":case"bottom":return X?P?ne:k:P?k:ne;case"left":case"right":return P?ge:fe;default:return[]}}function Ie(N,P,X,k){const ne=O(N);let ge=ae(Z(N),X==="start",k);return ne&&(ge=ge.map(fe=>fe+"-"+ne),P&&(ge=ge.concat(ge.map(Le)))),ge}function lt(N){return N.replace(/left|right|bottom|top/g,P=>I[P])}function q(N){return{top:0,right:0,bottom:0,left:0,...N}}function yt(N){return typeof N!="number"?q(N):{top:N,right:N,bottom:N,left:N}}function ke(N){return{...N,top:N.y,left:N.x,right:N.x+N.width,bottom:N.y+N.height}}function zt(N,P,X){let{reference:k,floating:ne}=N;const ge=D(P),fe=z(P),Ce=U(fe),Me=Z(P),De=ge==="y",nt=k.x+k.width/2-ne.width/2,ct=k.y+k.height/2-ne.height/2,mt=k[Ce]/2-ne[Ce]/2;let He;switch(Me){case"top":He={x:nt,y:k.y-ne.height};break;case"bottom":He={x:nt,y:k.y+k.height};break;case"right":He={x:k.x+k.width,y:ct};break;case"left":He={x:k.x-ne.width,y:ct};break;default:He={x:k.x,y:k.y}}switch(O(P)){case"start":He[fe]-=mt*(X&&De?-1:1);break;case"end":He[fe]+=mt*(X&&De?-1:1);break}return He}var Wt=async(N,P,X)=>{const{placement:k="bottom",strategy:ne="absolute",middleware:ge=[],platform:fe}=X,Ce=ge.filter(Boolean),Me=await(fe.isRTL==null?void 0:fe.isRTL(P));let De=await fe.getElementRects({reference:N,floating:P,strategy:ne}),{x:nt,y:ct}=zt(De,k,Me),mt=k,He={},Ue=0;for(let Ve=0;Ve<Ce.length;Ve++){const{name:Dt,fn:je}=Ce[Ve],{x:Rt,y:ie,data:dn,reset:at}=await je({x:nt,y:ct,initialPlacement:k,placement:mt,strategy:ne,middlewareData:He,rects:De,platform:fe,elements:{reference:N,floating:P}});if(nt=Rt??nt,ct=ie??ct,He={...He,[Dt]:{...He[Dt],...dn}},at&&Ue<=50){Ue++,typeof at=="object"&&(at.placement&&(mt=at.placement),at.rects&&(De=at.rects===!0?await fe.getElementRects({reference:N,floating:P,strategy:ne}):at.rects),{x:nt,y:ct}=zt(De,mt,Me)),Ve=-1;continue}}return{x:nt,y:ct,placement:mt,strategy:ne,middlewareData:He}};async function Zt(N,P){var X;P===void 0&&(P={});const{x:k,y:ne,platform:ge,rects:fe,elements:Ce,strategy:Me}=N,{boundary:De="clippingAncestors",rootBoundary:nt="viewport",elementContext:ct="floating",altBoundary:mt=!1,padding:He=0}=Q(P,N),Ue=yt(He),Dt=Ce[mt?ct==="floating"?"reference":"floating":ct],je=ke(await ge.getClippingRect({element:(X=await(ge.isElement==null?void 0:ge.isElement(Dt)))==null||X?Dt:Dt.contextElement||await(ge.getDocumentElement==null?void 0:ge.getDocumentElement(Ce.floating)),boundary:De,rootBoundary:nt,strategy:Me})),Rt=ct==="floating"?{...fe.floating,x:k,y:ne}:fe.reference,ie=await(ge.getOffsetParent==null?void 0:ge.getOffsetParent(Ce.floating)),dn=await(ge.isElement==null?void 0:ge.isElement(ie))?await(ge.getScale==null?void 0:ge.getScale(ie))||{x:1,y:1}:{x:1,y:1},at=ke(ge.convertOffsetParentRelativeRectToViewportRelativeRect?await ge.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Rt,offsetParent:ie,strategy:Me}):Rt);return{top:(je.top-at.top+Ue.top)/dn.y,bottom:(at.bottom-je.bottom+Ue.bottom)/dn.y,left:(je.left-at.left+Ue.left)/dn.x,right:(at.right-je.right+Ue.right)/dn.x}}var et=function(N){return N===void 0&&(N={}),{name:"flip",options:N,async fn(P){var X,k;const{placement:ne,middlewareData:ge,rects:fe,initialPlacement:Ce,platform:Me,elements:De}=P,{mainAxis:nt=!0,crossAxis:ct=!0,fallbackPlacements:mt,fallbackStrategy:He="bestFit",fallbackAxisSideDirection:Ue="none",flipAlignment:Ve=!0,...Dt}=Q(N,P);if((X=ge.arrow)!=null&&X.alignmentOffset)return{};const je=Z(ne),Rt=Z(Ce)===Ce,ie=await(Me.isRTL==null?void 0:Me.isRTL(De.floating)),dn=mt||(Rt||!Ve?[lt(Ce)]:Oe(Ce));!mt&&Ue!=="none"&&dn.push(...Ie(Ce,Ve,Ue,ie));const at=[Ce,...dn],wn=await Zt(P,Dt),bi=[];let pt=((k=ge.flip)==null?void 0:k.overflows)||[];if(nt&&bi.push(wn[je]),ct){const Rn=W(ne,fe,ie);bi.push(wn[Rn[0]],wn[Rn[1]])}if(pt=[...pt,{placement:ne,overflows:bi}],!bi.every(Rn=>Rn<=0)){var Et,ht;const Rn=(((Et=ge.flip)==null?void 0:Et.index)||0)+1,di=at[Rn];if(di)return{data:{index:Rn,overflows:pt},reset:{placement:di}};let Lt=(ht=pt.filter(gn=>gn.overflows[0]<=0).sort((gn,Yn)=>gn.overflows[1]-Yn.overflows[1])[0])==null?void 0:ht.placement;if(!Lt)switch(He){case"bestFit":{var hi;const gn=(hi=pt.map(Yn=>[Yn.placement,Yn.overflows.filter(Bt=>Bt>0).reduce((Bt,Ln)=>Bt+Ln,0)]).sort((Yn,Bt)=>Yn[1]-Bt[1])[0])==null?void 0:hi[0];gn&&(Lt=gn);break}case"initialPlacement":Lt=Ce;break}if(ne!==Lt)return{reset:{placement:Lt}}}return{}}}};async function Se(N,P){const{placement:X,platform:k,elements:ne}=N,ge=await(k.isRTL==null?void 0:k.isRTL(ne.floating)),fe=Z(X),Ce=O(X),Me=D(X)==="y",De=["left","top"].includes(fe)?-1:1,nt=ge&&Me?-1:1,ct=Q(P,N);let{mainAxis:mt,crossAxis:He,alignmentAxis:Ue}=typeof ct=="number"?{mainAxis:ct,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ct};return Ce&&typeof Ue=="number"&&(He=Ce==="end"?Ue*-1:Ue),Me?{x:He*nt,y:mt*De}:{x:mt*De,y:He*nt}}var Pe=function(N){return N===void 0&&(N=0),{name:"offset",options:N,async fn(P){const{x:X,y:k}=P,ne=await Se(P,N);return{x:X+ne.x,y:k+ne.y,data:ne}}}},Be=function(N){return N===void 0&&(N={}),{name:"shift",options:N,async fn(P){const{x:X,y:k,placement:ne}=P,{mainAxis:ge=!0,crossAxis:fe=!1,limiter:Ce={fn:Dt=>{let{x:je,y:Rt}=Dt;return{x:je,y:Rt}}},...Me}=Q(N,P),De={x:X,y:k},nt=await Zt(P,Me),ct=D(Z(ne)),mt=ee(ct);let He=De[mt],Ue=De[ct];if(ge){const Dt=mt==="y"?"top":"left",je=mt==="y"?"bottom":"right",Rt=He+nt[Dt],ie=He-nt[je];He=$(Rt,He,ie)}if(fe){const Dt=ct==="y"?"top":"left",je=ct==="y"?"bottom":"right",Rt=Ue+nt[Dt],ie=Ue-nt[je];Ue=$(Rt,Ue,ie)}const Ve=Ce.fn({...P,[mt]:He,[ct]:Ue});return{...Ve,data:{x:Ve.x-X,y:Ve.y-k}}}}};function Xe(N){return de(N)?(N.nodeName||"").toLowerCase():"#document"}function se(N){var P;return(N==null||(P=N.ownerDocument)==null?void 0:P.defaultView)||window}function bt(N){var P;return(P=(de(N)?N.ownerDocument:N.document)||window.document)==null?void 0:P.documentElement}function de(N){return N instanceof Node||N instanceof se(N).Node}function _e(N){return N instanceof Element||N instanceof se(N).Element}function Ze(N){return N instanceof HTMLElement||N instanceof se(N).HTMLElement}function it(N){return typeof ShadowRoot>"u"?!1:N instanceof ShadowRoot||N instanceof se(N).ShadowRoot}function ze(N){const{overflow:P,overflowX:X,overflowY:k,display:ne}=re(N);return/auto|scroll|overlay|hidden|clip/.test(P+k+X)&&!["inline","contents"].includes(ne)}function pe(N){return["table","td","th"].includes(Xe(N))}function Kt(N){const P=$e(),X=re(N);return X.transform!=="none"||X.perspective!=="none"||(X.containerType?X.containerType!=="normal":!1)||!P&&(X.backdropFilter?X.backdropFilter!=="none":!1)||!P&&(X.filter?X.filter!=="none":!1)||["transform","perspective","filter"].some(k=>(X.willChange||"").includes(k))||["paint","layout","strict","content"].some(k=>(X.contain||"").includes(k))}function At(N){let P=Ae(N);for(;Ze(P)&&!te(P);){if(Kt(P))return P;P=Ae(P)}return null}function $e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function te(N){return["html","body","#document"].includes(Xe(N))}function re(N){return se(N).getComputedStyle(N)}function we(N){return _e(N)?{scrollLeft:N.scrollLeft,scrollTop:N.scrollTop}:{scrollLeft:N.pageXOffset,scrollTop:N.pageYOffset}}function Ae(N){if(Xe(N)==="html")return N;const P=N.assignedSlot||N.parentNode||it(N)&&N.host||bt(N);return it(P)?P.host:P}function me(N){const P=Ae(N);return te(P)?N.ownerDocument?N.ownerDocument.body:N.body:Ze(P)&&ze(P)?P:me(P)}function We(N,P,X){var k;P===void 0&&(P=[]),X===void 0&&(X=!0);const ne=me(N),ge=ne===((k=N.ownerDocument)==null?void 0:k.body),fe=se(ne);return ge?P.concat(fe,fe.visualViewport||[],ze(ne)?ne:[],fe.frameElement&&X?We(fe.frameElement):[]):P.concat(ne,We(ne,[],X))}function xe(N){const P=re(N);let X=parseFloat(P.width)||0,k=parseFloat(P.height)||0;const ne=Ze(N),ge=ne?N.offsetWidth:X,fe=ne?N.offsetHeight:k,Ce=R(X)!==ge||R(k)!==fe;return Ce&&(X=ge,k=fe),{width:X,height:k,$:Ce}}function ye(N){return _e(N)?N:N.contextElement}function Ge(N){const P=ye(N);if(!Ze(P))return B(1);const X=P.getBoundingClientRect(),{width:k,height:ne,$:ge}=xe(P);let fe=(ge?R(X.width):X.width)/k,Ce=(ge?R(X.height):X.height)/ne;return(!fe||!Number.isFinite(fe))&&(fe=1),(!Ce||!Number.isFinite(Ce))&&(Ce=1),{x:fe,y:Ce}}var ot=B(0);function rt(N){const P=se(N);return!$e()||!P.visualViewport?ot:{x:P.visualViewport.offsetLeft,y:P.visualViewport.offsetTop}}function St(N,P,X){return P===void 0&&(P=!1),!X||P&&X!==se(N)?!1:P}function dt(N,P,X,k){P===void 0&&(P=!1),X===void 0&&(X=!1);const ne=N.getBoundingClientRect(),ge=ye(N);let fe=B(1);P&&(k?_e(k)&&(fe=Ge(k)):fe=Ge(N));const Ce=St(ge,X,k)?rt(ge):B(0);let Me=(ne.left+Ce.x)/fe.x,De=(ne.top+Ce.y)/fe.y,nt=ne.width/fe.x,ct=ne.height/fe.y;if(ge){const mt=se(ge),He=k&&_e(k)?se(k):k;let Ue=mt.frameElement;for(;Ue&&k&&He!==mt;){const Ve=Ge(Ue),Dt=Ue.getBoundingClientRect(),je=re(Ue),Rt=Dt.left+(Ue.clientLeft+parseFloat(je.paddingLeft))*Ve.x,ie=Dt.top+(Ue.clientTop+parseFloat(je.paddingTop))*Ve.y;Me*=Ve.x,De*=Ve.y,nt*=Ve.x,ct*=Ve.y,Me+=Rt,De+=ie,Ue=se(Ue).frameElement}}return ke({width:nt,height:ct,x:Me,y:De})}function xn(N){let{rect:P,offsetParent:X,strategy:k}=N;const ne=Ze(X),ge=bt(X);if(X===ge)return P;let fe={scrollLeft:0,scrollTop:0},Ce=B(1);const Me=B(0);if((ne||!ne&&k!=="fixed")&&((Xe(X)!=="body"||ze(ge))&&(fe=we(X)),Ze(X))){const De=dt(X);Ce=Ge(X),Me.x=De.x+X.clientLeft,Me.y=De.y+X.clientTop}return{width:P.width*Ce.x,height:P.height*Ce.y,x:P.x*Ce.x-fe.scrollLeft*Ce.x+Me.x,y:P.y*Ce.y-fe.scrollTop*Ce.y+Me.y}}function Tn(N){return Array.from(N.getClientRects())}function Hn(N){return dt(bt(N)).left+we(N).scrollLeft}function jt(N){const P=bt(N),X=we(N),k=N.ownerDocument.body,ne=v(P.scrollWidth,P.clientWidth,k.scrollWidth,k.clientWidth),ge=v(P.scrollHeight,P.clientHeight,k.scrollHeight,k.clientHeight);let fe=-X.scrollLeft+Hn(N);const Ce=-X.scrollTop;return re(k).direction==="rtl"&&(fe+=v(P.clientWidth,k.clientWidth)-ne),{width:ne,height:ge,x:fe,y:Ce}}function ue(N,P){const X=se(N),k=bt(N),ne=X.visualViewport;let ge=k.clientWidth,fe=k.clientHeight,Ce=0,Me=0;if(ne){ge=ne.width,fe=ne.height;const De=$e();(!De||De&&P==="fixed")&&(Ce=ne.offsetLeft,Me=ne.offsetTop)}return{width:ge,height:fe,x:Ce,y:Me}}function Mt(N,P){const X=dt(N,!0,P==="fixed"),k=X.top+N.clientTop,ne=X.left+N.clientLeft,ge=Ze(N)?Ge(N):B(1),fe=N.clientWidth*ge.x,Ce=N.clientHeight*ge.y,Me=ne*ge.x,De=k*ge.y;return{width:fe,height:Ce,x:Me,y:De}}function vt(N,P,X){let k;if(P==="viewport")k=ue(N,X);else if(P==="document")k=jt(bt(N));else if(_e(P))k=Mt(P,X);else{const ne=rt(N);k={...P,x:P.x-ne.x,y:P.y-ne.y}}return ke(k)}function Ut(N,P){const X=Ae(N);return X===P||!_e(X)||te(X)?!1:re(X).position==="fixed"||Ut(X,P)}function ui(N,P){const X=P.get(N);if(X)return X;let k=We(N,[],!1).filter(Ce=>_e(Ce)&&Xe(Ce)!=="body"),ne=null;const ge=re(N).position==="fixed";let fe=ge?Ae(N):N;for(;_e(fe)&&!te(fe);){const Ce=re(fe),Me=Kt(fe);!Me&&Ce.position==="fixed"&&(ne=null),(ge?!Me&&!ne:!Me&&Ce.position==="static"&&!!ne&&["absolute","fixed"].includes(ne.position)||ze(fe)&&!Me&&Ut(N,fe))?k=k.filter(nt=>nt!==fe):ne=Ce,fe=Ae(fe)}return P.set(N,k),k}function fi(N){let{element:P,boundary:X,rootBoundary:k,strategy:ne}=N;const fe=[...X==="clippingAncestors"?ui(P,this._c):[].concat(X),k],Ce=fe[0],Me=fe.reduce((De,nt)=>{const ct=vt(P,nt,ne);return De.top=v(ct.top,De.top),De.right=b(ct.right,De.right),De.bottom=b(ct.bottom,De.bottom),De.left=v(ct.left,De.left),De},vt(P,Ce,ne));return{width:Me.right-Me.left,height:Me.bottom-Me.top,x:Me.left,y:Me.top}}function Ri(N){return xe(N)}function gt(N,P,X){const k=Ze(P),ne=bt(P),ge=X==="fixed",fe=dt(N,!0,ge,P);let Ce={scrollLeft:0,scrollTop:0};const Me=B(0);if(k||!k&&!ge)if((Xe(P)!=="body"||ze(ne))&&(Ce=we(P)),k){const De=dt(P,!0,ge,P);Me.x=De.x+P.clientLeft,Me.y=De.y+P.clientTop}else ne&&(Me.x=Hn(ne));return{x:fe.left+Ce.scrollLeft-Me.x,y:fe.top+Ce.scrollTop-Me.y,width:fe.width,height:fe.height}}function mn(N,P){return!Ze(N)||re(N).position==="fixed"?null:P?P(N):N.offsetParent}function Xn(N,P){const X=se(N);if(!Ze(N))return X;let k=mn(N,P);for(;k&&pe(k)&&re(k).position==="static";)k=mn(k,P);return k&&(Xe(k)==="html"||Xe(k)==="body"&&re(k).position==="static"&&!Kt(k))?X:k||At(N)||X}var Ji=async function(N){let{reference:P,floating:X,strategy:k}=N;const ne=this.getOffsetParent||Xn,ge=this.getDimensions;return{reference:gt(P,await ne(X),k),floating:{x:0,y:0,...await ge(X)}}};function Nn(N){return re(N).direction==="rtl"}var Ci={convertOffsetParentRelativeRectToViewportRelativeRect:xn,getDocumentElement:bt,getClippingRect:fi,getOffsetParent:Xn,getElementRects:Ji,getClientRects:Tn,getDimensions:Ri,getScale:Ge,isElement:_e,isRTL:Nn};function rn(N,P){let X=null,k;const ne=bt(N);function ge(){clearTimeout(k),X&&X.disconnect(),X=null}function fe(Ce,Me){Ce===void 0&&(Ce=!1),Me===void 0&&(Me=1),ge();const{left:De,top:nt,width:ct,height:mt}=N.getBoundingClientRect();if(Ce||P(),!ct||!mt)return;const He=j(nt),Ue=j(ne.clientWidth-(De+ct)),Ve=j(ne.clientHeight-(nt+mt)),Dt=j(De),Rt={rootMargin:-He+"px "+-Ue+"px "+-Ve+"px "+-Dt+"px",threshold:v(0,b(1,Me))||1};let ie=!0;function dn(at){const wn=at[0].intersectionRatio;if(wn!==Me){if(!ie)return fe();wn?fe(!1,wn):k=setTimeout(()=>{fe(!1,1e-7)},100)}ie=!1}try{X=new IntersectionObserver(dn,{...Rt,root:ne.ownerDocument})}catch{X=new IntersectionObserver(dn,Rt)}X.observe(N)}return fe(!0),ge}function ti(N,P,X,k){k===void 0&&(k={});const{ancestorScroll:ne=!0,ancestorResize:ge=!0,elementResize:fe=typeof ResizeObserver=="function",layoutShift:Ce=typeof IntersectionObserver=="function",animationFrame:Me=!1}=k,De=ye(N),nt=ne||ge?[...De?We(De):[],...We(P)]:[];nt.forEach(je=>{ne&&je.addEventListener("scroll",X,{passive:!0}),ge&&je.addEventListener("resize",X)});const ct=De&&Ce?rn(De,X):null;let mt=-1,He=null;fe&&(He=new ResizeObserver(je=>{let[Rt]=je;Rt&&Rt.target===De&&He&&(He.unobserve(P),cancelAnimationFrame(mt),mt=requestAnimationFrame(()=>{He&&He.observe(P)})),X()}),De&&!Me&&He.observe(De),He.observe(P));let Ue,Ve=Me?dt(N):null;Me&&Dt();function Dt(){const je=dt(N);Ve&&(je.x!==Ve.x||je.y!==Ve.y||je.width!==Ve.width||je.height!==Ve.height)&&X(),Ve=je,Ue=requestAnimationFrame(Dt)}return X(),()=>{nt.forEach(je=>{ne&&je.removeEventListener("scroll",X),ge&&je.removeEventListener("resize",X)}),ct&&ct(),He&&He.disconnect(),He=null,Me&&cancelAnimationFrame(Ue)}}var ni=(N,P,X)=>{const k=new Map,ne={platform:Ci,...X},ge={...ne.platform,_c:k};return Wt(N,P,{...ne,platform:ge})};function Sn(N){N.magic("anchor",P=>{if(!P._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return P._x_anchor}),N.interceptClone((P,X)=>{P&&P._x_anchor&&!X._x_anchor&&(X._x_anchor=P._x_anchor)}),N.directive("anchor",N.skipDuringClone((P,{expression:X,modifiers:k,value:ne},{cleanup:ge,evaluate:fe})=>{let{placement:Ce,offsetValue:Me,unstyled:De}=Dn(k);P._x_anchor=N.reactive({x:0,y:0});let nt=fe(X);if(!nt)throw"Alpine: no element provided to x-anchor...";let ct=()=>{let He;ni(nt,P,{placement:Ce,middleware:[et(),Be({padding:5}),Pe(Me)]}).then(({x:Ue,y:Ve})=>{De||In(P,Ue,Ve),JSON.stringify({x:Ue,y:Ve})!==He&&(P._x_anchor.x=Ue,P._x_anchor.y=Ve),He=JSON.stringify({x:Ue,y:Ve})})},mt=ti(nt,P,()=>ct());ge(()=>mt())},(P,{expression:X,modifiers:k,value:ne},{cleanup:ge,evaluate:fe})=>{let{placement:Ce,offsetValue:Me,unstyled:De}=Dn(k);P._x_anchor&&(De||In(P,P._x_anchor.x,P._x_anchor.y))}))}function In(N,P,X){Object.assign(N.style,{left:P+"px",top:X+"px",position:"absolute"})}function Dn(N){let X=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(ge=>N.includes(ge)),k=0;if(N.includes("offset")){let ge=N.findIndex(fe=>fe==="offset");k=N[ge+1]!==void 0?Number(N[ge+1]):k}let ne=N.includes("no-style");return{placement:X,offsetValue:k,unstyled:ne}}var Li=Sn}}),gc=Ei({"node_modules/nprogress/nprogress.js"(o,c){(function(l,h){typeof define=="function"&&define.amd?define(h):typeof o=="object"?c.exports=h():l.NProgress=h()})(o,function(){var l={};l.version="0.2.0";var h=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(B){var I,H;for(I in B)H=B[I],H!==void 0&&B.hasOwnProperty(I)&&(h[I]=H);return this},l.status=null,l.set=function(B){var I=l.isStarted();B=g(B,h.minimum,1),l.status=B===1?null:B;var H=l.render(!I),$=H.querySelector(h.barSelector),Q=h.speed,Z=h.easing;return H.offsetWidth,E(function(O){h.positionUsing===""&&(h.positionUsing=l.getPositioningCSS()),S($,w(B,Q,Z)),B===1?(S(H,{transition:"none",opacity:1}),H.offsetWidth,setTimeout(function(){S(H,{transition:"all "+Q+"ms linear",opacity:0}),setTimeout(function(){l.remove(),O()},Q)},Q)):setTimeout(O,Q)}),this},l.isStarted=function(){return typeof l.status=="number"},l.start=function(){l.status||l.set(0);var B=function(){setTimeout(function(){l.status&&(l.trickle(),B())},h.trickleSpeed)};return h.trickle&&B(),this},l.done=function(B){return!B&&!l.status?this:l.inc(.3+.5*Math.random()).set(1)},l.inc=function(B){var I=l.status;return I?(typeof B!="number"&&(B=(1-I)*g(Math.random()*I,.1,.95)),I=g(I+B,0,.994),l.set(I)):l.start()},l.trickle=function(){return l.inc(Math.random()*h.trickleRate)},function(){var B=0,I=0;l.promise=function(H){return!H||H.state()==="resolved"?this:(I===0&&l.start(),B++,I++,H.always(function(){I--,I===0?(B=0,l.done()):l.set((B-I)/B)}),this)}}(),l.render=function(B){if(l.isRendered())return document.getElementById("nprogress");b(document.documentElement,"nprogress-busy");var I=document.createElement("div");I.id="nprogress",I.innerHTML=h.template;var H=I.querySelector(h.barSelector),$=B?"-100":d(l.status||0),Q=document.querySelector(h.parent),Z;return S(H,{transition:"all 0 linear",transform:"translate3d("+$+"%,0,0)"}),h.showSpinner||(Z=I.querySelector(h.spinnerSelector),Z&&j(Z)),Q!=document.body&&b(Q,"nprogress-custom-parent"),Q.appendChild(I),I},l.remove=function(){v(document.documentElement,"nprogress-busy"),v(document.querySelector(h.parent),"nprogress-custom-parent");var B=document.getElementById("nprogress");B&&j(B)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var B=document.body.style,I="WebkitTransform"in B?"Webkit":"MozTransform"in B?"Moz":"msTransform"in B?"ms":"OTransform"in B?"O":"";return I+"Perspective"in B?"translate3d":I+"Transform"in B?"translate":"margin"};function g(B,I,H){return B<I?I:B>H?H:B}function d(B){return(-1+B)*100}function w(B,I,H){var $;return h.positionUsing==="translate3d"?$={transform:"translate3d("+d(B)+"%,0,0)"}:h.positionUsing==="translate"?$={transform:"translate("+d(B)+"%,0)"}:$={"margin-left":d(B)+"%"},$.transition="all "+I+"ms "+H,$}var E=function(){var B=[];function I(){var H=B.shift();H&&H(I)}return function(H){B.push(H),B.length==1&&I()}}(),S=function(){var B=["Webkit","O","Moz","ms"],I={};function H(O){return O.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(ee,U){return U.toUpperCase()})}function $(O){var ee=document.body.style;if(O in ee)return O;for(var U=B.length,D=O.charAt(0).toUpperCase()+O.slice(1),z;U--;)if(z=B[U]+D,z in ee)return z;return O}function Q(O){return O=H(O),I[O]||(I[O]=$(O))}function Z(O,ee,U){ee=Q(ee),O.style[ee]=U}return function(O,ee){var U=arguments,D,z;if(U.length==2)for(D in ee)z=ee[D],z!==void 0&&ee.hasOwnProperty(D)&&Z(O,D,z);else Z(O,U[1],U[2])}}();function m(B,I){var H=typeof B=="string"?B:R(B);return H.indexOf(" "+I+" ")>=0}function b(B,I){var H=R(B),$=H+I;m(H,I)||(B.className=$.substring(1))}function v(B,I){var H=R(B),$;m(B,I)&&($=H.replace(" "+I+" "," "),B.className=$.substring(1,$.length-1))}function R(B){return(" "+(B.className||"")+" ").replace(/\s+/gi," ")}function j(B){B&&B.parentNode&&B.parentNode.removeChild(B)}return l})}}),pc=Ei({"../alpine/packages/morph/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(U,D)=>{for(var z in D)l(U,z,{get:D[z],enumerable:!0})},E=(U,D,z,W)=>{if(D&&typeof D=="object"||typeof D=="function")for(let Oe of g(D))!d.call(U,Oe)&&Oe!==z&&l(U,Oe,{get:()=>D[Oe],enumerable:!(W=h(D,Oe))||W.enumerable});return U},S=U=>E(l({},"__esModule",{value:!0}),U),m={};w(m,{default:()=>ee,morph:()=>O}),c.exports=S(m);function b(U,D,z){Q();let W,Oe,Le,ae,Ie,lt,q,yt,ke;function zt(de={}){let _e=it=>it.getAttribute("key"),Ze=()=>{};ae=de.updating||Ze,Ie=de.updated||Ze,lt=de.removing||Ze,q=de.removed||Ze,yt=de.adding||Ze,ke=de.added||Ze,Oe=de.key||_e,Le=de.lookahead||!1}function Wt(de,_e){if(Zt(de,_e))return et(de,_e);let Ze=!1;if(!v(ae,de,_e,()=>Ze=!0)){if(de.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(de,_e),B(_e)){Se(de,_e),Ie(de,_e);return}Ze||Pe(de,_e),Ie(de,_e),Be(de,_e)}}function Zt(de,_e){return de.nodeType!=_e.nodeType||de.nodeName!=_e.nodeName||Xe(de)!=Xe(_e)}function et(de,_e){if(v(lt,de))return;let Ze=_e.cloneNode(!0);v(yt,Ze)||(de.replaceWith(Ze),q(de),ke(Ze))}function Se(de,_e){let Ze=_e.nodeValue;de.nodeValue!==Ze&&(de.nodeValue=Ze)}function Pe(de,_e){if(de._x_transitioning||de._x_isShown&&!_e._x_isShown||!de._x_isShown&&_e._x_isShown)return;let Ze=Array.from(de.attributes),it=Array.from(_e.attributes);for(let ze=Ze.length-1;ze>=0;ze--){let pe=Ze[ze].name;_e.hasAttribute(pe)||de.removeAttribute(pe)}for(let ze=it.length-1;ze>=0;ze--){let pe=it[ze].name,Kt=it[ze].value;de.getAttribute(pe)!==Kt&&de.setAttribute(pe,Kt)}}function Be(de,_e){de._x_teleport&&(de=de._x_teleport),_e._x_teleport&&(_e=_e._x_teleport);let Ze=se(de.children),it={},ze=H(_e),pe=H(de);for(;ze;){Z(ze,pe);let At=Xe(ze),$e=Xe(pe);if(!pe)if(At&&it[At]){let Ae=it[At];de.appendChild(Ae),pe=Ae}else{if(!v(yt,ze)){let Ae=ze.cloneNode(!0);de.appendChild(Ae),ke(Ae)}ze=$(_e,ze);continue}let te=Ae=>Ae&&Ae.nodeType===8&&Ae.textContent==="[if BLOCK]><![endif]",re=Ae=>Ae&&Ae.nodeType===8&&Ae.textContent==="[if ENDBLOCK]><![endif]";if(te(ze)&&te(pe)){let Ae=0,me=pe;for(;pe;){let rt=$(de,pe);if(te(rt))Ae++;else if(re(rt)&&Ae>0)Ae--;else if(re(rt)&&Ae===0){pe=rt;break}pe=rt}let We=pe;Ae=0;let xe=ze;for(;ze;){let rt=$(_e,ze);if(te(rt))Ae++;else if(re(rt)&&Ae>0)Ae--;else if(re(rt)&&Ae===0){ze=rt;break}ze=rt}let ye=ze,Ge=new I(me,We),ot=new I(xe,ye);Be(Ge,ot);continue}if(pe.nodeType===1&&Le&&!pe.isEqualNode(ze)){let Ae=$(_e,ze),me=!1;for(;!me&&Ae;)Ae.nodeType===1&&pe.isEqualNode(Ae)&&(me=!0,pe=bt(de,ze,pe),$e=Xe(pe)),Ae=$(_e,Ae)}if(At!==$e){if(!At&&$e){it[$e]=pe,pe=bt(de,ze,pe),it[$e].remove(),pe=$(de,pe),ze=$(_e,ze);continue}if(At&&!$e&&Ze[At]&&(pe.replaceWith(Ze[At]),pe=Ze[At]),At&&$e){let Ae=Ze[At];if(Ae)it[$e]=pe,pe.replaceWith(Ae),pe=Ae;else{it[$e]=pe,pe=bt(de,ze,pe),it[$e].remove(),pe=$(de,pe),ze=$(_e,ze);continue}}}let we=pe&&$(de,pe);Wt(pe,ze),ze=ze&&$(_e,ze),pe=we}let Kt=[];for(;pe;)v(lt,pe)||Kt.push(pe),pe=$(de,pe);for(;Kt.length;){let At=Kt.shift();At.remove(),q(At)}}function Xe(de){return de&&de.nodeType===1&&Oe(de)}function se(de){let _e={};for(let Ze of de){let it=Xe(Ze);it&&(_e[it]=Ze)}return _e}function bt(de,_e,Ze){if(!v(yt,_e)){let it=_e.cloneNode(!0);return de.insertBefore(it,Ze),ke(it),it}return _e}return zt(z),W=typeof D=="string"?j(D):D,window.Alpine&&window.Alpine.closestDataStack&&!U._x_dataStack&&(W._x_dataStack=window.Alpine.closestDataStack(U),W._x_dataStack&&window.Alpine.cloneNode(U,W)),Wt(U,W),W=void 0,U}b.step=()=>{},b.log=()=>{};function v(U,...D){let z=!1;return U(...D,()=>z=!0),z}var R=!1;function j(U){const D=document.createElement("template");return D.innerHTML=U,D.content.firstElementChild}function B(U){return U.nodeType===3||U.nodeType===8}var I=class{constructor(U,D){this.startComment=U,this.endComment=D}get children(){let U=[],D=this.startComment.nextSibling;for(;D&&D!==this.endComment;)U.push(D),D=D.nextSibling;return U}appendChild(U){this.endComment.before(U)}get firstChild(){let U=this.startComment.nextSibling;if(U!==this.endComment)return U}nextNode(U){let D=U.nextSibling;if(D!==this.endComment)return D}insertBefore(U,D){return D.before(U),U}};function H(U){return U.firstChild}function $(U,D){let z;return U instanceof I?z=U.nextNode(D):z=D.nextSibling,z}function Q(){if(R)return;R=!0;let U=Element.prototype.setAttribute,D=document.createElement("div");Element.prototype.setAttribute=function(W,Oe){if(!W.includes("@"))return U.call(this,W,Oe);D.innerHTML=`<span ${W}="${Oe}"></span>`;let Le=D.firstElementChild.getAttributeNode(W);D.firstElementChild.removeAttributeNode(Le),this.setAttributeNode(Le)}}function Z(U,D){let z=D&&D._x_bindings&&D._x_bindings.id;z&&(U.setAttribute("id",z),U.id=z)}function O(U){U.morph=b}var ee=O}}),xc=Ei({"../alpine/packages/mask/dist/module.cjs.js"(o,c){var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,d=Object.prototype.hasOwnProperty,w=(H,$)=>{for(var Q in $)l(H,Q,{get:$[Q],enumerable:!0})},E=(H,$,Q,Z)=>{if($&&typeof $=="object"||typeof $=="function")for(let O of g($))!d.call(H,O)&&O!==Q&&l(H,O,{get:()=>$[O],enumerable:!(Z=h($,O))||Z.enumerable});return H},S=H=>E(l({},"__esModule",{value:!0}),H),m={};w(m,{default:()=>I,mask:()=>b,stripDown:()=>R}),c.exports=S(m);function b(H){H.directive("mask",($,{value:Q,expression:Z},{effect:O,evaluateLater:ee,cleanup:U})=>{let D=()=>Z,z="";queueMicrotask(()=>{if(["function","dynamic"].includes(Q)){let ae=ee(Z);O(()=>{D=Ie=>{let lt;return H.dontAutoEvaluateFunctions(()=>{ae(q=>{lt=typeof q=="function"?q(Ie):q},{scope:{$input:Ie,$money:B.bind({el:$})}})}),lt},Oe($,!1)})}else Oe($,!1);$._x_model&&$._x_model.set($.value)});const W=new AbortController;U(()=>{W.abort()}),$.addEventListener("input",()=>Oe($),{signal:W.signal,capture:!0}),$.addEventListener("blur",()=>Oe($,!1),{signal:W.signal});function Oe(ae,Ie=!0){let lt=ae.value,q=D(lt);if(!q||q==="false")return!1;if(z.length-ae.value.length===1)return z=ae.value;let yt=()=>{z=ae.value=Le(lt,q)};Ie?v(ae,q,()=>{yt()}):yt()}function Le(ae,Ie){if(ae==="")return"";let lt=R(Ie,ae);return j(Ie,lt)}}).before("model")}function v(H,$,Q){let Z=H.selectionStart,O=H.value;Q();let ee=O.slice(0,Z),U=j($,R($,ee)).length;H.setSelectionRange(U,U)}function R(H,$){let Q=$,Z="",O={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},ee="";for(let U=0;U<H.length;U++){if(["9","a","*"].includes(H[U])){ee+=H[U];continue}for(let D=0;D<Q.length;D++)if(Q[D]===H[U]){Q=Q.slice(0,D)+Q.slice(D+1);break}}for(let U=0;U<ee.length;U++){let D=!1;for(let z=0;z<Q.length;z++)if(O[ee[U]].test(Q[z])){Z+=Q[z],Q=Q.slice(0,z)+Q.slice(z+1),D=!0;break}if(!D)break}return Z}function j(H,$){let Q=Array.from($),Z="";for(let O=0;O<H.length;O++){if(!["9","a","*"].includes(H[O])){Z+=H[O];continue}if(Q.length===0)break;Z+=Q.shift()}return Z}function B(H,$=".",Q,Z=2){if(H==="-")return"-";if(/^\D+$/.test(H))return"9";Q==null&&(Q=$===","?".":",");let O=(z,W)=>{let Oe="",Le=0;for(let ae=z.length-1;ae>=0;ae--)z[ae]!==W&&(Le===3?(Oe=z[ae]+W+Oe,Le=0):Oe=z[ae]+Oe,Le++);return Oe},ee=H.startsWith("-")?"-":"",U=H.replaceAll(new RegExp(`[^0-9\\${$}]`,"g"),""),D=Array.from({length:U.split($)[0].length}).fill("9").join("");return D=`${ee}${O(D,Q)}`,Z>0&&H.includes($)&&(D+=`${$}`+"9".repeat(Z)),queueMicrotask(()=>{this.el.value.endsWith($)||this.el.value[this.el.selectionStart-1]===$&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),D}var I=b}}),hl=class{constructor(){this.arrays=new WeakMap}add(o,c){this.arrays.has(o)||this.arrays.set(o,[]),this.arrays.get(o).push(c)}get(o){return this.arrays.has(o)?this.arrays.get(o):[]}each(o,c){return this.get(o).forEach(c)}};function ao(o,c,l={},h=!0){o.dispatchEvent(new CustomEvent(c,{detail:l,bubbles:h,composed:!0,cancelable:!0}))}function Ho(o){return typeof o=="object"&&o!==null}function ta(o){return Ho(o)&&!Oo(o)}function Oo(o){return Array.isArray(o)}function dl(o){return typeof o=="function"}function na(o){return typeof o!="object"||o===null}function qi(o){return JSON.parse(JSON.stringify(o))}function wi(o,c){return c===""?o:c.split(".").reduce((l,h)=>{if(l!==void 0)return l[h]},o)}function Bs(o,c,l){let h=c.split(".");if(h.length===1)return o[c]=l;let g=h.shift(),d=h.join(".");o[g]===void 0&&(o[g]={}),Bs(o[g],d,l)}function zo(o,c,l={},h=""){if(o===c)return l;if(typeof o!=typeof c||ta(o)&&Oo(c)||Oo(o)&&ta(c)||na(o)||na(c))return l[h]=c,l;let g=Object.keys(o);return Object.entries(c).forEach(([d,w])=>{l={...l,...zo(o[d],c[d],l,h===""?d:`${h}.${d}`)},g=g.filter(E=>E!==d)}),g.forEach(d=>{l[`${h}.${d}`]="__rm__"}),l}function Cr(o){let c=ia(o)?o[0]:o;return ia(o)&&o[1],Ho(c)&&Object.entries(c).forEach(([l,h])=>{c[l]=Cr(h)}),c}function ia(o){return Array.isArray(o)&&o.length===2&&typeof o[1]=="object"&&Object.keys(o[1]).includes("s")}function gl(){if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if(window.livewireScriptConfig.csrf??!1)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}var yr;function mc(){if(yr)return yr;if(window.livewireScriptConfig&&(window.livewireScriptConfig.nonce??!1))return yr=window.livewireScriptConfig.nonce,yr;const o=document.querySelector("style[data-livewire-style][nonce]");return o?(yr=o.nonce,yr):null}function wc(){var o;return((o=document.querySelector("[data-update-uri]"))==null?void 0:o.getAttribute("data-update-uri"))??window.livewireScriptConfig.uri??null}function pl(o){return!!o.match(/<script>Sfdump\(".+"\)<\/script>/)}function yc(o){let c=o.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[c,o.replace(c,"")]}var lo=new WeakMap;function Zr(o){if(!lo.has(o)){let c=new Ec(o);lo.set(o,c),c.registerListeners()}return lo.get(o)}function Ac(o,c,l,h){let g=Zr(l),d=()=>o.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:l.id,property:c}})),w=()=>o.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:l.id,property:c}})),E=()=>o.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:l.id,property:c}})),S=()=>o.dispatchEvent(new CustomEvent("livewire-upload-cancel",{bubbles:!0,detail:{id:l.id,property:c}})),m=R=>{var j=Math.round(R.loaded*100/R.total);o.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:j}}))},b=R=>{R.target.files.length!==0&&(d(),R.target.multiple?g.uploadMultiple(c,R.target.files,w,E,m,S):g.upload(c,R.target.files[0],w,E,m,S))};o.addEventListener("change",b);let v=()=>{o.value=null};o.addEventListener("click",v),o.addEventListener("livewire-upload-cancel",v),h(()=>{o.removeEventListener("change",b),o.removeEventListener("click",v)})}var Ec=class{constructor(o){this.component=o,this.uploadBag=new ra,this.removeBag=new ra}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:o,url:c})=>{this.component,this.handleSignedUrl(o,c)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:o,payload:c})=>{this.component,this.handleS3PreSignedUrl(o,c)}),this.component.$wire.$on("upload:finished",({name:o,tmpFilenames:c})=>this.markUploadFinished(o,c)),this.component.$wire.$on("upload:errored",({name:o})=>this.markUploadErrored(o)),this.component.$wire.$on("upload:removed",({name:o,tmpFilename:c})=>this.removeBag.shift(o).finishCallback(c))}upload(o,c,l,h,g,d){this.setUpload(o,{files:[c],multiple:!1,finishCallback:l,errorCallback:h,progressCallback:g,cancelledCallback:d})}uploadMultiple(o,c,l,h,g,d){this.setUpload(o,{files:Array.from(c),multiple:!0,finishCallback:l,errorCallback:h,progressCallback:g,cancelledCallback:d})}removeUpload(o,c,l){this.removeBag.push(o,{tmpFilename:c,finishCallback:l}),this.component.$wire.call("_removeUpload",o,c)}setUpload(o,c){this.uploadBag.add(o,c),this.uploadBag.get(o).length===1&&this.startUpload(o,c)}handleSignedUrl(o,c){let l=new FormData;Array.from(this.uploadBag.first(o).files).forEach(d=>l.append("files[]",d,d.name));let h={Accept:"application/json"},g=gl();g&&(h["X-CSRF-TOKEN"]=g),this.makeRequest(o,l,"post",c,h,d=>d.paths)}handleS3PreSignedUrl(o,c){let l=this.uploadBag.first(o).files[0],h=c.headers;"Host"in h&&delete h.Host;let g=c.url;this.makeRequest(o,l,"put",g,h,d=>[c.path])}makeRequest(o,c,l,h,g,d){let w=new XMLHttpRequest;w.open(l,h),Object.entries(g).forEach(([E,S])=>{w.setRequestHeader(E,S)}),w.upload.addEventListener("progress",E=>{E.detail={},E.detail.progress=Math.round(E.loaded*100/E.total),this.uploadBag.first(o).progressCallback(E)}),w.addEventListener("load",()=>{if((w.status+"")[0]==="2"){let S=d(w.response&&JSON.parse(w.response));this.component.$wire.call("_finishUpload",o,S,this.uploadBag.first(o).multiple);return}let E=null;w.status===422&&(E=w.response),this.component.$wire.call("_uploadErrored",o,E,this.uploadBag.first(o).multiple)}),this.uploadBag.first(o).request=w,w.send(c)}startUpload(o,c){let l=c.files.map(h=>({name:h.name,size:h.size,type:h.type}));this.component.$wire.call("_startUpload",o,l,c.multiple),this.component}markUploadFinished(o,c){this.component;let l=this.uploadBag.shift(o);l.finishCallback(l.multiple?c:c[0]),this.uploadBag.get(o).length>0&&this.startUpload(o,this.uploadBag.last(o))}markUploadErrored(o){this.component,this.uploadBag.shift(o).errorCallback(),this.uploadBag.get(o).length>0&&this.startUpload(o,this.uploadBag.last(o))}cancelUpload(o,c=null){this.component;let l=this.uploadBag.first(o);l&&(l.request.abort(),this.uploadBag.shift(o).cancelledCallback(),c&&c())}},ra=class{constructor(){this.bag={}}add(o,c){this.bag[o]||(this.bag[o]=[]),this.bag[o].push(c)}push(o,c){this.add(o,c)}first(o){return this.bag[o]?this.bag[o][0]:null}last(o){return this.bag[o].slice(-1)[0]}get(o){return this.bag[o]}shift(o){return this.bag[o].shift()}call(o,...c){(this.listeners[o]||[]).forEach(l=>{l(...c)})}has(o){return Object.keys(this.listeners).includes(o)}};function Cc(o,c,l,h=()=>{},g=()=>{},d=()=>{},w=()=>{}){Zr(o).upload(c,l,h,g,d,w)}function bc(o,c,l,h=()=>{},g=()=>{},d=()=>{},w=()=>{}){Zr(o).uploadMultiple(c,l,h,g,d,w)}function vc(o,c,l,h=()=>{},g=()=>{}){Zr(o).removeUpload(c,l,h,g)}function Sc(o,c,l=()=>{}){Zr(o).cancelUpload(c,l)}var sa=qt(vn());function xl(o,c){return c||(c=()=>{}),(l,h=!1)=>{let g=h,d=l,w=o.$wire,E=w.get(d);return sa.default.interceptor((m,b,v,R,j)=>{if(typeof E>"u"){console.error(`Livewire Entangle Error: Livewire property ['${d}'] cannot be found on component: ['${o.name}']`);return}let B=sa.default.entangle({get(){return w.get(l)},set(I){w.set(l,I,g)}},{get(){return b()},set(I){v(I)}});return c(()=>B()),Ic(w.get(l))},m=>{Object.defineProperty(m,"live",{get(){return g=!0,m}})})(E)}}function Ic(o){return typeof o=="object"?JSON.parse(JSON.stringify(o)):o}var Ki=[];function Ot(o,c){return Ki[o]||(Ki[o]=[]),Ki[o].push(c),()=>{Ki[o]=Ki[o].filter(l=>l!==c)}}function nn(o,...c){let l=Ki[o]||[],h=[];for(let g=0;g<l.length;g++){let d=l[g](...c);dl(d)&&h.push(d)}return g=>wl(h,g)}async function ml(o,...c){let l=Ki[o]||[],h=[];for(let g=0;g<l.length;g++){let d=await l[g](...c);dl(d)&&h.push(d)}return g=>wl(h,g)}function wl(o,c){let l=c;for(let h=0;h<o.length;h++){let g=o[h](l);g!==void 0&&(l=g)}return l}function yl(o){let c=document.createElement("html");c.innerHTML=o,c.querySelectorAll("a").forEach(g=>g.setAttribute("target","_top"));let l=document.getElementById("livewire-error");typeof l<"u"&&l!=null?l.innerHTML="":(l=document.createElement("div"),l.id="livewire-error",l.style.position="fixed",l.style.width="100vw",l.style.height="100vh",l.style.padding="50px",l.style.backgroundColor="rgba(0, 0, 0, .6)",l.style.zIndex=2e5);let h=document.createElement("iframe");h.style.backgroundColor="#17161A",h.style.borderRadius="5px",h.style.width="100%",h.style.height="100%",l.appendChild(h),document.body.prepend(l),document.body.style.overflow="hidden",h.contentWindow.document.open(),h.contentWindow.document.write(c.outerHTML),h.contentWindow.document.close(),l.addEventListener("click",()=>oa(l)),l.setAttribute("tabindex",0),l.addEventListener("keydown",g=>{g.key==="Escape"&&oa(l)}),l.focus()}function oa(o){o.outerHTML="",document.body.style.overflow="visible"}var _c=class{constructor(){this.commits=new Set}add(o){this.commits.add(o)}delete(o){this.commits.delete(o)}hasCommitFor(o){return!!this.findCommitByComponent(o)}findCommitByComponent(o){for(let[c,l]of this.commits.entries())if(l.component===o)return l}shouldHoldCommit(o){return!o.isolate}empty(){return this.commits.size===0}async send(){this.prepare(),await Dc(this)}prepare(){this.commits.forEach(o=>o.prepare())}payload(){let o=[],c=[],l=[];return this.commits.forEach(d=>{let[w,E,S]=d.toRequestPayload();o.push(w),c.push(E),l.push(S)}),[o,d=>c.forEach(w=>w(d.shift())),()=>l.forEach(d=>d())]}},Tc=class{constructor(o){this.component=o,this.isolate=!1,this.calls=[],this.receivers=[],this.resolvers=[]}addResolver(o){this.resolvers.push(o)}addCall(o,c,l){this.calls.push({path:"",method:o,params:c,handleReturn(h){l(h)}})}prepare(){nn("commit.prepare",{component:this.component})}toRequestPayload(){let o=zo(this.component.canonical,this.component.ephemeral),c=this.component.mergeQueuedUpdates(o),l={snapshot:this.component.snapshotEncoded,updates:c,calls:this.calls.map(R=>({path:R.path,method:R.method,params:R.params}))},h=[],g=[],d=[],w=R=>h.forEach(j=>j(R)),E=()=>g.forEach(R=>R()),S=()=>d.forEach(R=>R()),m=nn("commit",{component:this.component,commit:l,succeed:R=>{h.push(R)},fail:R=>{g.push(R)},respond:R=>{d.push(R)}});return[l,R=>{let{snapshot:j,effects:B}=R;if(S(),this.component.mergeNewSnapshot(j,B,c),this.component.processEffects(this.component.effects),B.returns){let H=B.returns;this.calls.map(({handleReturn:Q})=>Q).forEach((Q,Z)=>{Q(H[Z])})}let I=JSON.parse(j);m({snapshot:I,effects:B}),this.resolvers.forEach(H=>H()),w(R)},()=>{S(),E()}]}},Nc=class{constructor(){this.commits=new Set,this.pools=new Set}add(o){let c=this.findCommitOr(o,()=>{let l=new Tc(o);return this.commits.add(l),l});return Oc(c,()=>{this.findPoolWithComponent(c.component)||this.createAndSendNewPool()}),c}findCommitOr(o,c){for(let[l,h]of this.commits.entries())if(h.component===o)return h;return c()}findPoolWithComponent(o){for(let[c,l]of this.pools.entries())if(l.hasCommitFor(o))return l}createAndSendNewPool(){nn("commit.pooling",{commits:this.commits});let o=this.corraleCommitsIntoPools();this.commits.clear(),nn("commit.pooled",{pools:o}),o.forEach(c=>{c.empty()||(this.pools.add(c),c.send().then(()=>{this.pools.delete(c),this.sendAnyQueuedCommits()}))})}corraleCommitsIntoPools(){let o=new Set;for(let[c,l]of this.commits.entries()){let h=!1;if(o.forEach(g=>{g.shouldHoldCommit(l)&&(g.add(l),h=!0)}),!h){let g=new _c;g.add(l),o.add(g)}}return o}sendAnyQueuedCommits(){this.commits.size>0&&this.createAndSendNewPool()}},co=new WeakMap;function Oc(o,c){co.has(o)||co.set(o,setTimeout(()=>{c(),co.delete(o)},5))}var Al=new Nc;async function El(o){let c=Al.add(o),l=new Promise(h=>{c.addResolver(h)});return l.commit=c,l}async function Mc(o,c,l){let h=Al.add(o),g=new Promise(d=>{h.addCall(c,l,w=>d(w))});return g.commit=h,g}async function Dc(o){let[c,l,h]=o.payload(),g={method:"POST",body:JSON.stringify({_token:gl(),components:c}),headers:{"Content-type":"application/json","X-Livewire":""}},d=[],w=[],E=[],S=Q=>d.forEach(Z=>Z(Q)),m=Q=>w.forEach(Z=>Z(Q)),b=Q=>E.forEach(Z=>Z(Q)),v=nn("request.profile",g),R=wc();nn("request",{url:R,options:g,payload:g.body,respond:Q=>E.push(Q),succeed:Q=>d.push(Q),fail:Q=>w.push(Q)});let j;try{j=await fetch(R,g)}catch{v({content:"{}",failed:!0}),h(),m({status:503,content:null,preventDefault:()=>{}});return}let B={status:j.status,response:j};b(B),j=B.response;let I=await j.text();if(!j.ok){v({content:"{}",failed:!0});let Q=!1;return h(),m({status:j.status,content:I,preventDefault:()=>Q=!0}),Q?void 0:(j.status===419&&Rc(),Lc(I))}if(j.redirected&&(window.location.href=j.url),pl(I)){let Q;[Q,I]=yc(I),yl(Q),v({content:"{}",failed:!0})}else v({content:I,failed:!1});let{components:H,assets:$}=JSON.parse(I);await ml("payload.intercept",{components:H,assets:$}),await l(H),S({status:j.status,json:JSON.parse(I)})}function Rc(){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload()}function Lc(o){yl(o)}var Cl=qt(vn()),Wo={},bl;function fn(o,c,l=null){Wo[o]=c}function Bc(o){bl=o}var aa={on:"$on",el:"$el",id:"$id",get:"$get",set:"$set",call:"$call",commit:"$commit",watch:"$watch",entangle:"$entangle",dispatch:"$dispatch",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",upload:"$upload",uploadMultiple:"$uploadMultiple",removeUpload:"$removeUpload",cancelUpload:"$cancelUpload"};function Pc(o,c){return new Proxy({},{get(l,h){if(h==="__instance")return o;if(h in aa)return la(o,aa[h]);if(h in Wo)return la(o,h);if(h in c)return c[h];if(!["then"].includes(h))return kc(o)(h)},set(l,h,g){return h in c&&(c[h]=g),!0}})}function la(o,c){return Wo[c](o)}function kc(o){return bl(o)}Cl.default.magic("wire",(o,{cleanup:c})=>{let l;return new Proxy({},{get(h,g){return l||(l=Oi(o)),["$entangle","entangle"].includes(g)?xl(l,c):l.$wire[g]},set(h,g,d){return l||(l=Oi(o)),l.$wire[g]=d,!0}})});fn("__instance",o=>o);fn("$get",o=>(c,l=!0)=>wi(l?o.reactive:o.ephemeral,c));fn("$el",o=>o.el);fn("$id",o=>o.id);fn("$set",o=>async(c,l,h=!0)=>(Bs(o.reactive,c,l),h?(o.queueUpdate(c,l),await El(o)):Promise.resolve()));fn("$call",o=>async(c,...l)=>await o.$wire[c](...l));fn("$entangle",o=>(c,l=!1)=>xl(o)(c,l));fn("$toggle",o=>(c,l=!0)=>o.$wire.set(c,!o.$wire.get(c),l));fn("$watch",o=>(c,l)=>{let h=!0,g;Cl.default.effect(()=>{let d=wi(o.reactive,c);JSON.stringify(d),h?g=d:queueMicrotask(()=>{l(d,g),g=d}),h=!1})});fn("$refresh",o=>o.$wire.$commit);fn("$commit",o=>async()=>await El(o));fn("$on",o=>(...c)=>qc(o,...c));fn("$dispatch",o=>(...c)=>Sl(o,...c));fn("$dispatchSelf",o=>(...c)=>vr(o,...c));fn("$dispatchTo",()=>(...o)=>Vo(...o));fn("$upload",o=>(...c)=>Cc(o,...c));fn("$uploadMultiple",o=>(...c)=>bc(o,...c));fn("$removeUpload",o=>(...c)=>vc(o,...c));fn("$cancelUpload",o=>(...c)=>Sc(o,...c));var uo=new WeakMap;fn("$parent",o=>{if(uo.has(o))return uo.get(o).$wire;let c=Oi(o.el.parentElement);return uo.set(o,c),c.$wire});var br=new WeakMap;function Fc(o,c,l){br.has(o)||br.set(o,{});let h=br.get(o);h[c]=l,br.set(o,h)}Bc(o=>c=>async(...l)=>{if(l.length===1&&l[0]instanceof Event&&(l=[]),br.has(o)){let h=br.get(o);if(typeof h[c]=="function")return h[c](l)}return await Mc(o,c,l)});var Uc=class{constructor(o){if(o.__livewire)throw"Component already initialized";if(o.__livewire=this,this.el=o,this.id=o.getAttribute("wire:id"),this.__livewireId=this.id,this.snapshotEncoded=o.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(o.getAttribute("wire:effects")),this.originalEffects=qi(this.effects),this.canonical=Cr(qi(this.snapshot.data)),this.ephemeral=Cr(qi(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.queuedUpdates={},this.$wire=Pc(this,this.reactive),this.cleanups=[],this.processEffects(this.effects)}mergeNewSnapshot(o,c,l={}){let h=JSON.parse(o),g=qi(this.canonical),d=this.applyUpdates(g,l),w=Cr(qi(h.data)),E=zo(d,w);this.snapshotEncoded=o,this.snapshot=h,this.effects=c,this.canonical=Cr(qi(h.data));let S=Cr(qi(h.data));return Object.entries(E).forEach(([m,b])=>{let v=m.split(".")[0];this.reactive[v]=S[v]}),E}queueUpdate(o,c){this.queuedUpdates[o]=c}mergeQueuedUpdates(o){return Object.entries(this.queuedUpdates).forEach(([c,l])=>{Object.entries(o).forEach(([h,g])=>{h.startsWith(l)&&delete o[h]}),o[c]=l}),this.queuedUpdates=[],o}applyUpdates(o,c){for(let l in c)Bs(o,l,c[l]);return o}replayUpdate(o,c){let l={...this.effects,html:c};this.mergeNewSnapshot(JSON.stringify(o),l),this.processEffects({html:c})}processEffects(o){nn("effects",this,o),nn("effect",{component:this,effects:o,cleanup:c=>this.addCleanup(c)})}get children(){let o=this.snapshot.memo;return Object.values(o.children).map(l=>l[1]).map(l=>zc(l))}inscribeSnapshotAndEffectsOnElement(){let o=this.el;o.setAttribute("wire:snapshot",this.snapshotEncoded);let c=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(c.url=this.originalEffects.url),o.setAttribute("wire:effects",JSON.stringify(c))}addCleanup(o){this.cleanups.push(o)}cleanup(){for(delete this.el.__livewire;this.cleanups.length>0;)this.cleanups.pop()()}},Ai={};function jc(o){let c=new Uc(o);if(Ai[c.id])throw"Component already registered";return nn("component.init",{component:c,cleanup:h=>c.addCleanup(h)}),Ai[c.id]=c,c}function Hc(o){let c=Ai[o];c&&(c.cleanup(),delete Ai[o])}function zc(o){let c=Ai[o];if(!c)throw"Component not found: "+o;return c}function Oi(o,c=!0){let l=Alpine.findClosest(o,h=>h.__livewire);if(!l){if(c)throw"Could not find Livewire component in DOM tree";return}return l.__livewire}function vl(o){return Object.values(Ai).filter(c=>o==c.name)}function Wc(o){return vl(o).map(c=>c.$wire)}function Vc(o){let c=Ai[o];return c&&c.$wire}function Gc(){return Object.values(Ai)[0].$wire}function Xc(){return Object.values(Ai)}function Sl(o,c,l){Ps(o.el,c,l)}function Yc(o,c){Ps(window,o,c)}function vr(o,c,l){Ps(o.el,c,l,!1)}function Vo(o,c,l){vl(o).forEach(g=>{Ps(g.el,c,l,!1)})}function qc(o,c,l){o.el.addEventListener(c,h=>{l(h.detail)})}function Zc(o,c){let l=h=>{h.__livewire&&c(h.detail)};return window.addEventListener(o,l),()=>{window.removeEventListener(o,l)}}function Ps(o,c,l,h=!0){let g=new CustomEvent(c,{bubbles:h,detail:l});g.__livewire={name:c,params:l,receivedBy:[]},o.dispatchEvent(g)}function Yr(o){return o.match(new RegExp("wire:"))}function Mo(o,c){let[l,...h]=c.replace(new RegExp("wire:"),"").split(".");return new Qc(l,h,c,o)}function ei(o,c){Ot("directive.init",({el:l,component:h,directive:g,cleanup:d})=>{g.value===o&&c({el:l,directive:g,component:h,cleanup:d})})}function ks(o){return new Kc(o)}var Kc=class{constructor(o){this.el=o,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(o){return this.directives.map(c=>c.value).includes(o)}missing(o){return!this.has(o)}get(o){return this.directives.find(c=>c.value===o)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(o=>Yr(o)).map(o=>Mo(this.el,o)))}},Qc=class{constructor(o,c,l,h){this.rawName=this.raw=l,this.el=h,this.eventContext,this.value=o,this.modifiers=c,this.expression=this.el.getAttribute(this.rawName)}get method(){const{method:o}=this.parseOutMethodAndParams(this.expression);return o}get params(){const{params:o}=this.parseOutMethodAndParams(this.expression);return o}parseOutMethodAndParams(o){let c=o,l=[];const h=c.match(/(.*?)\((.*)\)/s);return h&&(c=h[1],l=new Function("$event",`return (function () {
                for (var l=arguments.length, p=new Array(l), k=0; k<l; k++) {
                    p[k] = arguments[k];
                }
                return [].concat(p);
            })(${h[2]})`)(this.eventContext)),{method:c,params:l}}},Jc=qt(cc()),$c=qt(uc()),eu=qt(fc()),tu=qt(hc()),nu=qt(dc());function iu(){let o=new URL(window.location.href,document.baseURI);au(o,document.documentElement.outerHTML)}function ru(o){window.addEventListener("popstate",c=>{let h=(c.state||{}).alpine||{};if(!h._html)return;let g=lu(h._html);o(g)})}function su(o,c){ou(c,o)}function ou(o,c){Il("pushState",o,c)}function au(o,c){Il("replaceState",o,c)}function Il(o,c,l){let h=new Date().getTime();_l(h,l);let g=history.state||{};g.alpine||(g.alpine={}),g.alpine._html=h;try{history[o](g,document.title,c)}catch(d){d instanceof DOMException&&d.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+c),console.error(d)}}function lu(o){return JSON.parse(sessionStorage.getItem("alpine:"+o))}function _l(o,c){try{sessionStorage.setItem("alpine:"+o,JSON.stringify(c))}catch(l){if(![22,1,2,3,4,5,6,7,8,9,10,11,12,13,14].includes(l.code))return;let h=Object.keys(sessionStorage).map(g=>Number(g.replace("alpine:",""))).sort().shift();if(!h)return;sessionStorage.removeItem("alpine:"+h),_l(o,c)}}function cu(o,c){let l=d=>!d.isTrusted,h=d=>d.which>1||d.altKey||d.ctrlKey||d.metaKey||d.shiftKey,g=d=>d.which!==13||d.altKey||d.ctrlKey||d.metaKey||d.shiftKey;o.addEventListener("click",d=>{if(l(d)){d.preventDefault(),c(w=>w());return}h(d)||d.preventDefault()}),o.addEventListener("mousedown",d=>{h(d)||(d.preventDefault(),c(w=>{let E=S=>{S.preventDefault(),w(),o.removeEventListener("mouseup",E)};o.addEventListener("mouseup",E)}))}),o.addEventListener("keydown",d=>{g(d)||(d.preventDefault(),c(w=>w()))})}function uu(o,c=60,l){o.addEventListener("mouseenter",h=>{let g=setTimeout(()=>{l(h)},c),d=()=>{clearTimeout(g),o.removeEventListener("mouseleave",d)};o.addEventListener("mouseleave",d)})}function ca(o){return Go(o.getAttribute("href"))}function Go(o){return new URL(o,document.baseURI)}function fu(o,c){let l=o.pathname+o.search;Tl(l,(h,g)=>{c(h,g)})}function Tl(o,c){let l={headers:{"X-Livewire-Navigate":""}};nn("navigate.request",{url:o,options:l});let h;fetch(o,l).then(g=>(h=Go(g.url),g.text())).then(g=>{c(g,h)})}var Gn={};function ua(o,c){let l=o.pathname;Gn[l]||(Gn[l]={finished:!1,html:null,whenFinished:()=>{}},Tl(l,(h,g)=>{c(h,g)}))}function fa(o,c,l){let h=Gn[c.pathname];h.html=o,h.finished=!0,h.finalDestination=l,h.whenFinished()}function hu(o,c,l){let h=o.pathname+o.search;if(!Gn[h])return l();if(Gn[h].finished){let g=Gn[h].html,d=Gn[h].finalDestination;return delete Gn[h],c(g,d)}else Gn[h].whenFinished=()=>{let g=Gn[h].html,d=Gn[h].finalDestination;delete Gn[h],c(g,d)}}var Xo=qt(vn());function ha(o){Xo.default.mutateDom(()=>{o.querySelectorAll("[data-teleport-template]").forEach(c=>c._x_teleport.remove())})}function da(o){Xo.default.mutateDom(()=>{o.querySelectorAll("[data-teleport-target]").forEach(c=>c.remove())})}function ga(o){Xo.default.walk(o,(c,l)=>{c._x_teleport&&(c._x_teleportPutBack(),l())})}function du(o){return o.hasAttribute("data-teleport-target")}function pa(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(o=>{o.setAttribute("data-scroll-x",o.scrollLeft),o.setAttribute("data-scroll-y",o.scrollTop)})}function xa(){let o=c=>{c.hasAttribute("data-scroll-x")?(c.scrollTo({top:Number(c.getAttribute("data-scroll-y")),left:Number(c.getAttribute("data-scroll-x")),behavior:"instant"}),c.removeAttribute("data-scroll-x"),c.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{o(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:scroll]"]).forEach(o)})}var Do=qt(vn()),qr={};function ma(o){qr={},document.querySelectorAll("[x-persist]").forEach(c=>{qr[c.getAttribute("x-persist")]=c,o(c),Do.default.mutateDom(()=>{c.remove()})})}function wa(o){let c=[];document.querySelectorAll("[x-persist]").forEach(l=>{let h=qr[l.getAttribute("x-persist")];h&&(c.push(l.getAttribute("x-persist")),h._x_wasPersisted=!0,o(h,l),Do.default.mutateDom(()=>{l.replaceWith(h)}))}),Object.entries(qr).forEach(([l,h])=>{c.includes(l)||Do.default.destroyTree(h)}),qr={}}function gu(o){return o.hasAttribute("x-persist")}var Ms=qt(gc());Ms.default.configure({minimum:.1,trickleSpeed:200,showSpinner:!1});mu();var Ro=!1;function pu(){Ro=!0,setTimeout(()=>{Ro&&Ms.default.start()},150)}function xu(){Ro=!1,Ms.default.done(),Ms.default.remove()}function mu(){let o=document.createElement("style");o.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px var(--livewire-progress-bar-color, #29d), 0 0 5px var(--livewire-progress-bar-color, #29d);
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `;let c=mc();c&&(o.nonce=c),document.head.appendChild(o)}var fo=[],Nl=["data-csrf","aria-hidden"];function ya(o,c){let l=new DOMParser().parseFromString(o,"text/html"),h=document.adoptNode(l.body),g=document.adoptNode(l.head);fo=fo.concat(Array.from(document.body.querySelectorAll("script")).map(E=>Rl(Ll(E.outerHTML,Nl))));let d=()=>{};yu(g).finally(()=>{d()}),wu(h,fo);let w=document.body;document.body.replaceWith(h),Alpine.destroyTree(w),c(E=>d=E)}function wu(o,c){o.querySelectorAll("script").forEach(l=>{if(l.hasAttribute("data-navigate-once")){let h=Rl(Ll(l.outerHTML,Nl));if(c.includes(h))return}l.replaceWith(Ol(l))})}function yu(o){let c=Array.from(document.head.children),l=c.map(d=>d.outerHTML),h=document.createDocumentFragment(),g=[];for(let d of Array.from(o.children))if(Ea(d))if(l.includes(d.outerHTML))h.appendChild(d);else if(Ml(d)&&Eu(d,c)&&setTimeout(()=>window.location.reload()),Dl(d))try{g.push(Au(Ol(d)))}catch{}else document.head.appendChild(d);for(let d of Array.from(document.head.children))Ea(d)||d.remove();for(let d of Array.from(o.children))document.head.appendChild(d);return Promise.all(g)}async function Au(o){return new Promise((c,l)=>{o.src?(o.onload=()=>c(),o.onerror=()=>l()):c(),document.head.appendChild(o)})}function Ol(o){let c=document.createElement("script");c.textContent=o.textContent,c.async=o.async;for(let l of o.attributes)c.setAttribute(l.name,l.value);return c}function Ml(o){return o.hasAttribute("data-navigate-track")}function Eu(o,c){let[l,h]=Aa(o);return c.some(g=>{if(!Ml(g))return!1;let[d,w]=Aa(g);if(d===l&&h!==w)return!0})}function Aa(o){return(Dl(o)?o.src:o.href).split("?")}function Ea(o){return o.tagName.toLowerCase()==="link"&&o.getAttribute("rel").toLowerCase()==="stylesheet"||o.tagName.toLowerCase()==="style"||o.tagName.toLowerCase()==="script"}function Dl(o){return o.tagName.toLowerCase()==="script"}function Rl(o){return o.split("").reduce((c,l)=>(c=(c<<5)-c+l.charCodeAt(0),c&c),0)}function Ll(o,c){let l=o;return c.forEach(h=>{const g=new RegExp(`${h}="[^"]*"|${h}='[^']*'`,"g");l=l.replace(g,"")}),l=l.replaceAll(" ",""),l.trim()}var ho=!0;function Cu(o){o.navigate=l=>{c(Go(l))},o.navigate.disableProgressBar=()=>{ho=!1},o.addInitSelector(()=>`[${o.prefixed("navigate")}]`),o.directive("navigate",(l,{modifiers:h})=>{h.includes("hover")&&uu(l,60,()=>{let d=ca(l);ua(d,(w,E)=>{fa(w,d,E)})}),cu(l,d=>{let w=ca(l);ua(w,(E,S)=>{fa(E,w,S)}),d(()=>{c(w)})})});function c(l){ho&&pu(),bu(l,(h,g)=>{Ns("alpine:navigating"),pa(),ho&&xu(),vu(),iu(),Ca(o,d=>{ma(w=>{ha(w)}),ya(h,w=>{da(document.body),wa((E,S)=>{ga(E)}),xa(),su(h,g),Ns("alpine:navigated"),w(()=>{d(()=>{setTimeout(()=>{}),ba(o)})})})})})}ru(l=>{pa(),Ca(o,h=>{ma(g=>{ha(g)}),ya(l,()=>{da(document.body),wa((g,d)=>{ga(g)}),xa(),Ns("alpine:navigated"),h(()=>{ba(o)})})})}),setTimeout(()=>{Ns("alpine:navigated")})}function bu(o,c){hu(o,c,()=>{fu(o,c)})}function Ca(o,c){o.stopObservingMutations(),c(l=>{o.startObservingMutations(),queueMicrotask(()=>{l()})})}function Ns(o){document.dispatchEvent(new CustomEvent(o,{bubbles:!0}))}function ba(o){o.initTree(document.body,void 0,(c,l)=>{c._x_wasPersisted&&l()})}function vu(){let o=function(c,l){Alpine.walk(c,(h,g)=>{gu(h)&&g(),du(h)?g():l(h,g)})};Alpine.destroyTree(document.body,o)}function Su(o){o.magic("queryString",(c,{interceptor:l})=>{let h,g=!1,d=!1;return l((w,E,S,m,b)=>{let v=h||m,{initial:R,replace:j,push:B,pop:I}=Lo(v,w,g);return S(R),d?(o.effect(()=>B(E())),I(async H=>{S(H),await(()=>Promise.resolve())()})):o.effect(()=>j(E())),R},w=>{w.alwaysShow=()=>(g=!0,w),w.usePush=()=>(d=!0,w),w.as=E=>(h=E,w)})}),o.history={track:Lo}}function Lo(o,c,l=!1){let{has:h,get:g,set:d,remove:w}=_u(),E=new URL(window.location.href),S=h(E,o),m=S?g(E,o):c,b=JSON.stringify(m),v=B=>JSON.stringify(B)===b;l&&(E=d(E,o,m)),va(E,o,{value:m});let R=!1,j=(B,I)=>{if(R)return;let H=new URL(window.location.href);!l&&!S&&v(I)||I===void 0?H=w(H,o):H=d(H,o,I),B(H,o,{value:I})};return{initial:m,replace(B){j(va,B)},push(B){j(Iu,B)},pop(B){let I=H=>{!H.state||!H.state.alpine||Object.entries(H.state.alpine).forEach(([$,{value:Q}])=>{if($!==o)return;R=!0;let Z=B(Q);Z instanceof Promise?Z.finally(()=>R=!1):R=!1})};return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)}}}function va(o,c,l){let h=window.history.state||{};h.alpine||(h.alpine={}),h.alpine[c]=Yo(l),window.history.replaceState(h,"",o.toString())}function Iu(o,c,l){let h=window.history.state||{};h.alpine||(h.alpine={}),h={alpine:{...h.alpine,[c]:Yo(l)}},window.history.pushState(h,"",o.toString())}function Yo(o){if(o!==void 0)return JSON.parse(JSON.stringify(o))}function _u(){return{has(o,c){let l=o.search;if(!l)return!1;let h=Os(l);return Object.keys(h).includes(c)},get(o,c){let l=o.search;return l?Os(l)[c]:!1},set(o,c,l){let h=Os(o.search);return h[c]=Bl(Yo(l)),o.search=Sa(h),o},remove(o,c){let l=Os(o.search);return delete l[c],o.search=Sa(l),o}}}function Bl(o){if(!Ho(o))return o;for(let c in o)o[c]===null?delete o[c]:o[c]=Bl(o[c]);return o}function Sa(o){let c=g=>typeof g=="object"&&g!==null,l=(g,d={},w="")=>(Object.entries(g).forEach(([E,S])=>{let m=w===""?E:`${w}[${E}]`;S===null?d[m]="":c(S)?d={...d,...l(S,d,m)}:d[m]=encodeURIComponent(S).replaceAll("%20","+").replaceAll("%2C",",")}),d),h=l(o);return Object.entries(h).map(([g,d])=>`${g}=${d}`).join("&")}function Os(o){if(o=o.replace("?",""),o==="")return{};let c=(g,d,w)=>{let[E,S,...m]=g.split(".");if(!S)return w[g]=d;w[E]===void 0&&(w[E]=isNaN(S)?{}:[]),c([S,...m].join("."),d,w[E])},l=o.split("&").map(g=>g.split("=")),h=Object.create(null);return l.forEach(([g,d])=>{if(d=decodeURIComponent(d.replaceAll("+","%20")),!g.includes("["))h[g]=d;else{let w=g.replaceAll("[",".").replaceAll("]","");c(w,d,h)}}),h}var Tu=qt(pc()),Nu=qt(xc()),bn=qt(vn());function Ou(){setTimeout(()=>Mu()),ao(document,"livewire:init"),ao(document,"livewire:initializing"),bn.default.plugin(Tu.default),bn.default.plugin(Su),bn.default.plugin(tu.default),bn.default.plugin(Jc.default),bn.default.plugin(nu.default),bn.default.plugin($c.default),bn.default.plugin(eu.default),bn.default.plugin(Cu),bn.default.plugin(Nu.default),bn.default.addRootSelector(()=>"[wire\\:id]"),bn.default.onAttributesAdded((o,c)=>{if(!Array.from(c).some(h=>Yr(h.name)))return;let l=Oi(o,!1);l&&c.forEach(h=>{if(!Yr(h.name))return;let g=Mo(o,h.name);nn("directive.init",{el:o,component:l,directive:g,cleanup:d=>{bn.default.onAttributeRemoved(o,g.raw,d)}})})}),bn.default.interceptInit(bn.default.skipDuringClone(o=>{if(!Array.from(o.attributes).some(l=>Yr(l.name)))return;if(o.hasAttribute("wire:id")){let l=jc(o);bn.default.onAttributeRemoved(o,"wire:id",()=>{Hc(l.id)})}let c=Oi(o,!1);c&&(nn("element.init",{el:o,component:c}),Array.from(o.getAttributeNames()).filter(h=>Yr(h)).map(h=>Mo(o,h)).forEach(h=>{nn("directive.init",{el:o,component:c,directive:h,cleanup:g=>{bn.default.onAttributeRemoved(o,h.raw,g)}})}))})),bn.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),ao(document,"livewire:initialized")}function Mu(){let o=document.querySelector("script[data-update-uri][data-csrf]");if(!o)return;let c=o.closest("[wire\\:id]");c&&console.warn("Livewire: missing closing tags found. Ensure your template elements contain matching closing tags.",c)}var qo=qt(vn()),Du=qt(vn()),_r={};Ot("element.init",({el:o,component:c})=>setTimeout(()=>{ks(o).missing("submit")||o.addEventListener("submit",()=>{_r[c.id]=[],Du.default.walk(c.el,(h,g)=>{if(o.contains(h)){if(h.hasAttribute("wire:ignore"))return g();h.tagName.toLowerCase()==="button"&&h.type==="submit"||h.tagName.toLowerCase()==="select"||h.tagName.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")?(h.disabled||_r[c.id].push(()=>h.disabled=!1),h.disabled=!0):(h.tagName.toLowerCase()==="input"||h.tagName.toLowerCase()==="textarea")&&(h.readOnly||_r[c.id].push(()=>h.readOnly=!1),h.readOnly=!0)}})})}));Ot("commit",({component:o,respond:c})=>{c(()=>{Ru(o)})});function Ru(o){if(_r[o.id])for(;_r[o.id].length>0;)_r[o.id].shift()()}Ot("commit.pooling",({commits:o})=>{o.forEach(c=>{let l=c.component;Pl(l,h=>{h.$wire.$commit()})})});Ot("commit.pooled",({pools:o})=>{Lu(o).forEach(l=>{let h=l.component;Pl(h,g=>{Bu(o,h,g)})})});function Lu(o){let c=[];return o.forEach(l=>{l.commits.forEach(h=>{c.push(h)})}),c}function Bu(o,c,l){let h=Ia(o,c),g=Ia(o,l),d=g.findCommitByComponent(l);g.delete(d),h.add(d),o.forEach(w=>{w.empty()&&o.delete(w)})}function Ia(o,c){for(let[l,h]of o.entries())if(h.hasCommitFor(c))return h}function Pl(o,c){kl(o,l=>{(Pu(l)||ku(l))&&c(l)})}function Pu(o){return!!o.snapshot.memo.props}function ku(o){return!!o.snapshot.memo.bindings}function kl(o,c){o.children.forEach(l=>{c(l),kl(l,c)})}var _a=qt(vn()),Ar=new WeakMap,Ds=new Set;Ot("payload.intercept",async({assets:o})=>{if(o)for(let[c,l]of Object.entries(o))await ju(c,async()=>{await Hu(l)})});Ot("component.init",({component:o})=>{let c=o.snapshot.memo.assets;c&&c.forEach(l=>{Ds.has(l)||Ds.add(l)})});Ot("effect",({component:o,effects:c})=>{let l=c.scripts;l&&Object.entries(l).forEach(([h,g])=>{Fu(o,h,()=>{let d=Uu(g);_a.default.dontAutoEvaluateFunctions(()=>{_a.default.evaluate(o.el,d,{$wire:o.$wire})})})})});function Fu(o,c,l){if(Ar.has(o)&&Ar.get(o).includes(c))return;l(),Ar.has(o)||Ar.set(o,[]);let h=Ar.get(o);h.push(c),Ar.set(o,h)}function Uu(o){let l=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.exec(o);return l&&l[1]?l[1].trim():""}async function ju(o,c){Ds.has(o)||(await c(),Ds.add(o))}async function Hu(o){let c=new DOMParser().parseFromString(o,"text/html"),l=document.adoptNode(c.head);for(let h of l.children)try{await zu(h)}catch{}}async function zu(o){return new Promise((c,l)=>{if(Wu(o)){let h=Vu(o);h.src?(h.onload=()=>c(),h.onerror=()=>l()):c(),document.head.appendChild(h)}else document.head.appendChild(o),c()})}function Wu(o){return o.tagName.toLowerCase()==="script"}function Vu(o){let c=document.createElement("script");c.textContent=o.textContent,c.async=o.async;for(let l of o.attributes)c.setAttribute(l.name,l.value);return c}Ot("commit",({succeed:o})=>{o(({effects:c})=>{let l=c.download;if(!l)return;let h=window.webkitURL||window.URL,g=h.createObjectURL(Gu(l.content,l.contentType)),d=document.createElement("a");d.style.display="none",d.href=g,d.download=l.name,document.body.appendChild(d),d.click(),setTimeout(function(){h.revokeObjectURL(g)},0)})});function Gu(o,c="",l=512){const h=atob(o),g=[];c===null&&(c="");for(let d=0;d<h.length;d+=l){let w=h.slice(d,d+l),E=new Array(w.length);for(let m=0;m<w.length;m++)E[m]=w.charCodeAt(m);let S=new Uint8Array(E);g.push(S)}return new Blob(g,{type:c})}var Ta=qt(vn());Ot("effect",({component:o,effects:c})=>{let l=c.js,h=c.xjs;l&&Object.entries(l).forEach(([g,d])=>{Fc(o,g,()=>{Ta.default.evaluate(o.el,d)})}),h&&h.forEach(g=>{Ta.default.evaluate(o.el,g)})});var Bo=new WeakSet,Po=new WeakSet;Ot("component.init",({component:o})=>{let c=o.snapshot.memo;c.lazyLoaded!==void 0&&(Po.add(o),c.lazyIsolated!==void 0&&c.lazyIsolated===!1&&Bo.add(o))});Ot("commit.pooling",({commits:o})=>{o.forEach(c=>{Po.has(c.component)&&(Bo.has(c.component)?(c.isolate=!1,Bo.delete(c.component)):c.isolate=!0,Po.delete(c.component))})});var Na=qt(vn());Ot("effect",({component:o,effects:c,cleanup:l})=>{let h=c.url;h&&Object.entries(h).forEach(([g,d])=>{let{name:w,as:E,use:S,alwaysShow:m,except:b}=Xu(g,d);E||(E=w);let v=[!1,null,void 0].includes(b)?wi(o.ephemeral,w):b,{replace:R,push:j,pop:B}=Lo(E,v,m);if(S==="replace"){let I=Na.default.effect(()=>{R(wi(o.reactive,w))});l(()=>Na.default.release(I))}else if(S==="push"){let I=Ot("commit",({component:$,succeed:Q})=>{if(o!==$)return;let Z=wi(o.canonical,w);Q(()=>{let O=wi(o.canonical,w);JSON.stringify(Z)!==JSON.stringify(O)&&j(O)})}),H=B(async $=>{await o.$wire.set(w,$),document.querySelectorAll("input").forEach(Q=>{Q._x_forceModelUpdate&&Q._x_forceModelUpdate(Q._x_model.get())})});l(()=>{I(),H()})}})});function Xu(o,c){let l={use:"replace",alwaysShow:!1};return typeof c=="string"?{...l,name:c,as:c}:{...{...l,name:o,as:o},...c}}Ot("request",({options:o})=>{window.Echo&&(o.headers["X-Socket-ID"]=window.Echo.socketId())});Ot("effect",({component:o,effects:c})=>{(c.listeners||[]).forEach(h=>{if(h.startsWith("echo")){if(typeof window.Echo>"u"){console.warn("Laravel Echo cannot be found");return}let g=h.split(/(echo:|echo-)|:|,/);g[1]=="echo:"&&g.splice(2,0,"channel",void 0),g[2]=="notification"&&g.push(void 0,void 0);let[d,w,E,S,m,b,v]=g;if(["channel","private","encryptedPrivate"].includes(E)){let R=j=>vr(o,h,[j]);window.Echo[E](m).listen(v,R),o.addCleanup(()=>{window.Echo[E](m).stopListening(v,R)})}else if(E=="presence")if(["here","joining","leaving"].includes(v))window.Echo.join(m)[v](R=>{vr(o,h,[R])});else{let R=j=>vr(o,h,[j]);window.Echo.join(m).listen(v,R),o.addCleanup(()=>{window.Echo.leaveChannel(m)})}else E=="notification"?window.Echo.private(m).notification(R=>{vr(o,h,[R])}):console.warn("Echo channel type not yet supported")}})});var Fl=new WeakSet;Ot("component.init",({component:o})=>{o.snapshot.memo.isolate===!0&&Fl.add(o)});Ot("commit.pooling",({commits:o})=>{o.forEach(c=>{Fl.has(c.component)&&(c.isolate=!0)})});qu()&&Alpine.navigate.disableProgressBar();document.addEventListener("alpine:navigated",o=>{document.dispatchEvent(new CustomEvent("livewire:navigated",{bubbles:!0}))});document.addEventListener("alpine:navigating",o=>{document.dispatchEvent(new CustomEvent("livewire:navigating",{bubbles:!0}))});function Yu(o,c,l){o.redirectUsingNavigate?Alpine.navigate(c):l()}function qu(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar===!1)}Ot("effect",({effects:o})=>{if(!o.redirect)return;let c=o.redirect;Yu(o,c,()=>{window.location.href=c})});var Zu=qt(vn());function Ku(o,c,l){let h=c.parentElement?c.parentElement.tagName.toLowerCase():"div",g=document.createElement(h);g.innerHTML=l;let d;try{d=Oi(c.parentElement)}catch{}d&&(g.__livewire=d);let w=g.firstElementChild;w.__livewire=o,nn("morph",{el:c,toEl:w,component:o}),Zu.default.morph(c,w,{updating:(E,S,m,b)=>{if(!Er(E)){if(nn("morph.updating",{el:E,toEl:S,component:o,skip:b,childrenOnly:m}),E.__livewire_ignore===!0||(E.__livewire_ignore_self===!0&&m(),Oa(E)&&E.getAttribute("wire:id")!==o.id))return b();Oa(E)&&(S.__livewire=o)}},updated:E=>{Er(E)||nn("morph.updated",{el:E,component:o})},removing:(E,S)=>{Er(E)||nn("morph.removing",{el:E,component:o,skip:S})},removed:E=>{Er(E)||nn("morph.removed",{el:E,component:o})},adding:E=>{nn("morph.adding",{el:E,component:o})},added:E=>{Er(E)||(Oi(E).id,nn("morph.added",{el:E}))},key:E=>{if(!Er(E))return E.hasAttribute("wire:key")?E.getAttribute("wire:key"):E.hasAttribute("wire:id")?E.getAttribute("wire:id"):E.id},lookahead:!1})}function Er(o){return typeof o.hasAttribute!="function"}function Oa(o){return o.hasAttribute("wire:id")}Ot("effect",({component:o,effects:c})=>{let l=c.html;l&&queueMicrotask(()=>{queueMicrotask(()=>{Ku(o,o.el,l)})})});Ot("effect",({component:o,effects:c})=>{Qu(o,c.listeners||[]),Ju(o,c.dispatches||[])});function Qu(o,c){c.forEach(l=>{let h=g=>{g.__livewire&&g.__livewire.receivedBy.push(o),o.$wire.call("__dispatch",l,g.detail||{})};window.addEventListener(l,h),o.addCleanup(()=>window.removeEventListener(l,h)),o.el.addEventListener(l,g=>{g.__livewire&&(g.bubbles||(g.__livewire&&g.__livewire.receivedBy.push(o.id),o.$wire.call("__dispatch",l,g.detail||{})))})})}function Ju(o,c){c.forEach(({name:l,params:h={},self:g=!1,to:d})=>{g?vr(o,l,h):d?Vo(d,l,h):Sl(o,l,h)})}var Ma=qt(vn());Ot("morph.added",({el:o})=>{o.__addedByMorph=!0});ei("transition",({el:o,directive:c,component:l,cleanup:h})=>{let g=Ma.default.reactive({state:!o.__addedByMorph});Ma.default.bind(o,{[c.rawName.replace("wire:","x-")]:"","x-show"(){return g.state}}),o.__addedByMorph&&setTimeout(()=>g.state=!0);let d=[];d.push(Ot("morph.removing",({el:w,skip:E})=>{E(),w.addEventListener("transitionend",()=>{w.remove()}),g.state=!1,d.push(Ot("morph",({component:S})=>{S===l&&(w.remove(),d.forEach(m=>m()))}))})),h(()=>d.forEach(w=>w()))});var $u=new hl;function ef(o,c){$u.each(o,l=>{l.callback(),l.callback=()=>{}}),c()}var Da=qt(vn());Ot("directive.init",({el:o,directive:c,cleanup:l,component:h})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty"].includes(c.value))return;let g=c.rawName.replace("wire:","x-on:");c.value==="submit"&&!c.modifiers.includes("prevent")&&(g=g+".prevent");let d=Da.default.bind(o,{[g](w){let E=()=>{ef(h,()=>{Da.default.evaluate(o,"$wire."+c.expression,{scope:{$event:w}})})};o.__livewire_confirm?o.__livewire_confirm(()=>{E()},()=>{w.stopImmediatePropagation()}):E()}});l(d)});var Sr=qt(vn());Sr.default.addInitSelector(()=>"[wire\\:navigate]");Sr.default.addInitSelector(()=>"[wire\\:navigate\\.hover]");Sr.default.interceptInit(Sr.default.skipDuringClone(o=>{o.hasAttribute("wire:navigate")?Sr.default.bind(o,{"x-navigate":!0}):o.hasAttribute("wire:navigate.hover")&&Sr.default.bind(o,{"x-navigate.hover":!0})}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(o=>{o.inscribeSnapshotAndEffectsOnElement()})});ei("confirm",({el:o,directive:c})=>{let l=c.expression,h=c.modifiers.includes("prompt");l=l.replaceAll("\\n",`
`),l===""&&(l="Are you sure?"),o.__livewire_confirm=(g,d)=>{if(h){let[w,E]=l.split("|");E?prompt(w)===E?g():d():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(l)?g():d()}});function Qi(o,c,l,h=null){if(l=c.modifiers.includes("remove")?!l:l,c.modifiers.includes("class")){let g=c.expression.split(" ").filter(String);l?o.classList.add(...g):o.classList.remove(...g)}else if(c.modifiers.includes("attr"))l?o.setAttribute(c.expression,!0):o.removeAttribute(c.expression);else{let g=h??window.getComputedStyle(o,null).getPropertyValue("display"),d=["inline","block","table","flex","grid","inline-flex"].filter(w=>c.modifiers.includes(w))[0]||"inline-block";d=c.modifiers.includes("remove")?g:d,o.style.display=l?d:"none"}}var ko=new Set,Fo=new Set;window.addEventListener("offline",()=>ko.forEach(o=>o()));window.addEventListener("online",()=>Fo.forEach(o=>o()));ei("offline",({el:o,directive:c,cleanup:l})=>{let h=()=>Qi(o,c,!0),g=()=>Qi(o,c,!1);ko.add(h),Fo.add(g),l(()=>{ko.delete(h),Fo.delete(g)})});ei("loading",({el:o,directive:c,component:l})=>{let{targets:h,inverted:g}=of(o),[d,w]=tf(c);nf(l,h,g,[()=>d(()=>Qi(o,c,!0)),()=>w(()=>Qi(o,c,!1))]),rf(l,h,[()=>d(()=>Qi(o,c,!0)),()=>w(()=>Qi(o,c,!1))])});function tf(o){if(!o.modifiers.includes("delay")||o.modifiers.includes("none"))return[d=>d(),d=>d()];let c=200,l={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(l).some(d=>{if(o.modifiers.includes(d))return c=l[d],!0});let h,g=!1;return[d=>{h=setTimeout(()=>{d(),g=!0},c)},async d=>{g?(await d(),g=!1):clearTimeout(h)}]}function nf(o,c,l,[h,g]){Ot("commit",({component:d,commit:w,respond:E})=>{d===o&&(c.length>0&&sf(w,c)===l||(h(),E(()=>{g()})))})}function rf(o,c,[l,h]){let g=d=>{let{id:w,property:E}=d.detail;return w!==o.id||c.length>0&&!c.map(S=>S.target).includes(E)};window.addEventListener("livewire-upload-start",d=>{g(d)||l()}),window.addEventListener("livewire-upload-finish",d=>{g(d)||h()}),window.addEventListener("livewire-upload-error",d=>{g(d)||h()})}function sf(o,c){let{updates:l,calls:h}=o;return c.some(({target:g,params:d})=>{if(d)return h.some(({method:E,params:S})=>g===E&&d===Ul(JSON.stringify(S)));if(Object.keys(l).some(E=>E.includes(".")&&E.split(".")[0]===g?!0:E===g)||h.map(E=>E.method).includes(g))return!0})}function of(o){let c=ks(o),l=[],h=!1;if(c.has("target")){let g=c.get("target"),d=g.expression;g.modifiers.includes("except")&&(h=!0),d.includes("(")&&d.includes(")")?l.push({target:g.method,params:Ul(JSON.stringify(g.params))}):d.includes(",")?d.split(",").map(w=>w.trim()).forEach(w=>{l.push({target:w})}):l.push({target:d})}else{let g=["init","dirty","offline","target","loading","poll","ignore","key","id"];c.all().filter(d=>!g.includes(d.value)).map(d=>d.expression.split("(")[0]).forEach(d=>l.push({target:d}))}return{targets:l,inverted:h}}function Ul(o){return btoa(encodeURIComponent(o))}ei("stream",({el:o,directive:c,cleanup:l})=>{let{expression:h,modifiers:g}=c,d=Ot("stream",({name:w,content:E,replace:S})=>{w===h&&(g.includes("replace")||S?o.innerHTML=E:o.innerHTML=o.innerHTML+E)});l(d)});Ot("request",({respond:o})=>{o(c=>{let l=c.response;l.headers.has("X-Livewire-Stream")&&(c.response={ok:!0,redirected:!1,status:200,async text(){let h=await af(l,g=>{nn("stream",g)});return pl(h)&&(this.ok=!1),h}})})});async function af(o,c){let l=o.body.getReader(),h="";for(;;){let{done:g,value:d}=await l.read(),E=new TextDecoder().decode(d),[S,m]=lf(h+E);if(S.forEach(b=>{c(b)}),h=m,g)return h}}function lf(o){let c=/({"stream":true.*?"endStream":true})/g,l=o.match(c),h=[];if(l)for(let d=0;d<l.length;d++)h.push(JSON.parse(l[d]).body);let g=o.replace(c,"");return[h,g]}ei("ignore",({el:o,directive:c})=>{c.modifiers.includes("self")?o.__livewire_ignore_self=!0:o.__livewire_ignore=!0});var jl=new hl;Ot("commit",({component:o,respond:c})=>{c(()=>{setTimeout(()=>{jl.each(o,l=>l(!1))})})});ei("dirty",({el:o,directive:c,component:l})=>{let h=cf(o);Alpine.reactive({state:!1});let g=!1,d=o.style.display,w=E=>{Qi(o,c,E,d),g=E};jl.add(l,w),Alpine.effect(()=>{let E=!1;if(h.length===0)E=JSON.stringify(l.canonical)!==JSON.stringify(l.reactive);else for(let S=0;S<h.length&&!E;S++){let m=h[S];E=JSON.stringify(wi(l.canonical,m))!==JSON.stringify(wi(l.reactive,m))}g!==E&&w(E),g=E})});function cf(o){let c=ks(o),l=[];return c.has("model")&&l.push(c.get("model").expression),c.has("target")&&(l=l.concat(c.get("target").expression.split(",").map(h=>h.trim()))),l}var uf=qt(vn());ei("model",({el:o,directive:c,component:l,cleanup:h})=>{let{expression:g,modifiers:d}=c;if(!g)return console.warn("Livewire: [wire:model] is missing a value.",o);if(Hl(l,g))return console.warn('Livewire: [wire:model="'+g+'"] property does not exist on component: ['+l.name+"]",o);if(o.type&&o.type.toLowerCase()==="file")return Ac(o,g,l,h);let w=d.includes("live"),E=d.includes("lazy")||d.includes("change"),S=d.includes("blur"),m=d.includes("debounce"),b=g.startsWith("$parent")?()=>l.$wire.$parent.$commit():()=>l.$wire.$commit(),v=hf(o)&&!m&&w?df(b,150):b;uf.default.bind(o,{"@change"(){E&&b()},"@blur"(){S&&b()},["x-model"+ff(d)](){return{get(){return wi(l.$wire,g)},set(R){Bs(l.$wire,g,R),w&&!E&&!S&&v()}}}})});function ff(o){return o=o.filter(c=>!["lazy","defer"].includes(c)),o.length===0?"":"."+o.join(".")}function hf(o){return["INPUT","TEXTAREA"].includes(o.tagName.toUpperCase())&&!["checkbox","radio"].includes(o.type)}function Hl(o,c){if(c.startsWith("$parent")){let h=Oi(o.el.parentElement,!1);return h?Hl(h,c.split("$parent.")[1]):!0}let l=c.split(".")[0];return!Object.keys(o.canonical).includes(l)}function df(o,c){var l;return function(){var h=this,g=arguments,d=function(){l=null,o.apply(h,g)};clearTimeout(l),l=setTimeout(d,c)}}var gf=qt(vn());ei("init",({el:o,directive:c})=>{let l=c.expression??"$refresh";gf.default.evaluate(o,`$wire.${l}`)});var pf=qt(vn());ei("poll",({el:o,directive:c})=>{let l=If(c.modifiers,2e3),{start:h,pauseWhile:g,throttleWhile:d,stopWhen:w}=mf(()=>{xf(o,c)},l);h(),d(()=>Af()&&Cf(c)),g(()=>bf(c)&&vf(o)),g(()=>Ef(o)),g(()=>yf()),w(()=>Sf(o))});function xf(o,c){pf.default.evaluate(o,c.expression?"$wire."+c.expression:"$wire.$commit()")}function mf(o,c=2e3){let l=[],h=[],g=[];return{start(){let d=wf(c,()=>{if(g.some(w=>w()))return d();l.some(w=>w())||h.some(w=>w())&&Math.random()<.95||o()})},pauseWhile(d){l.push(d)},throttleWhile(d){h.push(d)},stopWhen(d){g.push(d)}}}var Zi=[];function wf(o,c){if(!Zi[o]){let l={timer:setInterval(()=>l.callbacks.forEach(h=>h()),o),callbacks:new Set};Zi[o]=l}return Zi[o].callbacks.add(c),()=>{Zi[o].callbacks.delete(c),Zi[o].callbacks.size===0&&(clearInterval(Zi[o].timer),delete Zi[o])}}var Zo=!1;window.addEventListener("offline",()=>Zo=!0);window.addEventListener("online",()=>Zo=!1);function yf(){return Zo}var zl=!1;document.addEventListener("visibilitychange",()=>{zl=document.hidden},!1);function Af(){return zl}function Ef(o){return!ks(o).has("poll")}function Cf(o){return!o.modifiers.includes("keep-alive")}function bf(o){return o.modifiers.includes("visible")}function vf(o){let c=o.getBoundingClientRect();return!(c.top<(window.innerHeight||document.documentElement.clientHeight)&&c.left<(window.innerWidth||document.documentElement.clientWidth)&&c.bottom>0&&c.right>0)}function Sf(o){return o.isConnected===!1}function If(o,c){let l,h=o.find(d=>d.match(/([0-9]+)ms/)),g=o.find(d=>d.match(/([0-9]+)s/));return h?l=Number(h.replace("ms","")):g&&(l=Number(g.replace("s",""))*1e3),l||c}var Ko={directive:ei,dispatchTo:Vo,start:Ou,first:Gc,find:Vc,getByName:Wc,all:Xc,hook:Ot,trigger:nn,triggerAsync:ml,dispatch:Yc,on:Zc,get navigate(){return qo.default.navigate}};window.Livewire&&console.warn("Detected multiple instances of Livewire running");window.Alpine&&console.warn("Detected multiple instances of Alpine running");window.Livewire=Ko;window.Alpine=qo.default;window.livewireScriptConfig===void 0&&document.addEventListener("DOMContentLoaded",()=>{Ko.start()});qo.default;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT *//*! Bundled license information:

tabbable/dist/index.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/var un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Vl={exports:{}},go={exports:{}},po={exports:{}},Ra;function Qo(){return Ra||(Ra=1,function(o){(function(c,l){o.exports?o.exports=l():c.EvEmitter=l()})(typeof window<"u"?window:un,function(){function c(){}let l=c.prototype;return l.on=function(h,g){if(!h||!g)return this;let d=this._events=this._events||{},w=d[h]=d[h]||[];return w.includes(g)||w.push(g),this},l.once=function(h,g){if(!h||!g)return this;this.on(h,g);let d=this._onceEvents=this._onceEvents||{},w=d[h]=d[h]||{};return w[g]=!0,this},l.off=function(h,g){let d=this._events&&this._events[h];if(!d||!d.length)return this;let w=d.indexOf(g);return w!=-1&&d.splice(w,1),this},l.emitEvent=function(h,g){let d=this._events&&this._events[h];if(!d||!d.length)return this;d=d.slice(0),g=g||[];let w=this._onceEvents&&this._onceEvents[h];for(let E of d)w&&w[E]&&(this.off(h,E),delete w[E]),E.apply(this,g);return this},l.allOff=function(){return delete this._events,delete this._onceEvents,this},c})}(po)),po.exports}var xo={exports:{}};/*!
 * Infinite Scroll v2.0.4
 * measure size of elements
 * MIT license
 */var La;function Gl(){return La||(La=1,function(o){(function(c,l){o.exports?o.exports=l():c.getSize=l()})(window,function(){function l(w){let E=parseFloat(w);return w.indexOf("%")==-1&&!isNaN(E)&&E}let h=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function g(){let w={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return h.forEach(E=>{w[E]=0}),w}function d(w){if(typeof w=="string"&&(w=document.querySelector(w)),!(w&&typeof w=="object"&&w.nodeType))return;let S=getComputedStyle(w);if(S.display=="none")return g();let m={};m.width=w.offsetWidth,m.height=w.offsetHeight;let b=m.isBorderBox=S.boxSizing=="border-box";h.forEach(Z=>{let O=S[Z],ee=parseFloat(O);m[Z]=isNaN(ee)?0:ee});let v=m.paddingLeft+m.paddingRight,R=m.paddingTop+m.paddingBottom,j=m.marginLeft+m.marginRight,B=m.marginTop+m.marginBottom,I=m.borderLeftWidth+m.borderRightWidth,H=m.borderTopWidth+m.borderBottomWidth,$=l(S.width);$!==!1&&(m.width=$+(b?0:v+I));let Q=l(S.height);return Q!==!1&&(m.height=Q+(b?0:R+H)),m.innerWidth=m.width-(v+I),m.innerHeight=m.height-(R+H),m.outerWidth=m.width+j,m.outerHeight=m.height+B,m}return d})}(xo)),xo.exports}var mo={exports:{}},Ba;function Tr(){return Ba||(Ba=1,function(o){(function(c,l){o.exports?o.exports=l(c):c.fizzyUIUtils=l(c)})(un,function(l){let h={};h.extend=function(d,w){return Object.assign(d,w)},h.modulo=function(d,w){return(d%w+w)%w},h.makeArray=function(d){return Array.isArray(d)?d:d==null?[]:typeof d=="object"&&typeof d.length=="number"?[...d]:[d]},h.removeFrom=function(d,w){let E=d.indexOf(w);E!=-1&&d.splice(E,1)},h.getParent=function(d,w){for(;d.parentNode&&d!=document.body;)if(d=d.parentNode,d.matches(w))return d},h.getQueryElement=function(d){return typeof d=="string"?document.querySelector(d):d},h.handleEvent=function(d){let w="on"+d.type;this[w]&&this[w](d)},h.filterFindElements=function(d,w){return d=h.makeArray(d),d.filter(E=>E instanceof HTMLElement).reduce((E,S)=>{if(!w)return E.push(S),E;S.matches(w)&&E.push(S);let m=S.querySelectorAll(w);return E=E.concat(...m),E},[])},h.debounceMethod=function(d,w,E){E=E||100;let S=d.prototype[w],m=w+"Timeout";d.prototype[w]=function(){clearTimeout(this[m]);let b=arguments;this[m]=setTimeout(()=>{S.apply(this,b),delete this[m]},E)}},h.docReady=function(d){let w=document.readyState;w=="complete"||w=="interactive"?setTimeout(d):document.addEventListener("DOMContentLoaded",d)},h.toDashed=function(d){return d.replace(/(.)([A-Z])/g,function(w,E,S){return E+"-"+S}).toLowerCase()};let g=l.console;return h.htmlInit=function(d,w){h.docReady(function(){let S="data-"+h.toDashed(w),m=document.querySelectorAll(`[${S}]`),b=l.jQuery;[...m].forEach(v=>{let R=v.getAttribute(S),j;try{j=R&&JSON.parse(R)}catch(I){g&&g.error(`Error parsing ${S} on ${v.className}: ${I}`);return}let B=new d(v,j);b&&b.data(v,w,B)})})},h})}(mo)),mo.exports}var wo={exports:{}},Pa;function _f(){return Pa||(Pa=1,function(o){(function(c,l){o.exports?o.exports=l(Gl()):(c.Flickity=c.Flickity||{},c.Flickity.Cell=l(c.getSize))})(typeof window<"u"?window:un,function(l){const h="flickity-cell";function g(w){this.element=w,this.element.classList.add(h),this.x=0,this.unselect()}let d=g.prototype;return d.destroy=function(){this.unselect(),this.element.classList.remove(h),this.element.style.transform="",this.element.removeAttribute("aria-hidden")},d.getSize=function(){this.size=l(this.element)},d.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},d.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},d.remove=function(){this.element.remove()},g})}(wo)),wo.exports}var yo={exports:{}},ka;function Tf(){return ka||(ka=1,function(o){(function(c,l){o.exports?o.exports=l():(c.Flickity=c.Flickity||{},c.Flickity.Slide=l())})(typeof window<"u"?window:un,function(){function l(g,d,w){this.beginMargin=g,this.endMargin=d,this.cellAlign=w,this.cells=[],this.outerWidth=0,this.height=0}let h=l.prototype;return h.addCell=function(g){this.cells.push(g),this.outerWidth+=g.size.outerWidth,this.height=Math.max(g.size.outerHeight,this.height),this.cells.length===1&&(this.x=g.x,this.firstMargin=g.size[this.beginMargin])},h.updateTarget=function(){let g=this.getLastCell(),d=g?g.size[this.endMargin]:0,w=this.outerWidth-(this.firstMargin+d);this.target=this.x+this.firstMargin+w*this.cellAlign},h.getLastCell=function(){return this.cells[this.cells.length-1]},h.select=function(){this.cells.forEach(g=>g.select())},h.unselect=function(){this.cells.forEach(g=>g.unselect())},h.getCellElements=function(){return this.cells.map(g=>g.element)},l})}(yo)),yo.exports}var Ao={exports:{}},Fa;function Nf(){return Fa||(Fa=1,function(o){(function(c,l){o.exports?o.exports=l(Tr()):(c.Flickity=c.Flickity||{},c.Flickity.animatePrototype=l(c.fizzyUIUtils))})(typeof window<"u"?window:un,function(l){let h={};return h.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},h.animate=function(){this.applyDragForce(),this.applySelectedAttraction();let g=this.x;this.integratePhysics(),this.positionSlider(),this.settle(g),this.isAnimating&&requestAnimationFrame(()=>this.animate())},h.positionSlider=function(){let g=this.x;this.isWrapping&&(g=l.modulo(g,this.slideableWidth)-this.slideableWidth,this.shiftWrapCells(g)),this.setTranslateX(g,this.isAnimating),this.dispatchScrollEvent()},h.setTranslateX=function(g,d){g+=this.cursorPosition,this.options.rightToLeft&&(g=-g);let w=this.getPositionValue(g);this.slider.style.transform=d?`translate3d(${w},0,0)`:`translateX(${w})`},h.dispatchScrollEvent=function(){let g=this.slides[0];if(!g)return;let d=-this.x-g.target,w=d/this.slidesWidth;this.dispatchEvent("scroll",null,[w,d])},h.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},h.getPositionValue=function(g){return this.options.percentPosition?Math.round(g/this.size.innerWidth*1e4)*.01+"%":Math.round(g)+"px"},h.settle=function(g){!this.isPointerDown&&Math.round(this.x*100)===Math.round(g*100)&&this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},h.shiftWrapCells=function(g){let d=this.cursorPosition+g;this._shiftCells(this.beforeShiftCells,d,-1);let w=this.size.innerWidth-(g+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,w,1)},h._shiftCells=function(g,d,w){g.forEach(E=>{let S=d>0?w:0;this._wrapShiftCell(E,S),d-=E.size.outerWidth})},h._unshiftCells=function(g){!g||!g.length||g.forEach(d=>this._wrapShiftCell(d,0))},h._wrapShiftCell=function(g,d){this._renderCellPosition(g,g.x+this.slideableWidth*d)},h.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},h.applyForce=function(g){this.velocity+=g},h.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},h.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},h.applyDragForce=function(){if(!this.isDraggable||!this.isPointerDown)return;let d=this.dragX-this.x-this.velocity;this.applyForce(d)},h.applySelectedAttraction=function(){if(this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length)return;let w=(this.selectedSlide.target*-1-this.x)*this.options.selectedAttraction;this.applyForce(w)},h})}(Ao)),Ao.exports}var Ua;function Di(){return Ua||(Ua=1,function(o){(function(c,l){if(o.exports)o.exports=l(c,Qo(),Gl(),Tr(),_f(),Tf(),Nf());else{let h=c.Flickity;c.Flickity=l(c,c.EvEmitter,c.getSize,c.fizzyUIUtils,h.Cell,h.Slide,h.animatePrototype)}})(typeof window<"u"?window:un,function(l,h,g,d,w,E,S){const{getComputedStyle:m,console:b}=l;let{jQuery:v}=l,R=0,j={};function B(O,ee){let U=d.getQueryElement(O);if(!U){b&&b.error(`Bad element for Flickity: ${U||O}`);return}if(this.element=U,this.element.flickityGUID){let D=j[this.element.flickityGUID];return D&&D.option(ee),D}v&&(this.$element=v(this.element)),this.options={...this.constructor.defaults},this.option(ee),this._create()}B.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},B.create={};let I=B.prototype;Object.assign(I,h.prototype),I._create=function(){let{resize:O,watchCSS:ee,rightToLeft:U}=this.options,D=this.guid=++R;this.element.flickityGUID=D,j[D]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.beginMargin=U?"marginRight":"marginLeft",this.endMargin=U?"marginLeft":"marginRight",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),this.focusableElems=[this.element],(O||ee)&&l.addEventListener("resize",this);for(let z in this.options.on){let W=this.options.on[z];this.on(z,W)}for(let z in B.create)B.create[z].call(this);ee?this.watchCSS():this.activate()},I.option=function(O){Object.assign(this.options,O)},I.activate=function(){if(this.isActive)return;this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();let O=this._filterFindCellElements(this.element.children);this.slider.append(...O),this.viewport.append(this.slider),this.element.append(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready")},I._createSlider=function(){let O=document.createElement("div");O.className="flickity-slider",this.slider=O},I._filterFindCellElements=function(O){return d.filterFindElements(O,this.options.cellSelector)},I.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize()},I._makeCells=function(O){return this._filterFindCellElements(O).map(U=>new w(U))},I.getLastCell=function(){return this.cells[this.cells.length-1]},I.getLastSlide=function(){return this.slides[this.slides.length-1]},I.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},I._positionCells=function(O){O=O||0,this.maxCellHeight=O&&this.maxCellHeight||0;let ee=0;if(O>0){let U=this.cells[O-1];ee=U.x+U.size.outerWidth}this.cells.slice(O).forEach(U=>{U.x=ee,this._renderCellPosition(U,ee),ee+=U.size.outerWidth,this.maxCellHeight=Math.max(U.size.outerHeight,this.maxCellHeight)}),this.slideableWidth=ee,this.updateSlides(),this._containSlides(),this.slidesWidth=this.cells.length?this.getLastSlide().target-this.slides[0].target:0},I._renderCellPosition=function(O,ee){let U=this.options.rightToLeft?-1:1,D=ee*U;this.options.percentPosition&&(D*=this.size.innerWidth/O.size.width);let z=this.getPositionValue(D);O.element.style.transform=`translateX( ${z} )`},I._sizeCells=function(O){O.forEach(ee=>ee.getSize())},I.updateSlides=function(){if(this.slides=[],!this.cells.length)return;let{beginMargin:O,endMargin:ee}=this,U=new E(O,ee,this.cellAlign);this.slides.push(U);let D=this._getCanCellFit();this.cells.forEach((z,W)=>{if(!U.cells.length){U.addCell(z);return}let Oe=U.outerWidth-U.firstMargin+(z.size.outerWidth-z.size[ee]);D(W,Oe)||(U.updateTarget(),U=new E(O,ee,this.cellAlign),this.slides.push(U)),U.addCell(z)}),U.updateTarget(),this.updateSelectedSlide()},I._getCanCellFit=function(){let{groupCells:O}=this.options;if(!O)return()=>!1;if(typeof O=="number"){let z=parseInt(O,10);return W=>W%z!==0}let ee=1,U=typeof O=="string"&&O.match(/^(\d+)%$/);U&&(ee=parseInt(U[1],10)/100);let D=(this.size.innerWidth+1)*ee;return(z,W)=>W<=D},I._init=I.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},I.getSize=function(){this.size=g(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};let H={left:0,center:.5,right:1};I.setCellAlign=function(){let{cellAlign:O,rightToLeft:ee}=this.options,U=H[O];this.cellAlign=U!==void 0?U:O,ee&&(this.cellAlign=1-this.cellAlign)},I.setGallerySize=function(){if(!this.options.setGallerySize)return;let O=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=`${O}px`},I._updateWrapShiftCells=function(){if(this.isWrapping=this.getIsWrapping(),!this.isWrapping)return;this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);let O=this.cursorPosition,ee=this.cells.length-1;this.beforeShiftCells=this._getGapCells(O,ee,-1);let U=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(U,0,1)},I.getIsWrapping=function(){let{wrapAround:O}=this.options;if(!O||this.slides.length<2)return!1;if(O!=="fill")return!0;let ee=this.slideableWidth-this.size.innerWidth;if(ee>this.size.innerWidth)return!0;for(let U of this.cells)if(U.size.outerWidth>ee)return!1;return!0},I._getGapCells=function(O,ee,U){let D=[];for(;O>0;){let z=this.cells[ee];if(!z)break;D.push(z),ee+=U,O-=z.size.outerWidth}return D},I._containSlides=function(){if(!(this.options.contain&&!this.isWrapping&&this.cells.length))return;let ee=this.slideableWidth-this.getLastCell().size[this.endMargin];if(ee<this.size.innerWidth)this.slides.forEach(D=>{D.target=ee*this.cellAlign});else{let D=this.cursorPosition+this.cells[0].size[this.beginMargin],z=ee-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(W=>{W.target=Math.max(W.target,D),W.target=Math.min(W.target,z)})}},I.dispatchEvent=function(O,ee,U){let D=ee?[ee].concat(U):U;if(this.emitEvent(O,D),v&&this.$element){O+=this.options.namespaceJQueryEvents?".flickity":"";let z=O;if(ee){let W=new v.Event(ee);W.type=O,z=W}this.$element.trigger(z,U)}};const $=["dragStart","dragMove","dragEnd","pointerDown","pointerMove","pointerEnd","staticClick"];let Q=I.emitEvent;I.emitEvent=function(O,ee){if(O==="staticClick"){let W=this.getParentCell(ee[0].target),Oe=W&&W.element,Le=W&&this.cells.indexOf(W);ee=ee.concat(Oe,Le)}if(Q.call(this,O,ee),!$.includes(O)||!v||!this.$element)return;O+=this.options.namespaceJQueryEvents?".flickity":"";let D=ee.shift(0),z=new v.Event(D);z.type=O,this.$element.trigger(z,ee)},I.select=function(O,ee,U){if(!this.isActive||(O=parseInt(O,10),this._wrapSelect(O),(this.isWrapping||ee)&&(O=d.modulo(O,this.slides.length)),!this.slides[O]))return;let D=this.selectedIndex;this.selectedIndex=O,this.updateSelectedSlide(),U?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[O]),O!==D&&this.dispatchEvent("change",null,[O])},I._wrapSelect=function(O){if(!this.isWrapping)return;const{selectedIndex:ee,slideableWidth:U,slides:{length:D}}=this;if(!this.isDragSelect){let z=d.modulo(O,D),W=Math.abs(z-ee),Oe=Math.abs(z+D-ee),Le=Math.abs(z-D-ee);Oe<W?O+=D:Le<W&&(O-=D)}O<0?this.x-=U:O>=D&&(this.x+=U)},I.previous=function(O,ee){this.select(this.selectedIndex-1,O,ee)},I.next=function(O,ee){this.select(this.selectedIndex+1,O,ee)},I.updateSelectedSlide=function(){let O=this.slides[this.selectedIndex];O&&(this.unselectSelectedSlide(),this.selectedSlide=O,O.select(),this.selectedCells=O.cells,this.selectedElements=O.getCellElements(),this.selectedCell=O.cells[0],this.selectedElement=this.selectedElements[0])},I.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},I.selectInitialIndex=function(){let O=this.options.initialIndex;if(this.isInitActivated){this.select(this.selectedIndex,!1,!0);return}if(O&&typeof O=="string"&&this.queryCell(O)){this.selectCell(O,!1,!0);return}let ee=0;O&&this.slides[O]&&(ee=O),this.select(ee,!1,!0)},I.selectCell=function(O,ee,U){let D=this.queryCell(O);if(!D)return;let z=this.getCellSlideIndex(D);this.select(z,ee,U)},I.getCellSlideIndex=function(O){let ee=this.slides.find(U=>U.cells.includes(O));return this.slides.indexOf(ee)},I.getCell=function(O){for(let ee of this.cells)if(ee.element===O)return ee},I.getCells=function(O){return O=d.makeArray(O),O.map(ee=>this.getCell(ee)).filter(Boolean)},I.getCellElements=function(){return this.cells.map(O=>O.element)},I.getParentCell=function(O){let ee=this.getCell(O);if(ee)return ee;let U=O.closest(".flickity-slider > *");return this.getCell(U)},I.getAdjacentCellElements=function(O,ee){if(!O)return this.selectedSlide.getCellElements();ee=ee===void 0?this.selectedIndex:ee;let U=this.slides.length;if(1+O*2>=U)return this.getCellElements();let D=[];for(let z=ee-O;z<=ee+O;z++){let W=this.isWrapping?d.modulo(z,U):z,Oe=this.slides[W];Oe&&(D=D.concat(Oe.getCellElements()))}return D},I.queryCell=function(O){return typeof O=="number"?this.cells[O]:(typeof O=="string"&&!O.match(/^[#.]?[\d/]/)&&(O=this.element.querySelector(O)),this.getCell(O))},I.uiChange=function(){this.emitEvent("uiChange")},I.onresize=function(){this.watchCSS(),this.resize()},d.debounceMethod(B,"onresize",150),I.resize=function(){if(!this.isActive||this.isAnimating||this.isDragging)return;this.getSize(),this.isWrapping&&(this.x=d.modulo(this.x,this.slideableWidth)),this.positionCells(),this._updateWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");let O=this.selectedElements&&this.selectedElements[0];this.selectCell(O,!1,!0)},I.watchCSS=function(){if(!this.options.watchCSS)return;m(this.element,":after").content.includes("flickity")?this.activate():this.deactivate()},I.onkeydown=function(O){let{activeElement:ee}=document,U=B.keyboardHandlers[O.key];if(!this.options.accessibility||!ee||!U)return;this.focusableElems.some(z=>ee===z)&&U.call(this)},B.keyboardHandlers={ArrowLeft:function(){this.uiChange();let O=this.options.rightToLeft?"next":"previous";this[O]()},ArrowRight:function(){this.uiChange();let O=this.options.rightToLeft?"previous":"next";this[O]()}},I.focus=function(){this.element.focus({preventScroll:!0})},I.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(O=>O.destroy()),this.viewport.remove(),this.element.append(...this.slider.children),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},I.destroy=function(){this.deactivate(),l.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),v&&this.$element&&v.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete j[this.guid]},Object.assign(I,S),B.data=function(O){if(O=d.getQueryElement(O),O)return j[O.flickityGUID]},d.htmlInit(B,"flickity");let{jQueryBridget:Z}=l;return v&&Z&&Z("flickity",B,v),B.setJQuery=function(O){v=O},B.Cell=w,B.Slide=E,B})}(go)),go.exports}var Eo={exports:{}},Co={exports:{}};/*!
 * Unidragger v3.0.1
 * Draggable base class
 * MIT license
 */var ja;function Of(){return ja||(ja=1,function(o){(function(c,l){o.exports?o.exports=l(c,Qo()):c.Unidragger=l(c,c.EvEmitter)})(typeof window<"u"?window:un,function(l,h){function g(){}let d=g.prototype=Object.create(h.prototype);d.handleEvent=function(b){let v="on"+b.type;this[v]&&this[v](b)};let w,E;"ontouchstart"in l?(w="touchstart",E=["touchmove","touchend","touchcancel"]):l.PointerEvent?(w="pointerdown",E=["pointermove","pointerup","pointercancel"]):(w="mousedown",E=["mousemove","mouseup"]),d.touchActionValue="none",d.bindHandles=function(){this._bindHandles("addEventListener",this.touchActionValue)},d.unbindHandles=function(){this._bindHandles("removeEventListener","")},d._bindHandles=function(b,v){this.handles.forEach(R=>{R[b](w,this),R[b]("click",this),l.PointerEvent&&(R.style.touchAction=v)})},d.bindActivePointerEvents=function(){E.forEach(b=>{l.addEventListener(b,this)})},d.unbindActivePointerEvents=function(){E.forEach(b=>{l.removeEventListener(b,this)})},d.withPointer=function(b,v){v.pointerId===this.pointerIdentifier&&this[b](v,v)},d.withTouch=function(b,v){let R;for(let j of v.changedTouches)j.identifier===this.pointerIdentifier&&(R=j);R&&this[b](v,R)},d.onmousedown=function(b){this.pointerDown(b,b)},d.ontouchstart=function(b){this.pointerDown(b,b.changedTouches[0])},d.onpointerdown=function(b){this.pointerDown(b,b)};const S=["TEXTAREA","INPUT","SELECT","OPTION"],m=["radio","checkbox","button","submit","image","file"];return d.pointerDown=function(b,v){let R=S.includes(b.target.nodeName),j=m.includes(b.target.type),B=!R||j;!this.isPointerDown&&!b.button&&B&&(this.isPointerDown=!0,this.pointerIdentifier=v.pointerId!==void 0?v.pointerId:v.identifier,this.pointerDownPointer={pageX:v.pageX,pageY:v.pageY},this.bindActivePointerEvents(),this.emitEvent("pointerDown",[b,v]))},d.onmousemove=function(b){this.pointerMove(b,b)},d.onpointermove=function(b){this.withPointer("pointerMove",b)},d.ontouchmove=function(b){this.withTouch("pointerMove",b)},d.pointerMove=function(b,v){let R={x:v.pageX-this.pointerDownPointer.pageX,y:v.pageY-this.pointerDownPointer.pageY};this.emitEvent("pointerMove",[b,v,R]),!this.isDragging&&this.hasDragStarted(R)&&this.dragStart(b,v),this.isDragging&&this.dragMove(b,v,R)},d.hasDragStarted=function(b){return Math.abs(b.x)>3||Math.abs(b.y)>3},d.dragStart=function(b,v){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent("dragStart",[b,v])},d.dragMove=function(b,v,R){this.emitEvent("dragMove",[b,v,R])},d.onmouseup=function(b){this.pointerUp(b,b)},d.onpointerup=function(b){this.withPointer("pointerUp",b)},d.ontouchend=function(b){this.withTouch("pointerUp",b)},d.pointerUp=function(b,v){this.pointerDone(),this.emitEvent("pointerUp",[b,v]),this.isDragging?this.dragEnd(b,v):this.staticClick(b,v)},d.dragEnd=function(b,v){this.isDragging=!1,setTimeout(()=>delete this.isPreventingClicks),this.emitEvent("dragEnd",[b,v])},d.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent("pointerDone")},d.onpointercancel=function(b){this.withPointer("pointerCancel",b)},d.ontouchcancel=function(b){this.withTouch("pointerCancel",b)},d.pointerCancel=function(b,v){this.pointerDone(),this.emitEvent("pointerCancel",[b,v])},d.onclick=function(b){this.isPreventingClicks&&b.preventDefault()},d.staticClick=function(b,v){let R=b.type==="mouseup";R&&this.isIgnoringMouseUp||(this.emitEvent("staticClick",[b,v]),R&&(this.isIgnoringMouseUp=!0,setTimeout(()=>{delete this.isIgnoringMouseUp},400)))},g})}(Co)),Co.exports}var Ha;function Mf(){return Ha||(Ha=1,function(o){(function(c,l){o.exports?o.exports=l(c,Di(),Of(),Tr()):c.Flickity=l(c,c.Flickity,c.Unidragger,c.fizzyUIUtils)})(typeof window<"u"?window:un,function(l,h,g,d){Object.assign(h.defaults,{draggable:">1",dragThreshold:3});let w=h.prototype;Object.assign(w,g.prototype),w.touchActionValue="",h.create.drag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),this.on("pointerDown",this.handlePointerDown),this.on("pointerUp",this.handlePointerUp),this.on("pointerDown",this.handlePointerDone),this.on("dragStart",this.handleDragStart),this.on("dragMove",this.handleDragMove),this.on("dragEnd",this.handleDragEnd),this.on("staticClick",this.handleStaticClick)},w.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},w.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},w.updateDraggable=function(){this.options.draggable===">1"?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.element.classList.toggle("is-draggable",this.isDraggable)},w._uiChangeDrag=function(){delete this.isFreeScrolling},w.handlePointerDown=function(S){if(!this.isDraggable){this.bindActivePointerEvents(S);return}let m=S.type==="touchstart",b=S.pointerType==="touch",v=S.target.matches("input, textarea, select");!m&&!b&&!v&&S.preventDefault(),v||this.focus(),document.activeElement!==this.element&&document.activeElement.blur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=E(),l.addEventListener("scroll",this),this.bindActivePointerEvents(S)},w.hasDragStarted=function(S){return Math.abs(S.x)>this.options.dragThreshold},w.handlePointerUp=function(){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down")},w.handlePointerDone=function(){l.removeEventListener("scroll",this),delete this.pointerDownScroll},w.handleDragStart=function(){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),l.removeEventListener("scroll",this))},w.handleDragMove=function(S,m,b){if(!this.isDraggable)return;S.preventDefault(),this.previousDragX=this.dragX;let v=this.options.rightToLeft?-1:1;this.isWrapping&&(b.x%=this.slideableWidth);let R=this.dragStartPosition+b.x*v;if(!this.isWrapping){let j=Math.max(-this.slides[0].target,this.dragStartPosition);R=R>j?(R+j)*.5:R;let B=Math.min(-this.getLastSlide().target,this.dragStartPosition);R=R<B?(R+B)*.5:R}this.dragX=R,this.dragMoveTime=new Date},w.handleDragEnd=function(){if(!this.isDraggable)return;let{freeScroll:S}=this.options;S&&(this.isFreeScrolling=!0);let m=this.dragEndRestingSelect();if(S&&!this.isWrapping){let b=this.getRestingPosition();this.isFreeScrolling=-b>this.slides[0].target&&-b<this.getLastSlide().target}else!S&&m===this.selectedIndex&&(m+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.isWrapping,this.select(m),delete this.isDragSelect},w.dragEndRestingSelect=function(){let S=this.getRestingPosition(),m=Math.abs(this.getSlideDistance(-S,this.selectedIndex)),b=this._getClosestResting(S,m,1),v=this._getClosestResting(S,m,-1);return b.distance<v.distance?b.index:v.index},w._getClosestResting=function(S,m,b){let v=this.selectedIndex,R=1/0,j=this.options.contain&&!this.isWrapping?(B,I)=>B<=I:(B,I)=>B<I;for(;j(m,R)&&(v+=b,R=m,m=this.getSlideDistance(-S,v),m!==null);)m=Math.abs(m);return{distance:R,index:v-b}},w.getSlideDistance=function(S,m){let b=this.slides.length,v=this.options.wrapAround&&b>1,R=v?d.modulo(m,b):m,j=this.slides[R];if(!j)return null;let B=v?this.slideableWidth*Math.floor(m/b):0;return S-(j.target+B)},w.dragEndBoostSelect=function(){if(this.previousDragX===void 0||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;let S=this.getSlideDistance(-this.dragX,this.selectedIndex),m=this.previousDragX-this.dragX;return S>0&&m>0?1:S<0&&m<0?-1:0},w.onscroll=function(){let S=E(),m=this.pointerDownScroll.x-S.x,b=this.pointerDownScroll.y-S.y;(Math.abs(m)>3||Math.abs(b)>3)&&this.pointerDone()};function E(){return{x:l.pageXOffset,y:l.pageYOffset}}return h})}(Eo)),Eo.exports}var bo={exports:{}},za;function Df(){return za||(za=1,function(o){(function(c,l){o.exports?o.exports=l(Di()):l(c.Flickity)})(typeof window<"u"?window:un,function(l){const h="http://www.w3.org/2000/svg";function g(E,S,m){this.increment=E,this.direction=S,this.isPrevious=E==="previous",this.isLeft=S==="left",this._create(m)}g.prototype._create=function(E){let S=this.element=document.createElement("button");S.className=`flickity-button flickity-prev-next-button ${this.increment}`;let m=this.isPrevious?"Previous":"Next";S.setAttribute("type","button"),S.setAttribute("aria-label",m),this.disable();let b=this.createSVG(m,E);S.append(b)},g.prototype.createSVG=function(E,S){let m=document.createElementNS(h,"svg");m.setAttribute("class","flickity-button-icon"),m.setAttribute("viewBox","0 0 100 100");let b=document.createElementNS(h,"title");b.append(E);let v=document.createElementNS(h,"path"),R=d(S);return v.setAttribute("d",R),v.setAttribute("class","arrow"),this.isLeft||v.setAttribute("transform","translate(100, 100) rotate(180)"),m.append(b,v),m};function d(E){if(typeof E=="string")return E;let{x0:S,x1:m,x2:b,x3:v,y1:R,y2:j}=E;return`M ${S}, 50
    L ${m}, ${R+50}
    L ${b}, ${j+50}
    L ${v}, 50
    L ${b}, ${50-j}
    L ${m}, ${50-R}
    Z`}g.prototype.enable=function(){this.element.removeAttribute("disabled")},g.prototype.disable=function(){this.element.setAttribute("disabled",!0)},Object.assign(l.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),l.create.prevNextButtons=function(){if(!this.options.prevNextButtons)return;let{rightToLeft:E,arrowShape:S}=this.options,m=E?"right":"left",b=E?"left":"right";this.prevButton=new g("previous",m,S),this.nextButton=new g("next",b,S),this.focusableElems.push(this.prevButton.element),this.focusableElems.push(this.nextButton.element),this.handlePrevButtonClick=()=>{this.uiChange(),this.previous()},this.handleNextButtonClick=()=>{this.uiChange(),this.next()},this.on("activate",this.activatePrevNextButtons),this.on("select",this.updatePrevNextButtons)};let w=l.prototype;return w.updatePrevNextButtons=function(){let E=this.slides.length?this.slides.length-1:0;this.updatePrevNextButton(this.prevButton,0),this.updatePrevNextButton(this.nextButton,E)},w.updatePrevNextButton=function(E,S){if(this.isWrapping&&this.slides.length>1){E.enable();return}let m=this.selectedIndex!==S;E[m?"enable":"disable"](),!m&&document.activeElement===E.element&&this.focus()},w.activatePrevNextButtons=function(){this.prevButton.element.addEventListener("click",this.handlePrevButtonClick),this.nextButton.element.addEventListener("click",this.handleNextButtonClick),this.element.append(this.prevButton.element,this.nextButton.element),this.on("deactivate",this.deactivatePrevNextButtons)},w.deactivatePrevNextButtons=function(){this.prevButton.element.remove(),this.nextButton.element.remove(),this.prevButton.element.removeEventListener("click",this.handlePrevButtonClick),this.nextButton.element.removeEventListener("click",this.handleNextButtonClick),this.off("deactivate",this.deactivatePrevNextButtons)},l.PrevNextButton=g,l})}(bo)),bo.exports}var vo={exports:{}},Wa;function Rf(){return Wa||(Wa=1,function(o){(function(c,l){o.exports?o.exports=l(Di(),Tr()):l(c.Flickity,c.fizzyUIUtils)})(typeof window<"u"?window:un,function(l,h){function g(){this.holder=document.createElement("div"),this.holder.className="flickity-page-dots",this.dots=[]}g.prototype.setDots=function(w){let E=w-this.dots.length;E>0?this.addDots(E):E<0&&this.removeDots(-E)},g.prototype.addDots=function(w){let E=new Array(w).fill().map((S,m)=>{let b=document.createElement("button");b.setAttribute("type","button");let v=m+1+this.dots.length;return b.className="flickity-page-dot",b.textContent=`View slide ${v}`,b});this.holder.append(...E),this.dots=this.dots.concat(E)},g.prototype.removeDots=function(w){this.dots.splice(this.dots.length-w,w).forEach(S=>S.remove())},g.prototype.updateSelected=function(w){this.selectedDot&&(this.selectedDot.classList.remove("is-selected"),this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[w],this.selectedDot.classList.add("is-selected"),this.selectedDot.setAttribute("aria-current","step"))},l.PageDots=g,Object.assign(l.defaults,{pageDots:!0}),l.create.pageDots=function(){this.options.pageDots&&(this.pageDots=new g,this.handlePageDotsClick=this.onPageDotsClick.bind(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))};let d=l.prototype;return d.activatePageDots=function(){this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots),this.pageDots.holder.addEventListener("click",this.handlePageDotsClick),this.element.append(this.pageDots.holder)},d.onPageDotsClick=function(w){let E=this.pageDots.dots.indexOf(w.target);E!==-1&&(this.uiChange(),this.select(E))},d.updateSelectedPageDots=function(){this.pageDots.updateSelected(this.selectedIndex)},d.updatePageDots=function(){this.pageDots.dots.forEach(w=>{h.removeFrom(this.focusableElems,w)}),this.pageDots.setDots(this.slides.length),this.focusableElems.push(...this.pageDots.dots)},d.deactivatePageDots=function(){this.pageDots.holder.remove(),this.pageDots.holder.removeEventListener("click",this.handlePageDotsClick)},l.PageDots=g,l})}(vo)),vo.exports}var So={exports:{}},Va;function Lf(){return Va||(Va=1,function(o){(function(c,l){o.exports?o.exports=l(Di()):l(c.Flickity)})(typeof window<"u"?window:un,function(l){function h(d,w){this.autoPlay=d,this.onTick=w,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}h.prototype.play=function(){if(this.state==="playing")return;if(document.hidden){document.addEventListener("visibilitychange",this.onVisibilityPlay);return}this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()},h.prototype.tick=function(){if(this.state!=="playing")return;let d=typeof this.autoPlay=="number"?this.autoPlay:3e3;this.clear(),this.timeout=setTimeout(()=>{this.onTick(),this.tick()},d)},h.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},h.prototype.clear=function(){clearTimeout(this.timeout)},h.prototype.pause=function(){this.state==="playing"&&(this.state="paused",this.clear())},h.prototype.unpause=function(){this.state==="paused"&&this.play()},h.prototype.visibilityChange=function(){let d=document.hidden;this[d?"pause":"unpause"]()},h.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},Object.assign(l.defaults,{pauseAutoPlayOnHover:!0}),l.create.player=function(){this.player=new h(this.options.autoPlay,()=>{this.next(!0)}),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)};let g=l.prototype;return g.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},g.playPlayer=function(){this.player.play()},g.stopPlayer=function(){this.player.stop()},g.pausePlayer=function(){this.player.pause()},g.unpausePlayer=function(){this.player.unpause()},g.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},g.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},g.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},l.Player=h,l})}(So)),So.exports}var Io={exports:{}},Ga;function Bf(){return Ga||(Ga=1,function(o){(function(c,l){o.exports?o.exports=l(Di(),Tr()):l(c.Flickity,c.fizzyUIUtils)})(typeof window<"u"?window:un,function(l,h){function g(w){let E=document.createDocumentFragment();return w.forEach(S=>E.appendChild(S.element)),E}let d=l.prototype;return d.insert=function(w,E){let S=this._makeCells(w);if(!S||!S.length)return;let m=this.cells.length;E=E===void 0?m:E;let b=g(S),v=E===m;if(v)this.slider.appendChild(b);else{let R=this.cells[E].element;this.slider.insertBefore(b,R)}if(E===0)this.cells=S.concat(this.cells);else if(v)this.cells=this.cells.concat(S);else{let R=this.cells.splice(E,m-E);this.cells=this.cells.concat(S).concat(R)}this._sizeCells(S),this.cellChange(E),this.positionSliderAtSelected()},d.append=function(w){this.insert(w,this.cells.length)},d.prepend=function(w){this.insert(w,0)},d.remove=function(w){let E=this.getCells(w);if(!E||!E.length)return;let S=this.cells.length-1;E.forEach(m=>{m.remove();let b=this.cells.indexOf(m);S=Math.min(b,S),h.removeFrom(this.cells,m)}),this.cellChange(S),this.positionSliderAtSelected()},d.cellSizeChange=function(w){let E=this.getCell(w);if(!E)return;E.getSize();let S=this.cells.indexOf(E);this.cellChange(S)},d.cellChange=function(w){let E=this.selectedElement;this._positionCells(w),this._updateWrapShiftCells(),this.setGallerySize();let S=this.getCell(E);S&&(this.selectedIndex=this.getCellSlideIndex(S)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[w]),this.select(this.selectedIndex)},l})}(Io)),Io.exports}var _o={exports:{}},Xa;function Pf(){return Xa||(Xa=1,function(o){(function(c,l){o.exports?o.exports=l(Di(),Tr()):l(c.Flickity,c.fizzyUIUtils)})(typeof window<"u"?window:un,function(l,h){const g="data-flickity-lazyload",d=`${g}-src`,w=`${g}-srcset`,E=`img[${g}], img[${d}], img[${w}], source[${w}]`;l.create.lazyLoad=function(){this.on("select",this.lazyLoad),this.handleLazyLoadComplete=this.onLazyLoadComplete.bind(this)};let S=l.prototype;S.lazyLoad=function(){let{lazyLoad:v}=this.options;if(!v)return;let R=typeof v=="number"?v:0;this.getAdjacentCellElements(R).map(m).flat().forEach(j=>new b(j,this.handleLazyLoadComplete))};function m(v){if(v.matches("img")){let R=v.getAttribute(g),j=v.getAttribute(d),B=v.getAttribute(w);if(R||j||B)return v}return[...v.querySelectorAll(E)]}S.onLazyLoadComplete=function(v,R){let j=this.getParentCell(v),B=j&&j.element;this.cellSizeChange(B),this.dispatchEvent("lazyLoad",R,B)};function b(v,R){this.img=v,this.onComplete=R,this.load()}return b.prototype.handleEvent=h.handleEvent,b.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);let v=this.img.getAttribute(g)||this.img.getAttribute(d),R=this.img.getAttribute(w);this.img.src=v,R&&this.img.setAttribute("srcset",R),this.img.removeAttribute(g),this.img.removeAttribute(d),this.img.removeAttribute(w)},b.prototype.onload=function(v){this.complete(v,"flickity-lazyloaded")},b.prototype.onerror=function(v){this.complete(v,"flickity-lazyerror")},b.prototype.complete=function(v,R){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this),(this.img.parentNode.matches("picture")?this.img.parentNode:this.img).classList.add(R),this.onComplete(this.img,v)},l.LazyLoader=b,l})}(_o)),_o.exports}var To={exports:{}},No={exports:{}};/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */var Ya;function kf(){return Ya||(Ya=1,function(o){(function(c,l){o.exports?o.exports=l(c,Qo()):c.imagesLoaded=l(c,c.EvEmitter)})(typeof window<"u"?window:un,function(l,h){let g=l.jQuery,d=l.console;function w(R){return Array.isArray(R)?R:typeof R=="object"&&typeof R.length=="number"?[...R]:[R]}function E(R,j,B){if(!(this instanceof E))return new E(R,j,B);let I=R;if(typeof R=="string"&&(I=document.querySelectorAll(R)),!I){d.error(`Bad element for imagesLoaded ${I||R}`);return}this.elements=w(I),this.options={},typeof j=="function"?B=j:Object.assign(this.options,j),B&&this.on("always",B),this.getImages(),g&&(this.jqDeferred=new g.Deferred),setTimeout(this.check.bind(this))}E.prototype=Object.create(h.prototype),E.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const S=[1,9,11];E.prototype.addElementImages=function(R){R.nodeName==="IMG"&&this.addImage(R),this.options.background===!0&&this.addElementBackgroundImages(R);let{nodeType:j}=R;if(!j||!S.includes(j))return;let B=R.querySelectorAll("img");for(let I of B)this.addImage(I);if(typeof this.options.background=="string"){let I=R.querySelectorAll(this.options.background);for(let H of I)this.addElementBackgroundImages(H)}};const m=/url\((['"])?(.*?)\1\)/gi;E.prototype.addElementBackgroundImages=function(R){let j=getComputedStyle(R);if(!j)return;let B=m.exec(j.backgroundImage);for(;B!==null;){let I=B&&B[2];I&&this.addBackground(I,R),B=m.exec(j.backgroundImage)}},E.prototype.addImage=function(R){let j=new b(R);this.images.push(j)},E.prototype.addBackground=function(R,j){let B=new v(R,j);this.images.push(B)},E.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let R=(j,B,I)=>{setTimeout(()=>{this.progress(j,B,I)})};this.images.forEach(function(j){j.once("progress",R),j.check()})},E.prototype.progress=function(R,j,B){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!R.isLoaded,this.emitEvent("progress",[this,R,j]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,R),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&d&&d.log(`progress: ${B}`,R,j)},E.prototype.complete=function(){let R=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(R,[this]),this.emitEvent("always",[this]),this.jqDeferred){let j=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[j](this)}};function b(R){this.img=R}b.prototype=Object.create(h.prototype),b.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},b.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},b.prototype.confirm=function(R,j){this.isLoaded=R;let{parentNode:B}=this.img,I=B.nodeName==="PICTURE"?B:this.img;this.emitEvent("progress",[this,I,j])},b.prototype.handleEvent=function(R){let j="on"+R.type;this[j]&&this[j](R)},b.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},b.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},b.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function v(R,j){this.url=R,this.element=j,this.img=new Image}return v.prototype=Object.create(b.prototype),v.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},v.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},v.prototype.confirm=function(R,j){this.isLoaded=R,this.emitEvent("progress",[this,this.element,j])},E.makeJQueryPlugin=function(R){R=R||l.jQuery,R&&(g=R,g.fn.imagesLoaded=function(j,B){return new E(this,j,B).jqDeferred.promise(g(this))})},E.makeJQueryPlugin(),E})}(No)),No.exports}var qa;function Ff(){return qa||(qa=1,function(o){(function(c,l){o.exports?o.exports=l(Di(),kf()):l(c.Flickity,c.imagesLoaded)})(typeof window<"u"?window:un,function(l,h){return l.create.imagesLoaded=function(){this.on("activate",this.imagesLoaded)},l.prototype.imagesLoaded=function(){if(!this.options.imagesLoaded)return;let g=(d,w)=>{let E=this.getParentCell(w.img);this.cellSizeChange(E&&E.element),this.options.freeScroll||this.positionSliderAtSelected()};h(this.slider).on("progress",g)},l})}(To)),To.exports}/*!
 * Flickity v3.0.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2022 Metafizzy
 */(function(o){if(o.exports){const c=Di();Mf(),Df(),Rf(),Lf(),Bf(),Pf(),Ff(),o.exports=c}})(Vl);var Uf=Vl.exports;const jf=Wl(Uf);var Re;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Re||(Re={}));var Za=new Map([[Re.QR_CODE,"QR_CODE"],[Re.AZTEC,"AZTEC"],[Re.CODABAR,"CODABAR"],[Re.CODE_39,"CODE_39"],[Re.CODE_93,"CODE_93"],[Re.CODE_128,"CODE_128"],[Re.DATA_MATRIX,"DATA_MATRIX"],[Re.MAXICODE,"MAXICODE"],[Re.ITF,"ITF"],[Re.EAN_13,"EAN_13"],[Re.EAN_8,"EAN_8"],[Re.PDF_417,"PDF_417"],[Re.RSS_14,"RSS_14"],[Re.RSS_EXPANDED,"RSS_EXPANDED"],[Re.UPC_A,"UPC_A"],[Re.UPC_E,"UPC_E"],[Re.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ka;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(Ka||(Ka={}));function Hf(o){return Object.values(Re).includes(o)}var Mi;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Mi||(Mi={}));var $n=function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[Mi.SCAN_TYPE_CAMERA,Mi.SCAN_TYPE_FILE],o}(),Xl=function(){function o(c,l){this.format=c,this.formatName=l}return o.prototype.toString=function(){return this.formatName},o.create=function(c){if(!Za.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new o(c,Za.get(c))},o}(),Qa=function(){function o(){}return o.createFromText=function(c){var l={text:c};return{decodedText:c,result:l}},o.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},o}(),Uo;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Uo||(Uo={}));var Yl=function(){function o(){}return o.createFrom=function(c){return{errorMessage:c,type:Uo.UNKWOWN_ERROR}},o}(),ql=function(){function o(c){this.verbose=c}return o.prototype.log=function(c){this.verbose&&console.log(c)},o.prototype.warn=function(c){this.verbose&&console.warn(c)},o.prototype.logError=function(c,l){(this.verbose||l===!0)&&console.error(c)},o.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},o}();function ci(o){return typeof o>"u"||o===null}function zf(o,c,l){return o>l?l:o<c?c:o}var Ir=function(){function o(){}return o.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},o.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o}(),Ft=function(){function o(){}return o.scanningStatus=function(){return"Scanning"},o.idleStatus=function(){return"Idle"},o.errorStatus=function(){return"Error"},o.permissionStatus=function(){return"Permission"},o.noCameraFoundErrorStatus=function(){return"No Cameras"},o.lastMatch=function(c){return"Last Match: ".concat(c)},o.codeScannerTitle=function(){return"Code Scanner"},o.cameraPermissionTitle=function(){return"Request Camera Permissions"},o.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},o.noCameraFound=function(){return"No camera found"},o.scanButtonStopScanningText=function(){return"Stop Scanning"},o.scanButtonStartScanningText=function(){return"Start Scanning"},o.torchOnButton=function(){return"Switch On Torch"},o.torchOffButton=function(){return"Switch Off Torch"},o.torchOnFailedMessage=function(){return"Failed to turn on torch"},o.torchOffFailedMessage=function(){return"Failed to turn off torch"},o.scanButtonScanningStarting=function(){return"Launching Camera..."},o.textIfCameraScanSelected=function(){return"Scan an Image File"},o.textIfFileScanSelected=function(){return"Scan using camera directly"},o.selectCamera=function(){return"Select Camera"},o.fileSelectionChooseImage=function(){return"Choose Image"},o.fileSelectionChooseAnother=function(){return"Choose Another"},o.fileSelectionNoImageSelected=function(){return"No image choosen"},o.anonymousCameraPrefix=function(){return"Anonymous Camera"},o.dragAndDropMessage=function(){return"Or drop an image to scan"},o.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},o.zoom=function(){return"zoom"},o.loadingImage=function(){return"Loading image..."},o.cameraScanAltText=function(){return"Camera based scan"},o.fileScanAltText=function(){return"Fule based scan"},o}(),Ja=function(){function o(){}return o.poweredBy=function(){return"Powered by "},o.reportIssues=function(){return"Report issues"},o}(),Zl=function(){function o(){}return o.isMediaStreamConstraintsValid=function(c,l){if(typeof c!="object"){var h=typeof c;return l.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(h,"."),!0),!1}for(var g=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(g),w=Object.keys(c),E=0,S=w;E<S.length;E++){var m=S[E];if(d.has(m))return l.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},o}(),jo={exports:{}};(function(o,c){(function(l,h){h(c)})(un,function(l){function h(A){return A==null}var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var n in e)e.hasOwnProperty(n)&&(A[n]=e[n])};function d(A,e){g(A,e);function n(){this.constructor=A}A.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function w(A,e){var n=Object.setPrototypeOf;n?n(A,e):A.__proto__=e}function E(A,e){e===void 0&&(e=A.constructor);var n=Error.captureStackTrace;n&&n(A,e)}var S=function(A){d(e,A);function e(n){var r=this.constructor,t=A.call(this,n)||this;return Object.defineProperty(t,"name",{value:r.name,enumerable:!1}),w(t,r.prototype),E(t),t}return e}(Error);class m extends S{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class v extends m{}v.kind="IllegalArgumentException";class R{constructor(e){if(this.binarizer=e,e===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,t){const i=this.binarizer.getLuminanceSource().crop(e,n,r,t);return new R(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends m{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class B{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(e,n,r,t,i){for(;i--;)r[t++]=e[n++]}static currentTimeMillis(){return Date.now()}}class H extends m{}H.kind="IndexOutOfBoundsException";class $ extends H{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}$.kind="ArrayIndexOutOfBoundsException";class Q{static fill(e,n){for(let r=0,t=e.length;r<t;r++)e[r]=n}static fillWithin(e,n,r,t){Q.rangeCheck(e.length,n,r);for(let i=n;i<r;i++)e[i]=t}static rangeCheck(e,n,r){if(n>r)throw new v("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new $(n);if(r>e)throw new $(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(i=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(i=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,t=e.length;r<t;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const t=r-n,i=new Int32Array(t);return I.arraycopy(e,n,i,0,t),i}static binarySearch(e,n,r){r===void 0&&(r=Q.numberComparator);let t=0,i=e.length-1;for(;t<=i;){const s=i+t>>1,a=r(n,e[s]);if(a>0)t=s+1;else if(a<0)i=s-1;else return s}return-t-1}static numberComparator(e,n){return e-n}}class Z{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}Z.MIN_VALUE_32_BITS=-2147483648,Z.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=O.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=O.makeArray(e);I.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let t=Math.floor(e/32),i=r[t];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++t===s)return n;i=r[t]}const a=t*32+Z.numberOfTrailingZeros(i);return a>n?n:a}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let t=Math.floor(e/32),i=~r[t];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++t===s)return n;i=~r[t]}const a=t*32+Z.numberOfTrailingZeros(i);return a>n?n:a}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new v;if(n===e)return;n--;const r=Math.floor(e/32),t=Math.floor(n/32),i=this.bits;for(let s=r;s<=t;s++){const a=s>r?0:e&31,f=(2<<(s<t?31:n&31))-(1<<a);i[s]|=f}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new v;if(n===e)return!0;n--;const t=Math.floor(e/32),i=Math.floor(n/32),s=this.bits;for(let a=t;a<=i;a++){const u=a>t?0:e&31,p=(2<<(a<i?31:n&31))-(1<<u)&4294967295;if((s[a]&p)!==(r?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new v("Sizes don't match");const n=this.bits;for(let r=0,t=n.length;r<t;r++)n[r]^=e.bits[r]}toBytes(e,n,r,t){for(let i=0;i<t;i++){let s=0;for(let a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;n[r+i]=s}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,t=this.bits;for(let i=0;i<r;i++){let s=t[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[n-i]=s}if(this.size!==r*32){const i=r*32-this.size;let s=e[0]>>>i;for(let a=1;a<r;a++){const u=e[a];s|=u<<32-i,e[a-1]=s,s=u>>>i}e[r-1]=s}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof O))return!1;const n=e;return this.size===n.size&&Q.equals(this.bits,n.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new O(this.size,this.bits.slice())}}var ee;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ee||(ee={}));var U=ee;class D extends m{static getFormatInstance(){return new D}}D.kind="FormatException";var z;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(z||(z={}));class W{constructor(e,n,r,...t){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=t,W.VALUE_IDENTIFIER_TO_ECI.set(e,this),W.NAME_TO_ECI.set(r,this);const i=this.values;for(let s=0,a=i.length;s!==a;s++){const u=i[s];W.VALUES_TO_ECI.set(u,this)}for(const s of t)W.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new D("incorect value");const n=W.VALUES_TO_ECI.get(e);if(n===void 0)throw new D("incorect value");return n}static getCharacterSetECIByName(e){const n=W.NAME_TO_ECI.get(e);if(n===void 0)throw new D("incorect value");return n}equals(e){if(!(e instanceof W))return!1;const n=e;return this.getName()===n.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(z.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(z.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(z.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(z.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(z.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(z.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(z.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(z.Big5,28,"Big5"),W.GB18030=new W(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(z.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends m{}Oe.kind="UnsupportedOperationException";class Le{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Le.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof W?e:W.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(Le.isDecodeFallbackSupported(r)){let t="";for(let i=0,s=e.length;i<s;i++){let a=e[i].toString(16);a.length<2&&(a="0"+a),t+="%"+a}return decodeURIComponent(t)}if(r.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Oe(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(W.UTF8)||e.equals(W.ISO8859_1)||e.equals(W.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),t=[];for(let i=0;i<r.length;i++)t.push(r[i].charCodeAt(0));return new Uint8Array(t)}}class ae{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return Le.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(U.CHARACTER_SET)!==void 0)return n.get(U.CHARACTER_SET).toString();const r=e.length;let t=!0,i=!0,s=!0,a=0,u=0,f=0,p=0,x=0,y=0,C=0,M=0,L=0,F=0,V=0;const ce=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let he=0;he<r&&(t||i||s);he++){const K=e[he]&255;s&&(a>0?K&128?a--:s=!1:K&128&&(K&64?(a++,K&32?(a++,K&16?(a++,K&8?s=!1:p++):f++):u++):s=!1)),t&&(K>127&&K<160?t=!1:K>159&&(K<192||K===215||K===247)&&V++),i&&(x>0?K<64||K===127||K>252?i=!1:x--:K===128||K===160||K>239?i=!1:K>160&&K<224?(y++,M=0,C++,C>L&&(L=C)):K>127?(x++,C=0,M++,M>F&&(F=M)):(C=0,M=0))}return s&&a>0&&(s=!1),i&&x>0&&(i=!1),s&&(ce||u+f+p>0)?ae.UTF8:i&&(ae.ASSUME_SHIFT_JIS||L>=3||F>=3)?ae.SHIFT_JIS:t&&i?L===2&&y===2||V*10>=r?ae.SHIFT_JIS:ae.ISO88591:t?ae.ISO88591:i?ae.SHIFT_JIS:s?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function t(s,a,u,f,p,x){if(s==="%%")return"%";if(n[++r]===void 0)return;s=f?parseInt(f.substr(1)):void 0;let y=p?parseInt(p.substr(1)):void 0,C;switch(x){case"s":C=n[r];break;case"c":C=n[r][0];break;case"f":C=parseFloat(n[r]).toFixed(s);break;case"p":C=parseFloat(n[r]).toPrecision(s);break;case"e":C=parseFloat(n[r]).toExponential(s);break;case"x":C=parseInt(n[r]).toString(y||16);break;case"d":C=parseFloat(parseInt(n[r],y||10).toPrecision(s)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(y);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;C.length<M;)C=a!==void 0?C+L:L+C;return C}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,t)}static getBytes(e,n){return Le.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ae.SHIFT_JIS=W.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=W.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=W.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class Ie{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let t=n;n<n+r;t++)this.append(e[t]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class lt{constructor(e,n,r,t){if(this.width=e,this.height=n,this.rowSize=r,this.bits=t,n==null&&(n=e),this.height=n,e<1||n<1)throw new v("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,t==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,t=new lt(r,n);for(let i=0;i<n;i++){const s=e[i];for(let a=0;a<r;a++)s[a]&&t.set(a,i)}return t}static parseFromString(e,n,r){if(e===null)throw new v("stringRepresentation cannot be null");const t=new Array(e.length);let i=0,s=0,a=-1,u=0,f=0;for(;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new v("row lengths do not match");s=i,u++}f++}else if(e.substring(f,f+n.length)===n)f+=n.length,t[i]=!0,i++;else if(e.substring(f,f+r.length)===r)f+=r.length,t[i]=!1,i++;else throw new v("illegal character encountered: "+e.substring(f));if(i>s){if(a===-1)a=i-s;else if(i-s!==a)throw new v("row lengths do not match");u++}const p=new lt(a,u);for(let x=0;x<i;x++)t[x]&&p.set(Math.floor(x%a),Math.floor(x/a));return p}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new v("input matrix dimensions do not match");const n=new O(Math.floor(this.width/32)+1),r=this.rowSize,t=this.bits;for(let i=0,s=this.height;i<s;i++){const a=i*r,u=e.getRow(i,n).getBitArray();for(let f=0;f<r;f++)t[a+f]^=u[f]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,t){if(n<0||e<0)throw new v("Left and top must be nonnegative");if(t<1||r<1)throw new v("Height and width must be at least 1");const i=e+r,s=n+t;if(s>this.height||i>this.width)throw new v("The region must fit inside the matrix");const a=this.rowSize,u=this.bits;for(let f=n;f<s;f++){const p=f*a;for(let x=e;x<i;x++)u[p+Math.floor(x/32)]|=1<<(x&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new O(this.width):n.clear();const r=this.rowSize,t=this.bits,i=e*r;for(let s=0;s<r;s++)n.setBulk(s*32,t[i+s]);return n}setRow(e,n){I.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new O(e),t=new O(e);for(let i=0,s=Math.floor((n+1)/2);i<s;i++)r=this.getRow(i,r),t=this.getRow(n-1-i,t),r.reverse(),t.reverse(),this.setRow(i,t),this.setRow(n-1-i,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,t=this.bits;let i=e,s=n,a=-1,u=-1;for(let f=0;f<n;f++)for(let p=0;p<r;p++){const x=t[f*r+p];if(x!==0){if(f<s&&(s=f),f>u&&(u=f),p*32<i){let y=0;for(;!(x<<31-y&4294967295);)y++;p*32+y<i&&(i=p*32+y)}if(p*32+31>a){let y=31;for(;!(x>>>y);)y--;p*32+y>a&&(a=p*32+y)}}}return a<i||u<s?null:Int32Array.from([i,s,a-i+1,u-s+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const t=r/e;let i=r%e*32;const s=n[r];let a=0;for(;!(s<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,t])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const t=Math.floor(r/e);let i=Math.floor(r%e)*32;const s=n[r];let a=31;for(;!(s>>>a);)a--;return i+=a,Int32Array.from([i,t])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof lt))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&Q.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Q.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let t=new Ie;for(let i=0,s=this.height;i<s;i++){for(let a=0,u=this.width;a<u;a++)t.append(this.get(a,i)?e:n);t.append(r)}return t.toString()}clone(){return new lt(this.width,this.height,this.rowSize,this.bits.slice())}}class q extends m{static getNotFoundInstance(){return new q}}q.kind="NotFoundException";class yt extends B{constructor(e){super(e),this.luminances=yt.EMPTY,this.buckets=new Int32Array(yt.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),t=r.getWidth();n==null||n.getSize()<t?n=new O(t):n.clear(),this.initArrays(t);const i=r.getRow(e,this.luminances),s=this.buckets;for(let u=0;u<t;u++)s[(i[u]&255)>>yt.LUMINANCE_SHIFT]++;const a=yt.estimateBlackPoint(s);if(t<3)for(let u=0;u<t;u++)(i[u]&255)<a&&n.set(u);else{let u=i[0]&255,f=i[1]&255;for(let p=1;p<t-1;p++){const x=i[p+1]&255;(f*4-u-x)/2<a&&n.set(p),u=f,f=x}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),t=new lt(n,r);this.initArrays(n);const i=this.buckets;for(let u=1;u<5;u++){const f=Math.floor(r*u/5),p=e.getRow(f,this.luminances),x=Math.floor(n*4/5);for(let y=Math.floor(n/5);y<x;y++){const C=p[y]&255;i[C>>yt.LUMINANCE_SHIFT]++}}const s=yt.estimateBlackPoint(i),a=e.getMatrix();for(let u=0;u<r;u++){const f=u*n;for(let p=0;p<n;p++)(a[f+p]&255)<s&&t.set(p,u)}return t}createBinarizer(e){return new yt(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<yt.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,t=0,i=0;for(let p=0;p<n;p++)e[p]>i&&(t=p,i=e[p]),e[p]>r&&(r=e[p]);let s=0,a=0;for(let p=0;p<n;p++){const x=p-t,y=e[p]*x*x;y>a&&(s=p,a=y)}if(t>s){const p=t;t=s,s=p}if(s-t<=n/16)throw new q;let u=s-1,f=-1;for(let p=s-1;p>t;p--){const x=p-t,y=x*x*(s-p)*(r-e[p]);y>f&&(u=p,f=y)}return u<<yt.LUMINANCE_SHIFT}}yt.LUMINANCE_BITS=5,yt.LUMINANCE_SHIFT=8-yt.LUMINANCE_BITS,yt.LUMINANCE_BUCKETS=1<<yt.LUMINANCE_BITS,yt.EMPTY=Uint8ClampedArray.from([0]);class ke extends yt{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=ke.MINIMUM_DIMENSION&&r>=ke.MINIMUM_DIMENSION){const t=e.getMatrix();let i=n>>ke.BLOCK_SIZE_POWER;n&ke.BLOCK_SIZE_MASK&&i++;let s=r>>ke.BLOCK_SIZE_POWER;r&ke.BLOCK_SIZE_MASK&&s++;const a=ke.calculateBlackPoints(t,i,s,n,r),u=new lt(n,r);ke.calculateThresholdForBlock(t,i,s,n,r,a,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ke(e)}static calculateThresholdForBlock(e,n,r,t,i,s,a){const u=i-ke.BLOCK_SIZE,f=t-ke.BLOCK_SIZE;for(let p=0;p<r;p++){let x=p<<ke.BLOCK_SIZE_POWER;x>u&&(x=u);const y=ke.cap(p,2,r-3);for(let C=0;C<n;C++){let M=C<<ke.BLOCK_SIZE_POWER;M>f&&(M=f);const L=ke.cap(C,2,n-3);let F=0;for(let ce=-2;ce<=2;ce++){const he=s[y+ce];F+=he[L-2]+he[L-1]+he[L]+he[L+1]+he[L+2]}const V=F/25;ke.thresholdBlock(e,M,x,V,t,a)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,t,i,s){for(let a=0,u=r*i+n;a<ke.BLOCK_SIZE;a++,u+=i)for(let f=0;f<ke.BLOCK_SIZE;f++)(e[u+f]&255)<=t&&s.set(n+f,r+a)}static calculateBlackPoints(e,n,r,t,i){const s=i-ke.BLOCK_SIZE,a=t-ke.BLOCK_SIZE,u=new Array(r);for(let f=0;f<r;f++){u[f]=new Int32Array(n);let p=f<<ke.BLOCK_SIZE_POWER;p>s&&(p=s);for(let x=0;x<n;x++){let y=x<<ke.BLOCK_SIZE_POWER;y>a&&(y=a);let C=0,M=255,L=0;for(let V=0,ce=p*t+y;V<ke.BLOCK_SIZE;V++,ce+=t){for(let he=0;he<ke.BLOCK_SIZE;he++){const K=e[ce+he]&255;C+=K,K<M&&(M=K),K>L&&(L=K)}if(L-M>ke.MIN_DYNAMIC_RANGE)for(V++,ce+=t;V<ke.BLOCK_SIZE;V++,ce+=t)for(let he=0;he<ke.BLOCK_SIZE;he++)C+=e[ce+he]&255}let F=C>>ke.BLOCK_SIZE_POWER*2;if(L-M<=ke.MIN_DYNAMIC_RANGE&&(F=M/2,f>0&&x>0)){const V=(u[f-1][x]+2*u[f][x-1]+u[f-1][x-1])/4;M<V&&(F=V)}u[f][x]=F}}return u}}ke.BLOCK_SIZE_POWER=3,ke.BLOCK_SIZE=1<<ke.BLOCK_SIZE_POWER,ke.BLOCK_SIZE_MASK=ke.BLOCK_SIZE-1,ke.MINIMUM_DIMENSION=ke.BLOCK_SIZE*5,ke.MIN_DYNAMIC_RANGE=24;class zt{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,t){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ie;for(let r=0;r<this.height;r++){const t=this.getRow(r,e);for(let i=0;i<this.width;i++){const s=t[i]&255;let a;s<64?a="#":s<128?a="+":s<192?a=".":a=" ",n.append(a)}n.append(`
`)}return n.toString()}}class Wt extends zt{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),t=this.getWidth();for(let i=0;i<t;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let t=0;t<n;t++)r[t]=255-(e[t]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,t){return new Wt(this.delegate.crop(e,n,r,t))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Wt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Wt(this.delegate.rotateCounterClockwise45())}}class Zt extends zt{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Zt.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return Zt.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const t=new Uint8ClampedArray(n*r);for(let i=0,s=0,a=e.length;i<a;i+=4,s++){let u;if(e[i+3]===0)u=255;else{const p=e[i],x=e[i+1],y=e[i+2];u=306*p+601*x+117*y+512>>10}t[s]=u}return t}getRow(e,n){if(e<0||e>=this.getHeight())throw new v("Requested row is outside the image: "+e);const r=this.getWidth(),t=e*r;return n===null?n=this.buffer.slice(t,t+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(t,t+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,t){return super.crop(e,n,r,t),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),t=e*Zt.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(t))*i+Math.abs(Math.sin(t))*s),u=Math.ceil(Math.abs(Math.sin(t))*i+Math.abs(Math.cos(t))*s);return n.width=a,n.height=u,r.translate(a/2,u/2),r.rotate(t),r.drawImage(this.canvas,i/-2,s/-2),this.buffer=Zt.makeBufferFromCanvasImageData(n),this}invert(){return new Wt(this)}}Zt.DEGREE_TO_RADIANS=Math.PI/180;class et{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||un||self||window||void 0)&&(globalThis||un||self||window||void 0).__awaiter||function(A,e,n,r){function t(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(p){try{f(r.next(p))}catch(x){s(x)}}function u(p){try{f(r.throw(p))}catch(x){s(x)}}function f(p){p.done?i(p.value):t(p.value).then(a,u)}f((r=r.apply(A,e||[])).next())})};class Pe{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const t=r.kind==="video"?"videoinput":r.kind;if(t!=="videoinput")continue;const i=r.deviceId||r.id,s=r.label||`Video device ${n.length+1}`,a=r.groupId,u={deviceId:i,label:s,kind:t,groupId:a};n.push(u)}return n})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new et(n.deviceId,n.label))})}findDeviceById(e){return Se(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return Se(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const t={video:r};return yield this.decodeOnceFromConstraints(t,n)})}decodeOnceFromConstraints(e,n){return Se(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return Se(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return Se(this,void 0,void 0,function*(){let t;e?t={deviceId:{exact:e}}:t={facingMode:"environment"};const i={video:t};return yield this.decodeFromConstraints(i,n,r)})}decodeFromConstraints(e,n,r){return Se(this,void 0,void 0,function*(){const t=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(t,n,r)})}decodeFromStream(e,n,r){return Se(this,void 0,void 0,function*(){this.reset();const t=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(t,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return Se(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new b(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new b(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new b("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new b("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new b("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new b("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),t=this.decodeFromVideoElementContinuously(r,n);return r.src=e,t}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const t=(i,s)=>{if(this._stopAsyncDecode){s(new q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const a=this.decode(e);i(a)}catch(a){const u=n&&a instanceof q,p=(a instanceof j||a instanceof D)&&r;if(u||p)return setTimeout(t,this._timeBetweenDecodingAttempts,i,s);s(a)}};return new Promise((i,s)=>t(i,s))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const t=this.decode(e);n(t,null),setTimeout(r,this.timeBetweenScansMillis)}catch(t){n(null,t);const i=t instanceof j||t instanceof D,s=t instanceof q;(i||s)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new Zt(n),t=new ke(r);return new R(t)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,t;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,t=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,t=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=t+"px",n.width=r,n.height=t,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(e,n,r=n==null?0:8*n.length,t,i,s=I.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=t,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=t,this.format=i,this.resultMetadata=null,s==null?this.timestamp=I.currentTimeMillis():this.timestamp=s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);I.arraycopy(n,0,r,0,n.length),I.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xe;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var se=Xe,bt;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bt||(bt={}));var de=bt;class _e{constructor(e,n,r,t,i=-1,s=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=t,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ze{exp(e){return this.expTable[e]}log(e){if(e===0)throw new v;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class it{constructor(e,n){if(n.length===0)throw new v;this.field=e;const r=n.length;if(r>1&&n[0]===0){let t=1;for(;t<r&&n[t]===0;)t++;t===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-t),I.arraycopy(n,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let s=0,a=n.length;s!==a;s++){const u=n[s];r=Ze.addOrSubtract(r,u)}return r}r=n[0];const t=n.length,i=this.field;for(let s=1;s<t;s++)r=Ze.addOrSubtract(i.multiply(e,r),n[s]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const s=n;n=r,r=s}let t=new Int32Array(r.length);const i=r.length-n.length;I.arraycopy(r,0,t,0,i);for(let s=i;s<r.length;s++)t[s]=Ze.addOrSubtract(n[s-i],r[s]);return new it(this.field,t)}multiply(e){if(!this.field.equals(e.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,t=e.coefficients,i=t.length,s=new Int32Array(r+i-1),a=this.field;for(let u=0;u<r;u++){const f=n[u];for(let p=0;p<i;p++)s[u+p]=Ze.addOrSubtract(s[u+p],a.multiply(f,t[p]))}return new it(a,s)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,t=new Int32Array(n),i=this.coefficients;for(let s=0;s<n;s++)t[s]=r.multiply(i[s],e);return new it(r,t)}multiplyByMonomial(e,n){if(e<0)throw new v;if(n===0)return this.field.getZero();const r=this.coefficients,t=r.length,i=new Int32Array(t+e),s=this.field;for(let a=0;a<t;a++)i[a]=s.multiply(r[a],n);return new it(s,i)}divide(e){if(!this.field.equals(e.field))throw new v("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new v("Divide by 0");const n=this.field;let r=n.getZero(),t=this;const i=e.getCoefficient(e.getDegree()),s=n.inverse(i);for(;t.getDegree()>=e.getDegree()&&!t.isZero();){const a=t.getDegree()-e.getDegree(),u=n.multiply(t.getCoefficient(t.getDegree()),s),f=e.multiplyByMonomial(a,u),p=n.buildMonomial(a,u);r=r.addOrSubtract(p),t=t.addOrSubtract(f)}return[r,t]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const t=this.field.log(r);t===0?e+="1":t===1?e+="a":(e+="a^",e+=t)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class ze extends m{}ze.kind="ArithmeticException";class pe extends Ze{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const t=new Int32Array(n);let i=1;for(let a=0;a<n;a++)t[a]=i,i*=2,i>=n&&(i^=e,i&=n-1);this.expTable=t;const s=new Int32Array(n);for(let a=0;a<n-1;a++)s[t[a]]=a;this.logTable=s,this.zero=new it(this,Int32Array.from([0])),this.one=new it(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new v;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new it(this,r)}inverse(e){if(e===0)throw new ze;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Z.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}pe.AZTEC_DATA_12=new pe(4201,4096,1),pe.AZTEC_DATA_10=new pe(1033,1024,1),pe.AZTEC_DATA_6=new pe(67,64,1),pe.AZTEC_PARAM=new pe(19,16,1),pe.QR_CODE_FIELD_256=new pe(285,256,0),pe.DATA_MATRIX_FIELD_256=new pe(301,256,1),pe.AZTEC_DATA_8=pe.DATA_MATRIX_FIELD_256,pe.MAXICODE_FIELD_64=pe.AZTEC_DATA_6;class Kt extends m{}Kt.kind="ReedSolomonException";class At extends m{}At.kind="IllegalStateException";class $e{constructor(e){this.field=e}decode(e,n){const r=this.field,t=new it(r,e),i=new Int32Array(n);let s=!0;for(let C=0;C<n;C++){const M=t.evaluateAt(r.exp(C+r.getGeneratorBase()));i[i.length-1-C]=M,M!==0&&(s=!1)}if(s)return;const a=new it(r,i),u=this.runEuclideanAlgorithm(r.buildMonomial(n,1),a,n),f=u[0],p=u[1],x=this.findErrorLocations(f),y=this.findErrorMagnitudes(p,x);for(let C=0;C<x.length;C++){const M=e.length-1-r.log(x[C]);if(M<0)throw new Kt("Bad error location");e[M]=pe.addOrSubtract(e[M],y[C])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const C=e;e=n,n=C}const t=this.field;let i=e,s=n,a=t.getZero(),u=t.getOne();for(;s.getDegree()>=(r/2|0);){let C=i,M=a;if(i=s,a=u,i.isZero())throw new Kt("r_{i-1} was zero");s=C;let L=t.getZero();const F=i.getCoefficient(i.getDegree()),V=t.inverse(F);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){const ce=s.getDegree()-i.getDegree(),he=t.multiply(s.getCoefficient(s.getDegree()),V);L=L.addOrSubtract(t.buildMonomial(ce,he)),s=s.addOrSubtract(i.multiplyByMonomial(ce,he))}if(u=L.multiply(a).addOrSubtract(M),s.getDegree()>=i.getDegree())throw new At("Division algorithm failed to reduce polynomial?")}const f=u.getCoefficient(0);if(f===0)throw new Kt("sigmaTilde(0) was zero");const p=t.inverse(f),x=u.multiplyScalar(p),y=s.multiplyScalar(p);return[x,y]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let t=0;const i=this.field;for(let s=1;s<i.getSize()&&t<n;s++)e.evaluateAt(s)===0&&(r[t]=i.inverse(s),t++);if(t!==n)throw new Kt("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,t=new Int32Array(r),i=this.field;for(let s=0;s<r;s++){const a=i.inverse(n[s]);let u=1;for(let f=0;f<r;f++)if(s!==f){const p=i.multiply(n[f],a),x=p&1?p&-2:p|1;u=i.multiply(u,x)}t[s]=i.multiply(e.evaluateAt(a),i.inverse(u)),i.getGeneratorBase()!==0&&(t[s]=i.multiply(t[s],a))}return t}}var te;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(te||(te={}));class re{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),t=this.correctBits(r),i=re.convertBoolArrayToByteArray(t),s=re.getEncodedData(t),a=new _e(i,s,null,null);return a.setNumBits(t.length),a}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=te.UPPER,t=te.UPPER,i="",s=0;for(;s<n;)if(t===te.BINARY){if(n-s<5)break;let a=re.readCode(e,s,5);if(s+=5,a===0){if(n-s<11)break;a=re.readCode(e,s,11)+31,s+=11}for(let u=0;u<a;u++){if(n-s<8){s=n;break}const f=re.readCode(e,s,8);i+=ae.castAsNonUtf8Char(f),s+=8}t=r}else{let a=t===te.DIGIT?4:5;if(n-s<a)break;let u=re.readCode(e,s,a);s+=a;let f=re.getCharacter(t,u);f.startsWith("CTRL_")?(r=t,t=re.getTable(f.charAt(5)),f.charAt(6)==="L"&&(r=t)):(i+=f,t=r)}return i}static getTable(e){switch(e){case"L":return te.LOWER;case"P":return te.PUNCT;case"M":return te.MIXED;case"D":return te.DIGIT;case"B":return te.BINARY;case"U":default:return te.UPPER}}static getCharacter(e,n){switch(e){case te.UPPER:return re.UPPER_TABLE[n];case te.LOWER:return re.LOWER_TABLE[n];case te.MIXED:return re.MIXED_TABLE[n];case te.PUNCT:return re.PUNCT_TABLE[n];case te.DIGIT:return re.DIGIT_TABLE[n];default:throw new At("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=pe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=pe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=pe.AZTEC_DATA_10):(r=12,n=pe.AZTEC_DATA_12);let t=this.ddata.getNbDatablocks(),i=e.length/r;if(i<t)throw new D;let s=e.length%r,a=new Int32Array(i);for(let y=0;y<i;y++,s+=r)a[y]=re.readCode(e,s,r);try{new $e(n).decode(a,i-t)}catch(y){throw new D(y)}let u=(1<<r)-1,f=0;for(let y=0;y<t;y++){let C=a[y];if(C===0||C===u)throw new D;(C===1||C===u-1)&&f++}let p=new Array(t*r-f),x=0;for(let y=0;y<t;y++){let C=a[y];if(C===1||C===u-1)p.fill(C>1,x,x+r-1),x+=r-1;else for(let M=r-1;M>=0;--M)p[x++]=(C&1<<M)!==0}return p}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),t=(n?11:14)+r*4,i=new Int32Array(t),s=new Array(this.totalBitsInLayer(r,n));if(n)for(let a=0;a<i.length;a++)i[a]=a;else{let a=t+1+2*Z.truncDivision(Z.truncDivision(t,2)-1,15),u=t/2,f=Z.truncDivision(a,2);for(let p=0;p<u;p++){let x=p+Z.truncDivision(p,15);i[u-p-1]=f-x-1,i[u+p]=f+x+1}}for(let a=0,u=0;a<r;a++){let f=(r-a)*4+(n?9:12),p=a*2,x=t-1-p;for(let y=0;y<f;y++){let C=y*2;for(let M=0;M<2;M++)s[u+C+M]=e.get(i[p+M],i[p+y]),s[u+2*f+C+M]=e.get(i[p+y],i[x-M]),s[u+4*f+C+M]=e.get(i[x-M],i[x-y]),s[u+6*f+C+M]=e.get(i[x-y],i[p+M])}u+=f*8}return s}static readCode(e,n,r){let t=0;for(let i=n;i<n+r;i++)t<<=1,e[i]&&(t|=1);return t}static readByte(e,n){let r=e.length-n;return r>=8?re.readCode(e,n,8):re.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=re.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}re.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],re.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],re.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],re.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],re.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class we{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,t){const i=e-r,s=n-t;return Math.sqrt(i*i+s*s)}static sum(e){let n=0;for(let r=0,t=e.length;r!==t;r++){const i=e[r];n+=i}return n}}class Ae{static floatToIntBits(e){return e}}Ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof me){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Ae.floatToIntBits(this.x)+Ae.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),t=this.distance(e[0],e[2]);let i,s,a;if(r>=n&&r>=t?(s=e[0],i=e[1],a=e[2]):t>=r&&t>=n?(s=e[1],i=e[0],a=e[2]):(s=e[2],i=e[0],a=e[1]),this.crossProductZ(i,s,a)<0){const u=i;i=a,a=u}e[0]=i,e[1]=s,e[2]=a}static distance(e,n){return we.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const t=n.x,i=n.y;return(r.x-t)*(e.y-i)-(r.y-i)*(e.x-t)}}class We{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class xe extends We{constructor(e,n,r,t,i){super(e,n),this.compact=r,this.nbDatablocks=t,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ye{constructor(e,n,r,t){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=ye.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),t==null&&(t=e.getHeight()/2|0);const i=n/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=t-i,this.downInit=t+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new q}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,t=this.downInit,i=!1,s=!0,a=!1,u=!1,f=!1,p=!1,x=!1;const y=this.width,C=this.height;for(;s;){s=!1;let M=!0;for(;(M||!u)&&n<y;)M=this.containsBlackPoint(r,t,n,!1),M?(n++,s=!0,u=!0):u||n++;if(n>=y){i=!0;break}let L=!0;for(;(L||!f)&&t<C;)L=this.containsBlackPoint(e,n,t,!0),L?(t++,s=!0,f=!0):f||t++;if(t>=C){i=!0;break}let F=!0;for(;(F||!p)&&e>=0;)F=this.containsBlackPoint(r,t,e,!1),F?(e--,s=!0,p=!0):p||e--;if(e<0){i=!0;break}let V=!0;for(;(V||!x)&&r>=0;)V=this.containsBlackPoint(e,n,r,!0),V?(r--,s=!0,x=!0):x||r--;if(r<0){i=!0;break}s&&(a=!0)}if(!i&&a){const M=n-e;let L=null;for(let he=1;L===null&&he<M;he++)L=this.getBlackPointOnSegment(e,t-he,e+he,t);if(L==null)throw new q;let F=null;for(let he=1;F===null&&he<M;he++)F=this.getBlackPointOnSegment(e,r+he,e+he,r);if(F==null)throw new q;let V=null;for(let he=1;V===null&&he<M;he++)V=this.getBlackPointOnSegment(n,r+he,n-he,r);if(V==null)throw new q;let ce=null;for(let he=1;ce===null&&he<M;he++)ce=this.getBlackPointOnSegment(n,t-he,n-he,t);if(ce==null)throw new q;return this.centerEdges(ce,L,V,F)}else throw new q}getBlackPointOnSegment(e,n,r,t){const i=we.round(we.distance(e,n,r,t)),s=(r-e)/i,a=(t-n)/i,u=this.image;for(let f=0;f<i;f++){const p=we.round(e+f*s),x=we.round(n+f*a);if(u.get(p,x))return new me(p,x)}return null}centerEdges(e,n,r,t){const i=e.getX(),s=e.getY(),a=n.getX(),u=n.getY(),f=r.getX(),p=r.getY(),x=t.getX(),y=t.getY(),C=ye.CORR;return i<this.width/2?[new me(x-C,y+C),new me(a+C,u+C),new me(f-C,p-C),new me(i+C,s-C)]:[new me(x+C,y+C),new me(a+C,u-C),new me(f-C,p+C),new me(i-C,s-C)]}containsBlackPoint(e,n,r,t){const i=this.image;if(t){for(let s=e;s<=n;s++)if(i.get(s,r))return!0}else for(let s=e;s<=n;s++)if(i.get(r,s))return!0;return!1}}ye.INIT_SIZE=10,ye.CORR=1;class Ge{static checkAndNudgePoints(e,n){const r=e.getWidth(),t=e.getHeight();let i=!0;for(let s=0;s<n.length&&i;s+=2){const a=Math.floor(n[s]),u=Math.floor(n[s+1]);if(a<-1||a>r||u<-1||u>t)throw new q;i=!1,a===-1?(n[s]=0,i=!0):a===r&&(n[s]=r-1,i=!0),u===-1?(n[s+1]=0,i=!0):u===t&&(n[s+1]=t-1,i=!0)}i=!0;for(let s=n.length-2;s>=0&&i;s-=2){const a=Math.floor(n[s]),u=Math.floor(n[s+1]);if(a<-1||a>r||u<-1||u>t)throw new q;i=!1,a===-1?(n[s]=0,i=!0):a===r&&(n[s]=r-1,i=!0),u===-1?(n[s+1]=0,i=!0):u===t&&(n[s+1]=t-1,i=!0)}}}class ot{constructor(e,n,r,t,i,s,a,u,f){this.a11=e,this.a21=n,this.a31=r,this.a12=t,this.a22=i,this.a32=s,this.a13=a,this.a23=u,this.a33=f}static quadrilateralToQuadrilateral(e,n,r,t,i,s,a,u,f,p,x,y,C,M,L,F){const V=ot.quadrilateralToSquare(e,n,r,t,i,s,a,u);return ot.squareToQuadrilateral(f,p,x,y,C,M,L,F).times(V)}transformPoints(e){const n=e.length,r=this.a11,t=this.a12,i=this.a13,s=this.a21,a=this.a22,u=this.a23,f=this.a31,p=this.a32,x=this.a33;for(let y=0;y<n;y+=2){const C=e[y],M=e[y+1],L=i*C+u*M+x;e[y]=(r*C+s*M+f)/L,e[y+1]=(t*C+a*M+p)/L}}transformPointsWithValues(e,n){const r=this.a11,t=this.a12,i=this.a13,s=this.a21,a=this.a22,u=this.a23,f=this.a31,p=this.a32,x=this.a33,y=e.length;for(let C=0;C<y;C++){const M=e[C],L=n[C],F=i*M+u*L+x;e[C]=(r*M+s*L+f)/F,n[C]=(t*M+a*L+p)/F}}static squareToQuadrilateral(e,n,r,t,i,s,a,u){const f=e-r+i-a,p=n-t+s-u;if(f===0&&p===0)return new ot(r-e,i-r,e,t-n,s-t,n,0,0,1);{const x=r-i,y=a-i,C=t-s,M=u-s,L=x*M-y*C,F=(f*M-y*p)/L,V=(x*p-f*C)/L;return new ot(r-e+F*r,a-e+V*a,e,t-n+F*t,u-n+V*u,n,F,V,1)}}static quadrilateralToSquare(e,n,r,t,i,s,a,u){return ot.squareToQuadrilateral(e,n,r,t,i,s,a,u).buildAdjoint()}buildAdjoint(){return new ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new ot(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class rt extends Ge{sampleGrid(e,n,r,t,i,s,a,u,f,p,x,y,C,M,L,F,V,ce,he){const K=ot.quadrilateralToQuadrilateral(t,i,s,a,u,f,p,x,y,C,M,L,F,V,ce,he);return this.sampleGridWithTransform(e,n,r,K)}sampleGridWithTransform(e,n,r,t){if(n<=0||r<=0)throw new q;const i=new lt(n,r),s=new Float32Array(2*n);for(let a=0;a<r;a++){const u=s.length,f=a+.5;for(let p=0;p<u;p+=2)s[p]=p/2+.5,s[p+1]=f;t.transformPoints(s),Ge.checkAndNudgePoints(e,s);try{for(let p=0;p<u;p+=2)e.get(Math.floor(s[p]),Math.floor(s[p+1]))&&i.set(p/2,a)}catch{throw new q}}return i}}class St{static setGridSampler(e){St.gridSampler=e}static getInstance(){return St.gridSampler}}St.gridSampler=new rt;class dt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let s=r[0];r[0]=r[2],r[2]=s}this.extractParameters(r);let t=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new xe(t,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new q;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let t=0;for(let s=0;s<4;s++){let a=r[(this.shift+s)%4];this.compact?(t<<=7,t+=a>>1&127):(t<<=10,t+=(a>>2&992)+(a>>1&31))}let i=this.getCorrectedParameterData(t,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,n){let r=0;e.forEach((t,i,s)=>{let a=(t>>n-2<<1)+(t&1);r=(r<<3)+a}),r=((r&1)<<11)+(r>>1);for(let t=0;t<4;t++)if(Z.bitCount(r^this.EXPECTED_CORNER_BITS[t])<=2)return t;throw new q}getCorrectedParameterData(e,n){let r,t;n?(r=7,t=2):(r=10,t=4);let i=r-t,s=new Int32Array(r);for(let u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{new $e(pe.AZTEC_PARAM).decode(s,i)}catch{throw new q}let a=0;for(let u=0;u<t;u++)a=(a<<4)+s[u];return a}getBullsEyeCorners(e){let n=e,r=e,t=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(n,s,1,-1),y=this.getFirstDifferent(r,s,1,1),C=this.getFirstDifferent(t,s,-1,1),M=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(M,x)*this.nbCenterLayers/(this.distancePoint(i,n)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(x,y,C,M))break}n=x,r=y,t=C,i=M,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new q;this.compact=this.nbCenterLayers===5;let a=new me(n.getX()+.5,n.getY()-.5),u=new me(r.getX()+.5,r.getY()+.5),f=new me(t.getX()-.5,t.getY()+.5),p=new me(i.getX()-.5,i.getY()-.5);return this.expandSquare([a,u,f,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,t;try{let a=new ye(this.image).detect();e=a[0],n=a[1],r=a[2],t=a[3]}catch{let u=this.image.getWidth()/2,f=this.image.getHeight()/2;e=this.getFirstDifferent(new dt(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new dt(u+7,f+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dt(u-7,f+7),!1,-1,1).toResultPoint(),t=this.getFirstDifferent(new dt(u-7,f-7),!1,-1,-1).toResultPoint()}let i=we.round((e.getX()+t.getX()+n.getX()+r.getX())/4),s=we.round((e.getY()+t.getY()+n.getY()+r.getY())/4);try{let a=new ye(this.image,15,i,s).detect();e=a[0],n=a[1],r=a[2],t=a[3]}catch{e=this.getFirstDifferent(new dt(i+7,s-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new dt(i+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dt(i-7,s+7),!1,-1,1).toResultPoint(),t=this.getFirstDifferent(new dt(i-7,s-7),!1,-1,-1).toResultPoint()}return i=we.round((e.getX()+t.getX()+n.getX()+r.getX())/4),s=we.round((e.getY()+t.getY()+n.getY()+r.getY())/4),new dt(i,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,t,i){let s=St.getInstance(),a=this.getDimension(),u=a/2-this.nbCenterLayers,f=a/2+this.nbCenterLayers;return s.sampleGrid(e,a,a,u,u,f,u,f,f,u,f,n.getX(),n.getY(),r.getX(),r.getY(),t.getX(),t.getY(),i.getX(),i.getY())}sampleLine(e,n,r){let t=0,i=this.distanceResultPoint(e,n),s=i/r,a=e.getX(),u=e.getY(),f=s*(n.getX()-e.getX())/i,p=s*(n.getY()-e.getY())/i;for(let x=0;x<r;x++)this.image.get(we.round(a+x*f),we.round(u+x*p))&&(t|=1<<r-x-1);return t}isWhiteOrBlackRectangle(e,n,r,t){let i=3;e=new dt(e.getX()-i,e.getY()+i),n=new dt(n.getX()-i,n.getY()-i),r=new dt(r.getX()+i,r.getY()-i),t=new dt(t.getX()+i,t.getY()+i);let s=this.getColor(t,e);if(s===0)return!1;let a=this.getColor(e,n);return a!==s||(a=this.getColor(n,r),a!==s)?!1:(a=this.getColor(r,t),a===s)}getColor(e,n){let r=this.distancePoint(e,n),t=(n.getX()-e.getX())/r,i=(n.getY()-e.getY())/r,s=0,a=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),p=Math.ceil(r);for(let y=0;y<p;y++)a+=t,u+=i,this.image.get(we.round(a),we.round(u))!==f&&s++;let x=s/r;return x>.1&&x<.9?0:x<=.1===f?1:-1}getFirstDifferent(e,n,r,t){let i=e.getX()+r,s=e.getY()+t;for(;this.isValid(i,s)&&this.image.get(i,s)===n;)i+=r,s+=t;for(i-=r,s-=t;this.isValid(i,s)&&this.image.get(i,s)===n;)i+=r;for(i-=r;this.isValid(i,s)&&this.image.get(i,s)===n;)s+=t;return s-=t,new dt(i,s)}expandSquare(e,n,r){let t=r/(2*n),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),a=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new me(a+t*i,u+t*s),p=new me(a-t*i,u-t*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),a=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let x=new me(a+t*i,u+t*s),y=new me(a-t*i,u-t*s);return[f,x,p,y]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=we.round(e.getX()),r=we.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return we.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return we.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Z.truncDivision(this.nbLayers-4,8)+1)+15}}class Tn{decode(e,n=null){let r=null,t=new xn(e.getBlackMatrix()),i=null,s=null;try{let p=t.detectMirror(!1);i=p.getPoints(),this.reportFoundResultPoints(n,i),s=new re().decode(p)}catch(p){r=p}if(s==null)try{let p=t.detectMirror(!0);i=p.getPoints(),this.reportFoundResultPoints(n,i),s=new re().decode(p)}catch(p){throw r??p}let a=new Be(s.getText(),s.getRawBytes(),s.getNumBits(),i,se.AZTEC,I.currentTimeMillis()),u=s.getByteSegments();u!=null&&a.putMetadata(de.BYTE_SEGMENTS,u);let f=s.getECLevel();return f!=null&&a.putMetadata(de.ERROR_CORRECTION_LEVEL,f),a}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(U.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((t,i,s)=>{r.foundPossibleResultPoint(t)})}}reset(){}}class Hn extends Pe{constructor(e=500){super(new Tn,e)}}class jt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(U.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),s=this.doDecode(i,n),a=s.getResultMetadata();let u=270;a!==null&&a.get(de.ORIENTATION)===!0&&(u=u+a.get(de.ORIENTATION)%360),s.putMetadata(de.ORIENTATION,u);const f=s.getResultPoints();if(f!==null){const p=i.getHeight();for(let x=0;x<f.length;x++)f[x]=new me(p-f[x].getY()-1,f[x].getX())}return s}else throw new q}}reset(){}doDecode(e,n){const r=e.getWidth(),t=e.getHeight();let i=new O(r);const s=n&&n.get(U.TRY_HARDER)===!0,a=Math.max(1,t>>(s?8:5));let u;s?u=t:u=15;const f=Math.trunc(t/2);for(let p=0;p<u;p++){const x=Math.trunc((p+1)/2),y=(p&1)===0,C=f+a*(y?x:-x);if(C<0||C>=t)break;try{i=e.getBlackRow(C,i)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(i.reverse(),n&&n.get(U.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;n.forEach((F,V)=>L.set(V,F)),L.delete(U.NEED_RESULT_POINT_CALLBACK),n=L}try{const L=this.decodeRow(C,i,n);if(M===1){L.putMetadata(de.ORIENTATION,180);const F=L.getResultPoints();F!==null&&(F[0]=new me(r-F[0].getX()-1,F[0].getY()),F[1]=new me(r-F[1].getX()-1,F[1].getY()))}return L}catch{}}}throw new q}static recordPattern(e,n,r){const t=r.length;for(let f=0;f<t;f++)r[f]=0;const i=e.getSize();if(n>=i)throw new q;let s=!e.get(n),a=0,u=n;for(;u<i;){if(e.get(u)!==s)r[a]++;else{if(++a===t)break;r[a]=1,s=!s}u++}if(!(a===t||a===t-1&&u===i))throw new q}static recordPatternInReverse(e,n,r){let t=r.length,i=e.get(n);for(;n>0&&t>=0;)e.get(--n)!==i&&(t--,i=!i);if(t>=0)throw new q;jt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const t=e.length;let i=0,s=0;for(let f=0;f<t;f++)i+=e[f],s+=n[f];if(i<s)return Number.POSITIVE_INFINITY;const a=i/s;r*=a;let u=0;for(let f=0;f<t;f++){const p=e[f],x=n[f]*a,y=p>x?p-x:x-p;if(y>r)return Number.POSITIVE_INFINITY;u+=y}return u/i}}class ue extends jt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let t=0,i=Int32Array.from([0,0,0,0,0,0]),s=r,a=!1;const u=6;for(let f=r;f<n;f++)if(e.get(f)!==a)i[t]++;else{if(t===u-1){let p=ue.MAX_AVG_VARIANCE,x=-1;for(let y=ue.CODE_START_A;y<=ue.CODE_START_C;y++){const C=jt.patternMatchVariance(i,ue.CODE_PATTERNS[y],ue.MAX_INDIVIDUAL_VARIANCE);C<p&&(p=C,x=y)}if(x>=0&&e.isRange(Math.max(0,s-(f-s)/2),s,!1))return Int32Array.from([s,f,x]);s+=i[0]+i[1],i=i.slice(2,i.length-1),i[t-1]=0,i[t]=0,t--}else t++;i[t]=1,a=!a}throw new q}static decodeCode(e,n,r){jt.recordPattern(e,r,n);let t=ue.MAX_AVG_VARIANCE,i=-1;for(let s=0;s<ue.CODE_PATTERNS.length;s++){const a=ue.CODE_PATTERNS[s],u=this.patternMatchVariance(n,a,ue.MAX_INDIVIDUAL_VARIANCE);u<t&&(t=u,i=s)}if(i>=0)return i;throw new q}decodeRow(e,n,r){const t=r&&r.get(U.ASSUME_GS1)===!0,i=ue.findStartPattern(n),s=i[2];let a=0;const u=new Uint8Array(20);u[a++]=s;let f;switch(s){case ue.CODE_START_A:f=ue.CODE_CODE_A;break;case ue.CODE_START_B:f=ue.CODE_CODE_B;break;case ue.CODE_START_C:f=ue.CODE_CODE_C;break;default:throw new D}let p=!1,x=!1,y="",C=i[0],M=i[1];const L=Int32Array.from([0,0,0,0,0,0]);let F=0,V=0,ce=s,he=0,K=!0,Te=!1,Ee=!1;for(;!p;){const kn=x;switch(x=!1,F=V,V=ue.decodeCode(n,L,M),u[a++]=V,V!==ue.CODE_STOP&&(K=!0),V!==ue.CODE_STOP&&(he++,ce+=he*V),C=M,M+=L.reduce((Fr,Ti)=>Fr+Ti,0),V){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new D}switch(f){case ue.CODE_CODE_A:if(V<64)Ee===Te?y+=String.fromCharCode(" ".charCodeAt(0)+V):y+=String.fromCharCode(" ".charCodeAt(0)+V+128),Ee=!1;else if(V<96)Ee===Te?y+=String.fromCharCode(V-64):y+=String.fromCharCode(V+64),Ee=!1;else switch(V!==ue.CODE_STOP&&(K=!1),V){case ue.CODE_FNC_1:t&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!Te&&Ee?(Te=!0,Ee=!1):Te&&Ee?(Te=!1,Ee=!1):Ee=!0;break;case ue.CODE_SHIFT:x=!0,f=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:f=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:f=ue.CODE_CODE_C;break;case ue.CODE_STOP:p=!0;break}break;case ue.CODE_CODE_B:if(V<96)Ee===Te?y+=String.fromCharCode(" ".charCodeAt(0)+V):y+=String.fromCharCode(" ".charCodeAt(0)+V+128),Ee=!1;else switch(V!==ue.CODE_STOP&&(K=!1),V){case ue.CODE_FNC_1:t&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!Te&&Ee?(Te=!0,Ee=!1):Te&&Ee?(Te=!1,Ee=!1):Ee=!0;break;case ue.CODE_SHIFT:x=!0,f=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:f=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:f=ue.CODE_CODE_C;break;case ue.CODE_STOP:p=!0;break}break;case ue.CODE_CODE_C:if(V<100)V<10&&(y+="0"),y+=V;else switch(V!==ue.CODE_STOP&&(K=!1),V){case ue.CODE_FNC_1:t&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case ue.CODE_CODE_A:f=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:f=ue.CODE_CODE_B;break;case ue.CODE_STOP:p=!0;break}break}kn&&(f=f===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const st=M-C;if(M=n.getNextUnset(M),!n.isRange(M,Math.min(n.getSize(),M+(M-C)/2),!1))throw new q;if(ce-=he*F,ce%103!==F)throw new j;const kt=y.length;if(kt===0)throw new q;kt>0&&K&&(f===ue.CODE_CODE_C?y=y.substring(0,kt-2):y=y.substring(0,kt-1));const Ht=(i[1]+i[0])/2,wt=C+st/2,Qt=u.length,hn=new Uint8Array(Qt);for(let kn=0;kn<Qt;kn++)hn[kn]=u[kn];const Vn=[new me(Ht,e),new me(wt,e)];return new Be(y,hn,0,Vn,se.CODE_128,new Date().getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class Mt extends jt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let t=this.counters;t.fill(0),this.decodeRowResult="";let i=Mt.findAsteriskPattern(n,t),s=n.getNextSet(i[1]),a=n.getSize(),u,f;do{Mt.recordPattern(n,s,t);let L=Mt.toNarrowWidePattern(t);if(L<0)throw new q;u=Mt.patternToChar(L),this.decodeRowResult+=u,f=s;for(let F of t)s+=F;s=n.getNextSet(s)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let L of t)p+=L;let x=s-f-p;if(s!==a&&x*2<p)throw new q;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,F=0;for(let V=0;V<L;V++)F+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(V));if(this.decodeRowResult.charAt(L)!==Mt.ALPHABET_STRING.charAt(F%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new q;let y;this.extendedMode?y=Mt.decodeExtended(this.decodeRowResult):y=this.decodeRowResult;let C=(i[1]+i[0])/2,M=f+p/2;return new Be(y,null,0,[new me(C,e),new me(M,e)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),t=e.getNextSet(0),i=0,s=t,a=!1,u=n.length;for(let f=t;f<r;f++)if(e.get(f)!==a)n[i]++;else{if(i===u-1){if(this.toNarrowWidePattern(n)===Mt.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((f-s)/2)),s,!1))return[s,f];s+=n[0]+n[1],n.copyWithin(0,2,2+i-1),n[i-1]=0,n[i]=0,i--}else i++;n[i]=1,a=!a}throw new q}static toNarrowWidePattern(e){let n=e.length,r=0,t;do{let i=2147483647;for(let u of e)u<i&&u>r&&(i=u);r=i,t=0;let s=0,a=0;for(let u=0;u<n;u++){let f=e[u];f>r&&(a|=1<<n-1-u,t++,s+=f)}if(t===3){for(let u=0;u<n&&t>0;u++){let f=e[u];if(f>r&&(t--,f*2>=s))return-1}return a}}while(t>3);return-1}static patternToChar(e){for(let n=0;n<Mt.CHARACTER_ENCODINGS.length;n++)if(Mt.CHARACTER_ENCODINGS[n]===e)return Mt.ALPHABET_STRING.charAt(n);if(e===Mt.ASTERISK_ENCODING)return"*";throw new q}static decodeExtended(e){let n=e.length,r="";for(let t=0;t<n;t++){let i=e.charAt(t);if(i==="+"||i==="$"||i==="%"||i==="/"){let s=e.charAt(t+1),a="\0";switch(i){case"+":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)+32);else throw new D;break;case"$":if(s>="A"&&s<="Z")a=String.fromCharCode(s.charCodeAt(0)-64);else throw new D;break;case"%":if(s>="A"&&s<="E")a=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")a=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")a=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")a="\0";else if(s==="V")a="@";else if(s==="W")a="`";else if(s==="X"||s==="Y"||s==="Z")a="";else throw new D;break;case"/":if(s>="A"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")a=":";else throw new D;break}r+=a,t++}else r+=i}return r}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class vt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let t=this.decodeStart(n),i=this.decodeEnd(n),s=new Ie;vt.decodeMiddle(n,t[1],i[0],s);let a=s.toString(),u=null;r!=null&&(u=r.get(U.ALLOWED_LENGTHS)),u==null&&(u=vt.DEFAULT_ALLOWED_LENGTHS);let f=a.length,p=!1,x=0;for(let M of u){if(f===M){p=!0;break}M>x&&(x=M)}if(!p&&f>x&&(p=!0),!p)throw new D;const y=[new me(t[1],e),new me(i[0],e)];return new Be(a,null,0,y,se.ITF,new Date().getTime())}static decodeMiddle(e,n,r,t){let i=new Int32Array(10),s=new Int32Array(5),a=new Int32Array(5);for(i.fill(0),s.fill(0),a.fill(0);n<r;){jt.recordPattern(e,n,i);for(let f=0;f<5;f++){let p=2*f;s[f]=i[p],a[f]=i[p+1]}let u=vt.decodeDigit(s);t.append(u.toString()),u=this.decodeDigit(a),t.append(u.toString()),i.forEach(function(f){n+=f})}}decodeStart(e){let n=vt.skipWhiteSpace(e),r=vt.findGuardPattern(e,n,vt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let t=n-1;r>0&&t>=0&&!e.get(t);t--)r--;if(r!==0)throw new q}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new q;return r}decodeEnd(e){e.reverse();try{let n=vt.skipWhiteSpace(e),r;try{r=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[0])}catch(i){i instanceof q&&(r=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let t=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-t,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let t=r.length,i=new Int32Array(t),s=e.getSize(),a=!1,u=0,f=n;i.fill(0);for(let p=n;p<s;p++)if(e.get(p)!==a)i[u]++;else{if(u===t-1){if(jt.patternMatchVariance(i,r,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[f,p];f+=i[0]+i[1],I.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,a=!a}throw new q}static decodeDigit(e){let n=vt.MAX_AVG_VARIANCE,r=-1,t=vt.PATTERNS.length;for(let i=0;i<t;i++){let s=vt.PATTERNS[i],a=jt.patternMatchVariance(e,s,vt.MAX_INDIVIDUAL_VARIANCE);a<n?(n=a,r=i):a===n&&(r=-1)}if(r>=0)return r%10;throw new q}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ut extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,t=0,i=Int32Array.from([0,0,0]);for(;!n;){i=Int32Array.from([0,0,0]),r=Ut.findGuardPattern(e,t,!1,this.START_END_PATTERN,i);let s=r[0];t=r[1];let a=s-(t-s);a>=0&&(n=e.isRange(a,s,!1))}return r}static checkChecksum(e){return Ut.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return Ut.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let t=n-1;t>=0;t-=2){let i=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new D;r+=i}r*=3;for(let t=n-2;t>=0;t-=2){let i=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new D;r+=i}return(1e3-r)%10}static decodeEnd(e,n){return Ut.findGuardPattern(e,n,!1,Ut.START_END_PATTERN,new Int32Array(Ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,t){return this.findGuardPattern(e,n,r,t,new Int32Array(t.length))}static findGuardPattern(e,n,r,t,i){let s=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let a=0,u=n,f=t.length,p=r;for(let x=n;x<s;x++)if(e.get(x)!==p)i[a]++;else{if(a===f-1){if(jt.patternMatchVariance(i,t,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return Int32Array.from([u,x]);u+=i[0]+i[1];let y=i.slice(2,i.length-1);for(let C=0;C<a-1;C++)i[C]=y[C];i[a-1]=0,i[a]=0,a--}else a++;i[a]=1,p=!p}throw new q}static decodeDigit(e,n,r,t){this.recordPattern(e,r,n);let i=this.MAX_AVG_VARIANCE,s=-1,a=t.length;for(let u=0;u<a;u++){let f=t[u],p=jt.patternMatchVariance(n,f,Ut.MAX_INDIVIDUAL_VARIANCE);p<i&&(i=p,s=u)}if(s>=0)return s;throw new q}}Ut.MAX_AVG_VARIANCE=.48,Ut.MAX_INDIVIDUAL_VARIANCE=.7,Ut.START_END_PATTERN=Int32Array.from([1,1,1]),Ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ui{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let t=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,t),s=t.toString(),a=ui.parseExtensionString(s),u=[new me((r[0]+r[1])/2,e),new me(i,e)],f=new Be(s,null,0,u,se.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&f.putAllMetadata(a),f}decodeMiddle(e,n,r){let t=this.decodeMiddleCounters;t[0]=0,t[1]=0,t[2]=0,t[3]=0;let i=e.getSize(),s=n[1],a=0;for(let f=0;f<5&&s<i;f++){let p=Ut.decodeDigit(e,t,s,Ut.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let x of t)s+=x;p>=10&&(a|=1<<4-f),f!==4&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==5)throw new q;let u=this.determineCheckDigit(a);if(ui.extensionChecksum(r.toString())!==u)throw new q;return s}static extensionChecksum(e){let n=e.length,r=0;for(let t=n-2;t>=0;t-=2)r+=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let t=n-1;t>=0;t-=2)r+=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new q}static parseExtensionString(e){if(e.length!==5)return null;let n=ui.parseExtension5String(e);return n==null?null:new Map([[de.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),t=(r/100).toString(),i=r%100,s=i<10?"0"+i:i.toString();return n+t+"."+s}}class fi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let t=this.decodeRowStringBuffer,i=this.decodeMiddle(n,r,t),s=t.toString(),a=fi.parseExtensionString(s),u=[new me((r[0]+r[1])/2,e),new me(i,e)],f=new Be(s,null,0,u,se.UPC_EAN_EXTENSION,new Date().getTime());return a!=null&&f.putAllMetadata(a),f}decodeMiddle(e,n,r){let t=this.decodeMiddleCounters;t[0]=0,t[1]=0,t[2]=0,t[3]=0;let i=e.getSize(),s=n[1],a=0;for(let u=0;u<2&&s<i;u++){let f=Ut.decodeDigit(e,t,s,Ut.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f%10);for(let p of t)s+=p;f>=10&&(a|=1<<1-u),u!==1&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==2)throw new q;if(parseInt(r.toString())%4!==a)throw new q;return s}static parseExtensionString(e){return e.length!==2?null:new Map([[de.ISSUE_NUMBER,parseInt(e)]])}}class Ri{static decodeRow(e,n,r){let t=Ut.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ui().decodeRow(e,n,t)}catch{return new fi().decodeRow(e,n,t)}}}Ri.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends Ut{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=gt.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let t=0;t<n.length;t++)r[t]=n[n.length-t-1];gt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let t=gt.findStartGuardPattern(n),i=r==null?null:r.get(U.NEED_RESULT_POINT_CALLBACK);if(i!=null){const K=new me((t[0]+t[1])/2,e);i.foundPossibleResultPoint(K)}let s=this.decodeMiddle(n,t,this.decodeRowStringBuffer),a=s.rowOffset,u=s.resultString;if(i!=null){const K=new me(a,e);i.foundPossibleResultPoint(K)}let f=this.decodeEnd(n,a);if(i!=null){const K=new me((f[0]+f[1])/2,e);i.foundPossibleResultPoint(K)}let p=f[1],x=p+(p-f[0]);if(x>=n.getSize()||!n.isRange(p,x,!1))throw new q;let y=u.toString();if(y.length<8)throw new D;if(!gt.checkChecksum(y))throw new j;let C=(t[1]+t[0])/2,M=(f[1]+f[0])/2,L=this.getBarcodeFormat(),F=[new me(C,e),new me(M,e)],V=new Be(y,null,0,F,L,new Date().getTime()),ce=0;try{let K=Ri.decodeRow(e,n,f[1]);V.putMetadata(de.UPC_EAN_EXTENSION,K.getText()),V.putAllMetadata(K.getResultMetadata()),V.addResultPoints(K.getResultPoints()),ce=K.getText().length}catch{}let he=r==null?null:r.get(U.ALLOWED_EAN_EXTENSIONS);if(he!=null){let K=!1;for(let Te in he)if(ce.toString()===Te){K=!0;break}if(!K)throw new q}return V}decodeEnd(e,n){return gt.findGuardPattern(e,n,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return gt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return gt.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let t=n-1;t>=0;t-=2){let i=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new D;r+=i}r*=3;for(let t=n-2;t>=0;t-=2){let i=e.charAt(t).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new D;r+=i}return(1e3-r)%10}}class mn extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let t=this.decodeMiddleCounters;t[0]=0,t[1]=0,t[2]=0,t[3]=0;let i=e.getSize(),s=n[1],a=0;for(let f=0;f<6&&s<i;f++){let p=gt.decodeDigit(e,t,s,gt.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let x of t)s+=x;p>=10&&(a|=1<<5-f)}r=mn.determineFirstDigit(r,a),s=gt.findGuardPattern(e,s,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<6&&s<i;f++){let p=gt.decodeDigit(e,t,s,gt.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+p);for(let x of t)s+=x}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e,e;throw new q}}mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Xn extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const t=this.decodeMiddleCounters;t[0]=0,t[1]=0,t[2]=0,t[3]=0;let i=e.getSize(),s=n[1];for(let u=0;u<4&&s<i;u++){let f=gt.decodeDigit(e,t,s,gt.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f);for(let p of t)s+=p}s=gt.findGuardPattern(e,s,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&s<i;u++){let f=gt.decodeDigit(e,t,s,gt.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+f);for(let p of t)s+=p}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return se.EAN_8}}class Ji extends gt{constructor(){super(...arguments),this.ean13Reader=new mn}getBarcodeFormat(){return se.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Be(n.substring(1),null,null,e.getResultPoints(),se.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new q}reset(){this.ean13Reader.reset()}}class Nn extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const t=this.decodeMiddleCounters.map(f=>f);t[0]=0,t[1]=0,t[2]=0,t[3]=0;const i=e.getSize();let s=n[1],a=0;for(let f=0;f<6&&s<i;f++){const p=Nn.decodeDigit(e,t,s,Nn.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let x of t)s+=x;p>=10&&(a|=1<<5-f)}let u=Nn.determineNumSysAndCheckDigit(r,a);return{rowOffset:s,resultString:u}}decodeEnd(e,n){return Nn.findGuardPatternWithoutCounters(e,n,!0,Nn.MIDDLE_END_PATTERN)}checkChecksum(e){return gt.checkChecksum(Nn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let t=0;t<10;t++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][t]){let i=String.fromCharCode("0".charCodeAt(0)+r),s=String.fromCharCode("0".charCodeAt(0)+t);return i+e+s}throw q.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new Ie;r.append(e.charAt(0));let t=n[5];switch(t){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(t),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(t);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Nn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ci extends jt{constructor(e){super();let n=e==null?null:e.get(U.POSSIBLE_FORMATS),r=[];h(n)?(r.push(new mn),r.push(new Ji),r.push(new Xn),r.push(new Nn)):(n.indexOf(se.EAN_13)>-1&&r.push(new mn),n.indexOf(se.UPC_A)>-1&&r.push(new Ji),n.indexOf(se.EAN_8)>-1&&r.push(new Xn),n.indexOf(se.UPC_E)>-1&&r.push(new Nn)),this.readers=r}decodeRow(e,n,r){for(let t of this.readers)try{const i=t.decodeRow(e,n,r),s=i.getBarcodeFormat()===se.EAN_13&&i.getText().charAt(0)==="0",a=r==null?null:r.get(U.POSSIBLE_FORMATS),u=a==null||a.includes(se.UPC_A);if(s&&u){const f=i.getRawBytes(),p=new Be(i.getText().substring(1),f,f?f.length:null,i.getResultPoints(),se.UPC_A);return p.putAllMetadata(i.getResultMetadata()),p}return i}catch{}throw new q}reset(){for(let e of this.readers)e.reset()}}class rn extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(jt.patternMatchVariance(e,n[r],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return r;throw new q}static count(e){return we.sum(new Int32Array(e))}static increment(e,n){let r=0,t=n[0];for(let i=1;i<e.length;i++)n[i]>t&&(t=n[i],r=i);e[r]++}static decrement(e,n){let r=0,t=n[0];for(let i=1;i<e.length;i++)n[i]<t&&(t=n[i],r=i);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],t=n/r;if(t>=rn.MIN_FINDER_PATTERN_RATIO&&t<=rn.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let a of e)a>s&&(s=a),a<i&&(i=a);return s<10*i}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ti{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ti))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ni{constructor(e,n,r,t,i){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new me(r,i)),this.resultPoints.push(new me(t,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ni))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Sn{constructor(){}static getRSSvalue(e,n,r){let t=0;for(let u of e)t+=u;let i=0,s=0,a=e.length;for(let u=0;u<a-1;u++){let f;for(f=1,s|=1<<u;f<e[u];f++,s&=~(1<<u)){let p=Sn.combins(t-f-1,a-u-2);if(r&&s===0&&t-f-(a-u-1)>=a-u-1&&(p-=Sn.combins(t-f-(a-u),a-u-2)),a-u-1>1){let x=0;for(let y=t-f-(a-u-2);y>n;y--)x+=Sn.combins(t-f-y-1,a-u-3);p-=x*(a-1-u)}else t-f>n&&p--;i+=p}t-=f}return i}static combins(e,n){let r,t;e-n>n?(t=n,r=e-n):(t=e-n,r=n);let i=1,s=1;for(let a=e;a>r;a--)i*=a,s<=t&&(i/=s,s++);for(;s<=t;)i/=s,s++;return i}}class In{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,t=new O(r),i=0,a=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)a&1<<u&&t.set(i),i++;for(let u=1;u<e.length;++u){let f=e[u],p=f.getLeftChar().getValue();for(let x=11;x>=0;--x)p&1<<x&&t.set(i),i++;if(f.getRightChar()!=null){let x=f.getRightChar().getValue();for(let y=11;y>=0;--y)x&1<<y&&t.set(i),i++}}return t}}class Dn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Li{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class N extends Li{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===N.FNC1}}N.FNC1="$";class P extends Li{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class X extends Li{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new D;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===X.FNC1}isSecondDigitFNC1(){return this.secondDigit===X.FNC1}isAnyFNC1(){return this.firstDigit===X.FNC1||this.secondDigit===X.FNC1}}X.FNC1=10;class k{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new q;let n=e.substring(0,2);for(let i of k.TWO_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===k.VARIABLE_LENGTH?k.processVariableAI(2,i[2],e):k.processFixedAI(2,i[1],e);if(e.length<3)throw new q;let r=e.substring(0,3);for(let i of k.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===k.VARIABLE_LENGTH?k.processVariableAI(3,i[2],e):k.processFixedAI(3,i[1],e);for(let i of k.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===k.VARIABLE_LENGTH?k.processVariableAI(4,i[2],e):k.processFixedAI(4,i[1],e);if(e.length<4)throw new q;let t=e.substring(0,4);for(let i of k.FOUR_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===k.VARIABLE_LENGTH?k.processVariableAI(4,i[2],e):k.processFixedAI(4,i[1],e);throw new q}static processFixedAI(e,n,r){if(r.length<e)throw new q;let t=r.substring(0,e);if(r.length<e+n)throw new q;let i=r.substring(e,e+n),s=r.substring(e+n),a="("+t+")"+i,u=k.parseFieldsInGeneralPurpose(s);return u==null?a:a+u}static processVariableAI(e,n,r){let t=r.substring(0,e),i;r.length<e+n?i=r.length:i=e+n;let s=r.substring(e,i),a=r.substring(i),u="("+t+")"+s,f=k.parseFieldsInGeneralPurpose(a);return f==null?u:u+f}}k.VARIABLE_LENGTH=[],k.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",k.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",k.VARIABLE_LENGTH,20],["22",k.VARIABLE_LENGTH,29],["30",k.VARIABLE_LENGTH,8],["37",k.VARIABLE_LENGTH,8],["90",k.VARIABLE_LENGTH,30],["91",k.VARIABLE_LENGTH,30],["92",k.VARIABLE_LENGTH,30],["93",k.VARIABLE_LENGTH,30],["94",k.VARIABLE_LENGTH,30],["95",k.VARIABLE_LENGTH,30],["96",k.VARIABLE_LENGTH,30],["97",k.VARIABLE_LENGTH,3],["98",k.VARIABLE_LENGTH,30],["99",k.VARIABLE_LENGTH,30]],k.THREE_DIGIT_DATA_LENGTH=[["240",k.VARIABLE_LENGTH,30],["241",k.VARIABLE_LENGTH,30],["242",k.VARIABLE_LENGTH,6],["250",k.VARIABLE_LENGTH,30],["251",k.VARIABLE_LENGTH,30],["253",k.VARIABLE_LENGTH,17],["254",k.VARIABLE_LENGTH,20],["400",k.VARIABLE_LENGTH,30],["401",k.VARIABLE_LENGTH,30],["402",17],["403",k.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",k.VARIABLE_LENGTH,20],["421",k.VARIABLE_LENGTH,15],["422",3],["423",k.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],k.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",k.VARIABLE_LENGTH,15],["391",k.VARIABLE_LENGTH,18],["392",k.VARIABLE_LENGTH,15],["393",k.VARIABLE_LENGTH,18],["703",k.VARIABLE_LENGTH,30]],k.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",k.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",k.VARIABLE_LENGTH,20],["8003",k.VARIABLE_LENGTH,30],["8004",k.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",k.VARIABLE_LENGTH,30],["8008",k.VARIABLE_LENGTH,12],["8018",18],["8020",k.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",k.VARIABLE_LENGTH,70],["8200",k.VARIABLE_LENGTH,70]];class ne{constructor(e){this.buffer=new Ie,this.information=e}decodeAllCodes(e,n){let r=n,t=null;do{let i=this.decodeGeneralPurposeField(r,t),s=k.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?t=""+i.getRemainingValue():t=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new X(this.information.getSize(),X.FNC1,X.FNC1):new X(this.information.getSize(),i-1,X.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,t=(n-8)%11;return new X(e+7,r,t)}extractNumericValueFromBitArray(e,n){return ne.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let t=0;for(let i=0;i<r;++i)e.get(n+i)&&(t|=1<<r-i-1);return t}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new P(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new P(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new P(this.current.getPosition(),this.buffer.toString()):n=new P(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Dn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new P(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Dn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new P(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Dn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new P(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Dn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,8);return t>=232&&t<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new N(e+5,N.FNC1);if(n>=5&&n<15)return new N(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new N(e+7,""+(r+1));if(r>=90&&r<116)return new N(e+7,""+(r+7));let t=this.extractNumericValueFromBitArray(e,8),i;switch(t){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new D}return new N(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new N(e+5,N.FNC1);if(n>=5&&n<15)return new N(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new N(e+6,""+(r+33));let t;switch(r){case 58:t="*";break;case 59:t=",";break;case 60:t="-";break;case 61:t=".";break;case 62:t="/";break;default:throw new At("Decoding invalid alphanumeric value: "+r)}return new N(e+6,t)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class ge{constructor(e){this.information=e,this.generalDecoder=new ne(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fe extends ge{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let t=0;t<4;++t){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*t,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}fe.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let t=0;t<13;t++){let i=e.charAt(t+n).charCodeAt(0)-"0".charCodeAt(0);r+=t&1?i:3*i}r=10-r%10,r===10&&(r=0),e.append(r)}}fe.GTIN_SIZE=40;class Ce extends fe{constructor(e){super(e)}parseInformation(){let e=new Ie;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ce.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Ce.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Ce.HEADER_SIZE+44)}}Ce.HEADER_SIZE=1+1+2;class Me extends ge{constructor(e){super(e)}parseInformation(){let e=new Ie;return this.getGeneralDecoder().decodeAllCodes(e,Me.HEADER_SIZE)}}Me.HEADER_SIZE=2+1+2;class De extends fe{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let t=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,t);let i=this.checkWeight(t),s=1e5;for(let a=0;a<5;++a)i/s===0&&e.append("0"),s/=10;e.append(i)}}class nt extends De{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=nt.HEADER_SIZE+De.GTIN_SIZE+nt.WEIGHT_SIZE)throw new q;let e=new Ie;return this.encodeCompressedGtin(e,nt.HEADER_SIZE),this.encodeCompressedWeight(e,nt.HEADER_SIZE+De.GTIN_SIZE,nt.WEIGHT_SIZE),e.toString()}}nt.HEADER_SIZE=4+1,nt.WEIGHT_SIZE=15;class ct extends nt{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class mt extends nt{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class He extends fe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<He.HEADER_SIZE+fe.GTIN_SIZE)throw new q;let e=new Ie;this.encodeCompressedGtin(e,He.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(He.HEADER_SIZE+fe.GTIN_SIZE,He.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(He.HEADER_SIZE+fe.GTIN_SIZE+He.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}He.HEADER_SIZE=5+1+2,He.LAST_DIGIT_SIZE=2;class Ue extends fe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ue.HEADER_SIZE+fe.GTIN_SIZE)throw new q;let e=new Ie;this.encodeCompressedGtin(e,Ue.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ue.HEADER_SIZE+fe.GTIN_SIZE,Ue.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ue.HEADER_SIZE+fe.GTIN_SIZE+Ue.LAST_DIGIT_SIZE,Ue.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let t=this.getGeneralDecoder().decodeGeneralPurposeField(Ue.HEADER_SIZE+fe.GTIN_SIZE+Ue.LAST_DIGIT_SIZE+Ue.FIRST_THREE_DIGITS_SIZE,null);return e.append(t.getNewString()),e.toString()}}Ue.HEADER_SIZE=5+1+2,Ue.LAST_DIGIT_SIZE=2,Ue.FIRST_THREE_DIGITS_SIZE=10;class Ve extends De{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Ve.HEADER_SIZE+Ve.GTIN_SIZE+Ve.WEIGHT_SIZE+Ve.DATE_SIZE)throw new q;let e=new Ie;return this.encodeCompressedGtin(e,Ve.HEADER_SIZE),this.encodeCompressedWeight(e,Ve.HEADER_SIZE+Ve.GTIN_SIZE,Ve.WEIGHT_SIZE),this.encodeCompressedDate(e,Ve.HEADER_SIZE+Ve.GTIN_SIZE+Ve.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Ve.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let t=r%32;r/=32;let i=r%12+1;r/=12;let s=r;s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i),t/10==0&&e.append("0"),e.append(t)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ve.HEADER_SIZE=7+1,Ve.WEIGHT_SIZE=20,Ve.DATE_SIZE=16;function Dt(A){try{if(A.get(1))return new Ce(A);if(!A.get(2))return new Me(A);switch(ne.extractNumericValueFromBitArray(A,1,4)){case 4:return new ct(A);case 5:return new mt(A)}switch(ne.extractNumericValueFromBitArray(A,1,5)){case 12:return new He(A);case 13:return new Ue(A)}switch(ne.extractNumericValueFromBitArray(A,1,7)){case 56:return new Ve(A,"310","11");case 57:return new Ve(A,"320","11");case 58:return new Ve(A,"310","13");case 59:return new Ve(A,"320","13");case 60:return new Ve(A,"310","15");case 61:return new Ve(A,"320","15");case 62:return new Ve(A,"310","17");case 63:return new Ve(A,"320","17")}}catch(e){throw console.log(e),new At("unknown decoder: "+A)}}class je{constructor(e,n,r,t){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=t}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof je?je.equalsOrNull(e.leftchar,n.leftchar)&&je.equalsOrNull(e.rightchar,n.rightchar)&&je.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:je.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Rt{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Rt?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((t,i)=>{n.forEach(s=>{t.getLeftChar().getValue()===s.getLeftChar().getValue()&&t.getRightChar().getValue()===s.getRightChar().getValue()&&t.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}}class ie extends rn{constructor(e){super(...arguments),this.pairs=new Array(ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return ie.constructResult(this.decodeRow2pairs(e,n))}catch(t){this.verbose&&console.log(t)}return this.pairs.length=0,this.startFromEven=!0,ie.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(i){if(i instanceof q){if(!this.pairs.length)throw new q;r=!0}}if(this.checkChecksum())return this.pairs;let t;if(this.rows.length?t=!0:t=!1,this.storeRow(e,!1),t){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new q}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let s of e)this.pairs.push(s.getPairs());if(this.pairs.push(t.getPairs()),!ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(t);try{return this.checkRows(i,r+1)}catch(s){this.verbose&&console.log(s)}}throw new q}static isValidSequence(e){for(let n of ie.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let t=0;t<e.length;t++)if(e[t].getFinderPattern().getValue()!=n[t]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,t=!1,i=!1;for(;r<this.rows.length;){let s=this.rows[r];if(s.getRowNumber()>e){i=s.isEquivalent(this.pairs);break}t=s.isEquivalent(this.pairs),r++}i||t||ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Rt(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let t of r.getPairs())for(let i of e)if(je.equals(t,i))break}}static isPartialRow(e,n){for(let r of n){let t=!0;for(let i of e){let s=!1;for(let a of r.getPairs())if(i.equals(a)){s=!0;break}if(!s){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=In.buildBitArray(e),t=Dt(n).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),s=e[e.length-1].getFinderPattern().getResultPoints(),a=[i[0],i[1],s[0],s[1]];return new Be(t,null,null,a,se.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let t=r.getChecksumPortion(),i=2;for(let a=1;a<this.pairs.size();++a){let u=this.pairs.get(a);t+=u.getLeftChar().getChecksumPortion(),i++;let f=u.getRightChar();f!=null&&(t+=f.getChecksumPortion(),i++)}return t%=211,211*(i-4)+t==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let t=n.length%2==0;this.startFromEven&&(t=!t);let i,s=!0,a=-1;do this.findNextPair(e,n,a),i=this.parseFoundFinderPattern(e,r,t),i==null?a=ie.getNextSecondBar(e,this.startEnd[0]):s=!1;while(s);let u=this.decodeDataCharacter(e,i,t,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new q;let f;try{f=this.decodeDataCharacter(e,i,t,!1)}catch(p){f=null,this.verbose&&console.log(p)}return new je(u,f,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let t=this.getDecodeFinderCounters();t[0]=0,t[1]=0,t[2]=0,t[3]=0;let i=e.getSize(),s;r>=0?s=r:this.isEmptyPair(n)?s=0:s=n[n.length-1].getFinderPattern().getStartEnd()[1];let a=n.length%2!=0;this.startFromEven&&(a=!a);let u=!1;for(;s<i&&(u=!e.get(s),!!u);)s++;let f=0,p=s;for(let x=s;x<i;x++)if(e.get(x)!=u)t[f]++;else{if(f==3){if(a&&ie.reverseCounters(t),ie.isFinderPattern(t)){this.startEnd[0]=p,this.startEnd[1]=x;return}a&&ie.reverseCounters(t),p+=t[0]+t[1],t[0]=t[2],t[1]=t[3],t[2]=0,t[3]=0,f--}else f++;t[f]=1,u=!u}throw new q}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let t=e[r];e[r]=e[n-r-1],e[n-r-1]=t}}parseFoundFinderPattern(e,n,r){let t,i,s;if(r){let f=this.startEnd[0]-1;for(;f>=0&&!e.get(f);)f--;f++,t=this.startEnd[0]-f,i=f,s=this.startEnd[1]}else i=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),t=s-this.startEnd[1];let a=this.getDecodeFinderCounters();I.arraycopy(a,0,a,1,a.length-1),a[0]=t;let u;try{u=this.parseFinderValue(a,ie.FINDER_PATTERNS)}catch{return null}return new ni(u,[i,s],i,s,n)}decodeDataCharacter(e,n,r,t){let i=this.getDataCharacterCounters();for(let wt=0;wt<i.length;wt++)i[wt]=0;if(t)ie.recordPatternInReverse(e,n.getStartEnd()[0],i);else{ie.recordPattern(e,n.getStartEnd()[1],i);for(let wt=0,Qt=i.length-1;wt<Qt;wt++,Qt--){let hn=i[wt];i[wt]=i[Qt],i[Qt]=hn}}let s=17,a=we.sum(new Int32Array(i))/s,u=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(a-u)/u>.3)throw new q;let f=this.getOddCounts(),p=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let wt=0;wt<i.length;wt++){let Qt=1*i[wt]/a,hn=Qt+.5;if(hn<1){if(Qt<.3)throw new q;hn=1}else if(hn>8){if(Qt>8.7)throw new q;hn=8}let Vn=wt/2;wt&1?(p[Vn]=hn,y[Vn]=Qt-hn):(f[Vn]=hn,x[Vn]=Qt-hn)}this.adjustOddEvenCounts(s);let C=4*n.getValue()+(r?0:2)+(t?0:1)-1,M=0,L=0;for(let wt=f.length-1;wt>=0;wt--){if(ie.isNotA1left(n,r,t)){let Qt=ie.WEIGHTS[C][2*wt];L+=f[wt]*Qt}M+=f[wt]}let F=0;for(let wt=p.length-1;wt>=0;wt--)if(ie.isNotA1left(n,r,t)){let Qt=ie.WEIGHTS[C][2*wt+1];F+=p[wt]*Qt}let V=L+F;if(M&1||M>13||M<4)throw new q;let ce=(13-M)/2,he=ie.SYMBOL_WIDEST[ce],K=9-he,Te=Sn.getRSSvalue(f,he,!0),Ee=Sn.getRSSvalue(p,K,!1),st=ie.EVEN_TOTAL_SUBSET[ce],kt=ie.GSUM[ce],Ht=Te*st+Ee+kt;return new ti(Ht,V)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=we.sum(new Int32Array(this.getOddCounts())),r=we.sum(new Int32Array(this.getEvenCounts())),t=!1,i=!1;n>13?i=!0:n<4&&(t=!0);let s=!1,a=!1;r>13?a=!0:r<4&&(s=!0);let u=n+r-e,f=(n&1)==1,p=(r&1)==0;if(u==1)if(f){if(p)throw new q;i=!0}else{if(!p)throw new q;a=!0}else if(u==-1)if(f){if(p)throw new q;t=!0}else{if(!p)throw new q;s=!0}else if(u==0){if(f){if(!p)throw new q;n<r?(t=!0,a=!0):(i=!0,s=!0)}else if(p)throw new q}else throw new q;if(t){if(i)throw new q;ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(a)throw new q;ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}a&&ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;class dn extends ti{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class at extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const t=this.decodePair(n,!1,e,r);at.addOrTally(this.possibleLeftPairs,t),n.reverse();let i=this.decodePair(n,!0,e,r);at.addOrTally(this.possibleRightPairs,i),n.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1){for(let a of this.possibleRightPairs)if(a.getCount()>1&&at.checkChecksum(s,a))return at.constructResult(s,a)}throw new q}static addOrTally(e,n){if(n==null)return;let r=!1;for(let t of e)if(t.getValue()===n.getValue()){t.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),t=new String(r).toString(),i=new Ie;for(let f=13-t.length;f>0;f--)i.append("0");i.append(t);let s=0;for(let f=0;f<13;f++){let p=i.charAt(f).charCodeAt(0)-"0".charCodeAt(0);s+=f&1?p:3*p}s=10-s%10,s===10&&(s=0),i.append(s.toString());let a=e.getFinderPattern().getResultPoints(),u=n.getFinderPattern().getResultPoints();return new Be(i.toString(),null,0,[a[0],a[1],u[0],u[1]],se.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,t=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return t>72&&t--,t>8&&t--,r===t}decodePair(e,n,r,t){try{let i=this.findFinderPattern(e,n),s=this.parseFoundFinderPattern(e,r,n,i),a=t==null?null:t.get(U.NEED_RESULT_POINT_CALLBACK);if(a!=null){let p=(i[0]+i[1])/2;n&&(p=e.getSize()-1-p),a.foundPossibleResultPoint(new me(p,r))}let u=this.decodeDataCharacter(e,s,!0),f=this.decodeDataCharacter(e,s,!1);return new dn(1597*u.getValue()+f.getValue(),u.getChecksumPortion()+4*f.getChecksumPortion(),s)}catch{return null}}decodeDataCharacter(e,n,r){let t=this.getDataCharacterCounters();for(let F=0;F<t.length;F++)t[F]=0;if(r)jt.recordPatternInReverse(e,n.getStartEnd()[0],t);else{jt.recordPattern(e,n.getStartEnd()[1]+1,t);for(let F=0,V=t.length-1;F<V;F++,V--){let ce=t[F];t[F]=t[V],t[V]=ce}}let i=r?16:15,s=we.sum(new Int32Array(t))/i,a=this.getOddCounts(),u=this.getEvenCounts(),f=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let F=0;F<t.length;F++){let V=t[F]/s,ce=Math.floor(V+.5);ce<1?ce=1:ce>8&&(ce=8);let he=Math.floor(F/2);F&1?(u[he]=ce,p[he]=V-ce):(a[he]=ce,f[he]=V-ce)}this.adjustOddEvenCounts(r,i);let x=0,y=0;for(let F=a.length-1;F>=0;F--)y*=9,y+=a[F],x+=a[F];let C=0,M=0;for(let F=u.length-1;F>=0;F--)C*=9,C+=u[F],M+=u[F];let L=y+3*C;if(r){if(x&1||x>12||x<4)throw new q;let F=(12-x)/2,V=at.OUTSIDE_ODD_WIDEST[F],ce=9-V,he=Sn.getRSSvalue(a,V,!1),K=Sn.getRSSvalue(u,ce,!0),Te=at.OUTSIDE_EVEN_TOTAL_SUBSET[F],Ee=at.OUTSIDE_GSUM[F];return new ti(he*Te+K+Ee,L)}else{if(M&1||M>10||M<4)throw new q;let F=(10-M)/2,V=at.INSIDE_ODD_WIDEST[F],ce=9-V,he=Sn.getRSSvalue(a,V,!0),K=Sn.getRSSvalue(u,ce,!1),Te=at.INSIDE_ODD_TOTAL_SUBSET[F],Ee=at.INSIDE_GSUM[F];return new ti(K*Te+he+Ee,L)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let t=e.getSize(),i=!1,s=0;for(;s<t&&(i=!e.get(s),n!==i);)s++;let a=0,u=s;for(let f=s;f<t;f++)if(e.get(f)!==i)r[a]++;else{if(a===3){if(rn.isFinderPattern(r))return[u,f];u+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,a--}else a++;r[a]=1,i=!i}throw new q}parseFoundFinderPattern(e,n,r,t){let i=e.get(t[0]),s=t[0]-1;for(;s>=0&&i!==e.get(s);)s--;s++;const a=t[0]-s,u=this.getDecodeFinderCounters(),f=new Int32Array(u.length);I.arraycopy(u,0,f,1,u.length-1),f[0]=a;const p=this.parseFinderValue(f,at.FINDER_PATTERNS);let x=s,y=t[1];return r&&(x=e.getSize()-1-x,y=e.getSize()-1-y),new ni(p,[s,t[1]],x,y,n)}adjustOddEvenCounts(e,n){let r=we.sum(new Int32Array(this.getOddCounts())),t=we.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1,a=!1,u=!1;e?(r>12?s=!0:r<4&&(i=!0),t>12?u=!0:t<4&&(a=!0)):(r>11?s=!0:r<5&&(i=!0),t>10?u=!0:t<4&&(a=!0));let f=r+t-n,p=(r&1)===(e?1:0),x=(t&1)===1;if(f===1)if(p){if(x)throw new q;s=!0}else{if(!x)throw new q;u=!0}else if(f===-1)if(p){if(x)throw new q;i=!0}else{if(!x)throw new q;a=!0}else if(f===0){if(p){if(!x)throw new q;r<t?(i=!0,u=!0):(s=!0,a=!0)}else if(x)throw new q}else throw new q;if(i){if(s)throw new q;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(u)throw new q;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],at.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],at.OUTSIDE_GSUM=[0,161,961,2015,2715],at.INSIDE_GSUM=[0,336,1036,1516],at.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],at.INSIDE_ODD_WIDEST=[2,4,6,8],at.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class wn extends jt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(U.POSSIBLE_FORMATS):null,t=e&&e.get(U.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(se.EAN_13)||r.includes(se.UPC_A)||r.includes(se.EAN_8)||r.includes(se.UPC_E))&&this.readers.push(new Ci(e)),r.includes(se.CODE_39)&&this.readers.push(new Mt(t)),r.includes(se.CODE_128)&&this.readers.push(new ue),r.includes(se.ITF)&&this.readers.push(new vt),r.includes(se.RSS_14)&&this.readers.push(new at),r.includes(se.RSS_EXPANDED)&&this.readers.push(new ie(this.verbose))):(this.readers.push(new Ci(e)),this.readers.push(new Mt),this.readers.push(new Ci(e)),this.readers.push(new ue),this.readers.push(new vt),this.readers.push(new at),this.readers.push(new ie(this.verbose)))}decodeRow(e,n,r){for(let t=0;t<this.readers.length;t++)try{return this.readers[t].decodeRow(e,n,r)}catch{}throw new q}reset(){this.readers.forEach(e=>e.reset())}}class bi extends Pe{constructor(e=500,n){super(new wn(n),e,n)}}class pt{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,n,r,t,i,s){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=t,this.dataRegionSizeColumns=i,this.ecBlocks=s;let a=0;const u=s.getECCodewords(),f=s.getECBlocks();for(let p of f)a+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new D;for(let r of ht.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new pt(5,new Et(1,3))),new ht(2,12,12,10,10,new pt(7,new Et(1,5))),new ht(3,14,14,12,12,new pt(10,new Et(1,8))),new ht(4,16,16,14,14,new pt(12,new Et(1,12))),new ht(5,18,18,16,16,new pt(14,new Et(1,18))),new ht(6,20,20,18,18,new pt(18,new Et(1,22))),new ht(7,22,22,20,20,new pt(20,new Et(1,30))),new ht(8,24,24,22,22,new pt(24,new Et(1,36))),new ht(9,26,26,24,24,new pt(28,new Et(1,44))),new ht(10,32,32,14,14,new pt(36,new Et(1,62))),new ht(11,36,36,16,16,new pt(42,new Et(1,86))),new ht(12,40,40,18,18,new pt(48,new Et(1,114))),new ht(13,44,44,20,20,new pt(56,new Et(1,144))),new ht(14,48,48,22,22,new pt(68,new Et(1,174))),new ht(15,52,52,24,24,new pt(42,new Et(2,102))),new ht(16,64,64,14,14,new pt(56,new Et(2,140))),new ht(17,72,72,16,16,new pt(36,new Et(4,92))),new ht(18,80,80,18,18,new pt(48,new Et(4,114))),new ht(19,88,88,20,20,new pt(56,new Et(4,144))),new ht(20,96,96,22,22,new pt(68,new Et(4,174))),new ht(21,104,104,24,24,new pt(56,new Et(6,136))),new ht(22,120,120,18,18,new pt(68,new Et(6,175))),new ht(23,132,132,20,20,new pt(62,new Et(8,163))),new ht(24,144,144,22,22,new pt(62,new Et(8,156),new Et(2,155))),new ht(25,8,18,6,16,new pt(7,new Et(1,5))),new ht(26,8,32,6,14,new pt(11,new Et(1,10))),new ht(27,12,26,10,24,new pt(14,new Et(1,16))),new ht(28,12,36,10,16,new pt(18,new Et(1,22))),new ht(29,16,36,14,16,new pt(24,new Et(1,32))),new ht(30,16,48,14,22,new pt(28,new Et(1,49)))]}}ht.VERSIONS=ht.buildVersions();class hi{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new D;this.version=hi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new lt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return ht.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,t=0;const i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let a=!1,u=!1,f=!1,p=!1;do if(r===i&&t===0&&!a)e[n++]=this.readCorner1(i,s)&255,r-=2,t+=2,a=!0;else if(r===i-2&&t===0&&s&3&&!u)e[n++]=this.readCorner2(i,s)&255,r-=2,t+=2,u=!0;else if(r===i+4&&t===2&&!(s&7)&&!f)e[n++]=this.readCorner3(i,s)&255,r-=2,t+=2,f=!0;else if(r===i-2&&t===0&&(s&7)===4&&!p)e[n++]=this.readCorner4(i,s)&255,r-=2,t+=2,p=!0;else{do r<i&&t>=0&&!this.readMappingMatrix.get(t,r)&&(e[n++]=this.readUtah(r,t,i,s)&255),r-=2,t+=2;while(r>=0&&t<s);r+=1,t+=3;do r>=0&&t<s&&!this.readMappingMatrix.get(t,r)&&(e[n++]=this.readUtah(r,t,i,s)&255),r+=2,t-=2;while(r<i&&t>=0);r+=3,t+=1}while(r<i||t<s);if(n!==this.version.getTotalCodewords())throw new D;return e}readModule(e,n,r,t){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=t,e+=4-(t+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,t){let i=0;return this.readModule(e-2,n-2,r,t)&&(i|=1),i<<=1,this.readModule(e-2,n-1,r,t)&&(i|=1),i<<=1,this.readModule(e-1,n-2,r,t)&&(i|=1),i<<=1,this.readModule(e-1,n-1,r,t)&&(i|=1),i<<=1,this.readModule(e-1,n,r,t)&&(i|=1),i<<=1,this.readModule(e,n-2,r,t)&&(i|=1),i<<=1,this.readModule(e,n-1,r,t)&&(i|=1),i<<=1,this.readModule(e,n,r,t)&&(i|=1),i}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new v("Dimension of bitMatrix must match the version size");const t=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=n/t|0,a=r/i|0,u=s*t,f=a*i,p=new lt(f,u);for(let x=0;x<s;++x){const y=x*t;for(let C=0;C<a;++C){const M=C*i;for(let L=0;L<t;++L){const F=x*(t+2)+1+L,V=y+L;for(let ce=0;ce<i;++ce){const he=C*(i+2)+1+ce;if(e.get(he,F)){const K=M+ce;p.set(K,V)}}}}}return p}}class Rn{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let t=0;const i=r.getECBlocks();for(let L of i)t+=L.getCount();const s=new Array(t);let a=0;for(let L of i)for(let F=0;F<L.getCount();F++){const V=L.getDataCodewords(),ce=r.getECCodewords()+V;s[a++]=new Rn(V,new Uint8Array(ce))}const f=s[0].codewords.length-r.getECCodewords(),p=f-1;let x=0;for(let L=0;L<p;L++)for(let F=0;F<a;F++)s[F].codewords[L]=e[x++];const y=n.getVersionNumber()===24,C=y?8:a;for(let L=0;L<C;L++)s[L].codewords[f-1]=e[x++];const M=s[0].codewords.length;for(let L=f;L<M;L++)for(let F=0;F<a;F++){const V=y?(F+8)%a:F,ce=y&&V>7?L-1:L;s[V].codewords[ce]=e[x++]}if(x!==e.length)throw new v;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class di{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new v(""+e);let n=0,r=this.bitOffset,t=this.byteOffset;const i=this.bytes;if(r>0){const s=8-r,a=e<s?e:s,u=s-a,f=255>>8-a<<u;n=(i[t]&f)>>u,e-=a,r+=a,r===8&&(r=0,t++)}if(e>0){for(;e>=8;)n=n<<8|i[t]&255,t++,e-=8;if(e>0){const s=8-e,a=255>>s<<s;n=n<<e|(i[t]&a)>>s,r+=e}}return this.bitOffset=r,this.byteOffset=t,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class gn{static decode(e){const n=new di(e),r=new Ie,t=new Ie,i=new Array;let s=Lt.ASCII_ENCODE;do if(s===Lt.ASCII_ENCODE)s=this.decodeAsciiSegment(n,r,t);else{switch(s){case Lt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(n,r,i);break;default:throw new D}s=Lt.ASCII_ENCODE}while(s!==Lt.PAD_ENCODE&&n.available()>0);return t.length()>0&&r.append(t.toString()),new _e(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,n,r){let t=!1;do{let i=e.readBits(8);if(i===0)throw new D;if(i<=128)return t&&(i+=128),n.append(String.fromCharCode(i-1)),Lt.ASCII_ENCODE;if(i===129)return Lt.PAD_ENCODE;if(i<=229){const s=i-130;s<10&&n.append("0"),n.append(""+s)}else switch(i){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:t=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new D;break}}while(e.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const t=[];let i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),t);for(let a=0;a<3;a++){const u=t[a];switch(i){case 0:if(u<3)i=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const f=this.C40_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new D;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const f=this.C40_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new D}i=0;break;case 3:r?(n.append(String.fromCharCode(u+224)),r=!1):n.append(String.fromCharCode(u+96)),i=0;break;default:throw new D}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,t=[],i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),t);for(let a=0;a<3;a++){const u=t[a];switch(i){case 0:if(u<3)i=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const f=this.TEXT_BASIC_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else throw new D;break;case 1:r?(n.append(String.fromCharCode(u+128)),r=!1):n.append(String.fromCharCode(u)),i=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const f=this.TEXT_SHIFT2_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f)}else switch(u){case 27:n.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new D}i=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const f=this.TEXT_SHIFT3_SET_CHARS[u];r?(n.append(String.fromCharCode(f.charCodeAt(0)+128)),r=!1):n.append(f),i=0}else throw new D;break;default:throw new D}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const t=e.readBits(8);if(t===254)return;this.parseTwoBytes(t,e.readBits(8),r);for(let i=0;i<3;i++){const s=r[i];switch(s){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(s<14)n.append(String.fromCharCode(s+44));else if(s<40)n.append(String.fromCharCode(s+51));else throw new D;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let t=(e<<8)+n-1,i=Math.floor(t/1600);r[0]=i,t-=i*1600,i=Math.floor(t/40),r[1]=i,r[2]=t-i*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let t=e.readBits(6);if(t===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}t&32||(t|=64),n.append(String.fromCharCode(t))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let t=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),t++);let s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),t++),s<0)throw new D;const a=new Uint8Array(s);for(let u=0;u<s;u++){if(e.available()<8)throw new D;a[u]=this.unrandomize255State(e.readBits(8),t++)}r.push(a);try{n.append(Le.decode(a,ae.ISO88591))}catch(u){throw new At("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,n){const r=149*n%255+1,t=e-r;return t>=0?t:t+256}}gn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gn.TEXT_SHIFT2_SET_CHARS=gn.C40_SHIFT2_SET_CHARS,gn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Yn{constructor(){this.rsDecoder=new $e(pe.DATA_MATRIX_FIELD_256)}decode(e){const n=new hi(e),r=n.getVersion(),t=n.readCodewords(),i=Rn.getDataBlocks(t,r);let s=0;for(let f of i)s+=f.getNumDataCodewords();const a=new Uint8Array(s),u=i.length;for(let f=0;f<u;f++){const p=i[f],x=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(x,y);for(let C=0;C<y;C++)a[C*u+f]=x[C]}return gn.decode(a)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new j}for(let t=0;t<n;t++)e[t]=r[t]}}class Bt{constructor(e){this.image=e,this.rectangleDetector=new ye(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new q;n=this.shiftToModuleCenter(n);const r=n[0],t=n[1],i=n[2],s=n[3];let a=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(i,s)+1;(a&1)===1&&(a+=1),(u&1)===1&&(u+=1),4*a<7*u&&4*u<7*a&&(a=u=Math.max(a,u));let f=Bt.sampleGrid(this.image,r,t,i,s,a,u);return new We(f,[r,t,i,s])}static shiftPoint(e,n,r){let t=(n.getX()-e.getX())/(r+1),i=(n.getY()-e.getY())/(r+1);return new me(e.getX()+t,e.getY()+i)}static moveAway(e,n,r){let t=e.getX(),i=e.getY();return t<n?t-=1:t+=1,i<r?i-=1:i+=1,new me(t,i)}detectSolid1(e){let n=e[0],r=e[1],t=e[3],i=e[2],s=this.transitionsBetween(n,r),a=this.transitionsBetween(r,t),u=this.transitionsBetween(t,i),f=this.transitionsBetween(i,n),p=s,x=[i,n,r,t];return p>a&&(p=a,x[0]=n,x[1]=r,x[2]=t,x[3]=i),p>u&&(p=u,x[0]=r,x[1]=t,x[2]=i,x[3]=n),p>f&&(x[0]=t,x[1]=i,x[2]=n,x[3]=r),x}detectSolid2(e){let n=e[0],r=e[1],t=e[2],i=e[3],s=this.transitionsBetween(n,i),a=Bt.shiftPoint(r,t,(s+1)*4),u=Bt.shiftPoint(t,r,(s+1)*4),f=this.transitionsBetween(a,n),p=this.transitionsBetween(u,i);return f<p?(e[0]=n,e[1]=r,e[2]=t,e[3]=i):(e[0]=r,e[1]=t,e[2]=i,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],t=e[2],i=e[3],s=this.transitionsBetween(n,i),a=this.transitionsBetween(r,i),u=Bt.shiftPoint(n,r,(a+1)*4),f=Bt.shiftPoint(t,r,(s+1)*4);s=this.transitionsBetween(u,i),a=this.transitionsBetween(f,i);let p=new me(i.getX()+(t.getX()-r.getX())/(s+1),i.getY()+(t.getY()-r.getY())/(s+1)),x=new me(i.getX()+(n.getX()-r.getX())/(a+1),i.getY()+(n.getY()-r.getY())/(a+1));if(!this.isValid(p))return this.isValid(x)?x:null;if(!this.isValid(x))return p;let y=this.transitionsBetween(u,p)+this.transitionsBetween(f,p),C=this.transitionsBetween(u,x)+this.transitionsBetween(f,x);return y>C?p:x}shiftToModuleCenter(e){let n=e[0],r=e[1],t=e[2],i=e[3],s=this.transitionsBetween(n,i)+1,a=this.transitionsBetween(t,i)+1,u=Bt.shiftPoint(n,r,a*4),f=Bt.shiftPoint(t,r,s*4);s=this.transitionsBetween(u,i)+1,a=this.transitionsBetween(f,i)+1,(s&1)===1&&(s+=1),(a&1)===1&&(a+=1);let p=(n.getX()+r.getX()+t.getX()+i.getX())/4,x=(n.getY()+r.getY()+t.getY()+i.getY())/4;n=Bt.moveAway(n,p,x),r=Bt.moveAway(r,p,x),t=Bt.moveAway(t,p,x),i=Bt.moveAway(i,p,x);let y,C;return u=Bt.shiftPoint(n,r,a*4),u=Bt.shiftPoint(u,i,s*4),y=Bt.shiftPoint(r,n,a*4),y=Bt.shiftPoint(y,t,s*4),f=Bt.shiftPoint(t,i,a*4),f=Bt.shiftPoint(f,r,s*4),C=Bt.shiftPoint(i,t,a*4),C=Bt.shiftPoint(C,n,s*4),[u,y,f,C]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,t,i,s,a){return St.getInstance().sampleGrid(e,s,a,.5,.5,s-.5,.5,s-.5,a-.5,.5,a-.5,n.getX(),n.getY(),i.getX(),i.getY(),t.getX(),t.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),t=Math.trunc(e.getY()),i=Math.trunc(n.getX()),s=Math.trunc(n.getY()),a=Math.abs(s-t)>Math.abs(i-r);if(a){let L=r;r=t,t=L,L=i,i=s,s=L}let u=Math.abs(i-r),f=Math.abs(s-t),p=-u/2,x=t<s?1:-1,y=r<i?1:-1,C=0,M=this.image.get(a?t:r,a?r:t);for(let L=r,F=t;L!==i;L+=y){let V=this.image.get(a?F:L,a?L:F);if(V!==M&&(C++,M=V),p+=f,p>0){if(F===s)break;F+=x,p-=u}}return C}}class Ln{constructor(){this.decoder=new Yn}decode(e,n=null){let r,t;if(n!=null&&n.has(U.PURE_BARCODE)){const f=Ln.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(f),t=Ln.NO_POINTS}else{const f=new Bt(e.getBlackMatrix()).detect();r=this.decoder.decode(f.getBits()),t=f.getPoints()}const i=r.getRawBytes(),s=new Be(r.getText(),i,8*i.length,t,se.DATA_MATRIX,I.currentTimeMillis()),a=r.getByteSegments();a!=null&&s.putMetadata(de.BYTE_SEGMENTS,a);const u=r.getECLevel();return u!=null&&s.putMetadata(de.ERROR_CORRECTION_LEVEL,u),s}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new q;const t=this.moduleSize(n,e);let i=n[1];const s=r[1];let a=n[0];const f=(r[0]-a+1)/t,p=(s-i+1)/t;if(f<=0||p<=0)throw new q;const x=t/2;i+=x,a+=x;const y=new lt(f,p);for(let C=0;C<p;C++){const M=i+C*t;for(let L=0;L<f;L++)e.get(a+L*t,M)&&y.set(L,C)}return y}static moduleSize(e,n){const r=n.getWidth();let t=e[0];const i=e[1];for(;t<r&&n.get(t,i);)t++;if(t===r)throw new q;const s=t-e[0];if(s===0)throw new q;return s}}Ln.NO_POINTS=[];class gi extends Pe{constructor(e=500){super(new Ln,e)}}var vi;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(vi||(vi={}));class _t{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,_t.FOR_BITS.set(r,this),_t.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return _t.L;case"M":return _t.M;case"Q":return _t.Q;case"H":return _t.H;default:throw new b(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof _t))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=_t.FOR_BITS.size)throw new v;return _t.FOR_BITS.get(e)}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.L=new _t(vi.L,"L",1),_t.M=new _t(vi.M,"M",0),_t.Q=new _t(vi.Q,"Q",3),_t.H=new _t(vi.H,"H",2);class an{constructor(e){this.errorCorrectionLevel=_t.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return Z.bitCount(e^n)}static decodeFormatInformation(e,n){const r=an.doDecodeFormatInformation(e,n);return r!==null?r:an.doDecodeFormatInformation(e^an.FORMAT_INFO_MASK_QR,n^an.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,t=0;for(const i of an.FORMAT_INFO_DECODE_LOOKUP){const s=i[0];if(s===e||s===n)return new an(i[1]);let a=an.numBitsDiffering(e,s);a<r&&(t=i[1],r=a),e!==n&&(a=an.numBitsDiffering(n,s),a<r&&(t=i[1],r=a))}return r<=3?new an(t):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof an))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}an.FORMAT_INFO_MASK_QR=21522,an.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let t=0;const i=r[0].getECCodewordsPerBlock(),s=r[0].getECBlocks();for(const a of s)t+=a.getCount()*(a.getDataCodewords()+i);this.totalCodewords=t}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new D;try{return this.getVersionForNumber((e-17)/4)}catch{throw new D}}static getVersionForNumber(e){if(e<1||e>40)throw new v;return Ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let t=0;t<Ye.VERSION_DECODE_INFO.length;t++){const i=Ye.VERSION_DECODE_INFO[t];if(i===e)return Ye.getVersionForNumber(t+7);const s=an.numBitsDiffering(e,i);s<n&&(r=t+7,n=s)}return n<=3?Ye.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new lt(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let t=0;t<r;t++){const i=this.alignmentPatternCenters[t]-2;for(let s=0;s<r;s++)t===0&&(s===0||s===r-1)||t===r-1&&s===0||n.setRegion(this.alignmentPatternCenters[s]-2,i,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new G(7,new _(1,19)),new G(10,new _(1,16)),new G(13,new _(1,13)),new G(17,new _(1,9))),new Ye(2,Int32Array.from([6,18]),new G(10,new _(1,34)),new G(16,new _(1,28)),new G(22,new _(1,22)),new G(28,new _(1,16))),new Ye(3,Int32Array.from([6,22]),new G(15,new _(1,55)),new G(26,new _(1,44)),new G(18,new _(2,17)),new G(22,new _(2,13))),new Ye(4,Int32Array.from([6,26]),new G(20,new _(1,80)),new G(18,new _(2,32)),new G(26,new _(2,24)),new G(16,new _(4,9))),new Ye(5,Int32Array.from([6,30]),new G(26,new _(1,108)),new G(24,new _(2,43)),new G(18,new _(2,15),new _(2,16)),new G(22,new _(2,11),new _(2,12))),new Ye(6,Int32Array.from([6,34]),new G(18,new _(2,68)),new G(16,new _(4,27)),new G(24,new _(4,19)),new G(28,new _(4,15))),new Ye(7,Int32Array.from([6,22,38]),new G(20,new _(2,78)),new G(18,new _(4,31)),new G(18,new _(2,14),new _(4,15)),new G(26,new _(4,13),new _(1,14))),new Ye(8,Int32Array.from([6,24,42]),new G(24,new _(2,97)),new G(22,new _(2,38),new _(2,39)),new G(22,new _(4,18),new _(2,19)),new G(26,new _(4,14),new _(2,15))),new Ye(9,Int32Array.from([6,26,46]),new G(30,new _(2,116)),new G(22,new _(3,36),new _(2,37)),new G(20,new _(4,16),new _(4,17)),new G(24,new _(4,12),new _(4,13))),new Ye(10,Int32Array.from([6,28,50]),new G(18,new _(2,68),new _(2,69)),new G(26,new _(4,43),new _(1,44)),new G(24,new _(6,19),new _(2,20)),new G(28,new _(6,15),new _(2,16))),new Ye(11,Int32Array.from([6,30,54]),new G(20,new _(4,81)),new G(30,new _(1,50),new _(4,51)),new G(28,new _(4,22),new _(4,23)),new G(24,new _(3,12),new _(8,13))),new Ye(12,Int32Array.from([6,32,58]),new G(24,new _(2,92),new _(2,93)),new G(22,new _(6,36),new _(2,37)),new G(26,new _(4,20),new _(6,21)),new G(28,new _(7,14),new _(4,15))),new Ye(13,Int32Array.from([6,34,62]),new G(26,new _(4,107)),new G(22,new _(8,37),new _(1,38)),new G(24,new _(8,20),new _(4,21)),new G(22,new _(12,11),new _(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new G(30,new _(3,115),new _(1,116)),new G(24,new _(4,40),new _(5,41)),new G(20,new _(11,16),new _(5,17)),new G(24,new _(11,12),new _(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new G(22,new _(5,87),new _(1,88)),new G(24,new _(5,41),new _(5,42)),new G(30,new _(5,24),new _(7,25)),new G(24,new _(11,12),new _(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new G(24,new _(5,98),new _(1,99)),new G(28,new _(7,45),new _(3,46)),new G(24,new _(15,19),new _(2,20)),new G(30,new _(3,15),new _(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new G(28,new _(1,107),new _(5,108)),new G(28,new _(10,46),new _(1,47)),new G(28,new _(1,22),new _(15,23)),new G(28,new _(2,14),new _(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new G(30,new _(5,120),new _(1,121)),new G(26,new _(9,43),new _(4,44)),new G(28,new _(17,22),new _(1,23)),new G(28,new _(2,14),new _(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new G(28,new _(3,113),new _(4,114)),new G(26,new _(3,44),new _(11,45)),new G(26,new _(17,21),new _(4,22)),new G(26,new _(9,13),new _(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new G(28,new _(3,107),new _(5,108)),new G(26,new _(3,41),new _(13,42)),new G(30,new _(15,24),new _(5,25)),new G(28,new _(15,15),new _(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new G(28,new _(4,116),new _(4,117)),new G(26,new _(17,42)),new G(28,new _(17,22),new _(6,23)),new G(30,new _(19,16),new _(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new G(28,new _(2,111),new _(7,112)),new G(28,new _(17,46)),new G(30,new _(7,24),new _(16,25)),new G(24,new _(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new G(30,new _(4,121),new _(5,122)),new G(28,new _(4,47),new _(14,48)),new G(30,new _(11,24),new _(14,25)),new G(30,new _(16,15),new _(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new G(30,new _(6,117),new _(4,118)),new G(28,new _(6,45),new _(14,46)),new G(30,new _(11,24),new _(16,25)),new G(30,new _(30,16),new _(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new G(26,new _(8,106),new _(4,107)),new G(28,new _(8,47),new _(13,48)),new G(30,new _(7,24),new _(22,25)),new G(30,new _(22,15),new _(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new G(28,new _(10,114),new _(2,115)),new G(28,new _(19,46),new _(4,47)),new G(28,new _(28,22),new _(6,23)),new G(30,new _(33,16),new _(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new G(30,new _(8,122),new _(4,123)),new G(28,new _(22,45),new _(3,46)),new G(30,new _(8,23),new _(26,24)),new G(30,new _(12,15),new _(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new _(3,117),new _(10,118)),new G(28,new _(3,45),new _(23,46)),new G(30,new _(4,24),new _(31,25)),new G(30,new _(11,15),new _(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new _(7,116),new _(7,117)),new G(28,new _(21,45),new _(7,46)),new G(30,new _(1,23),new _(37,24)),new G(30,new _(19,15),new _(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new _(5,115),new _(10,116)),new G(28,new _(19,47),new _(10,48)),new G(30,new _(15,24),new _(25,25)),new G(30,new _(23,15),new _(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new _(13,115),new _(3,116)),new G(28,new _(2,46),new _(29,47)),new G(30,new _(42,24),new _(1,25)),new G(30,new _(23,15),new _(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new _(17,115)),new G(28,new _(10,46),new _(23,47)),new G(30,new _(10,24),new _(35,25)),new G(30,new _(19,15),new _(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new _(17,115),new _(1,116)),new G(28,new _(14,46),new _(21,47)),new G(30,new _(29,24),new _(19,25)),new G(30,new _(11,15),new _(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new _(13,115),new _(6,116)),new G(28,new _(14,46),new _(23,47)),new G(30,new _(44,24),new _(7,25)),new G(30,new _(59,16),new _(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new _(12,121),new _(7,122)),new G(28,new _(12,47),new _(26,48)),new G(30,new _(39,24),new _(14,25)),new G(30,new _(22,15),new _(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new _(6,121),new _(14,122)),new G(28,new _(6,47),new _(34,48)),new G(30,new _(46,24),new _(10,25)),new G(30,new _(2,15),new _(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new _(17,122),new _(4,123)),new G(28,new _(29,46),new _(14,47)),new G(30,new _(49,24),new _(10,25)),new G(30,new _(24,15),new _(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new _(4,122),new _(18,123)),new G(28,new _(13,46),new _(32,47)),new G(30,new _(48,24),new _(14,25)),new G(30,new _(42,15),new _(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new _(20,117),new _(4,118)),new G(28,new _(40,47),new _(7,48)),new G(30,new _(43,24),new _(22,25)),new G(30,new _(10,15),new _(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new _(19,118),new _(6,119)),new G(28,new _(18,47),new _(31,48)),new G(30,new _(34,24),new _(34,25)),new G(30,new _(20,15),new _(61,16)))];var $t;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})($t||($t={}));class On{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let t=0;t<n;t++)this.isMasked(r,t)&&e.flip(t,r)}}On.values=new Map([[$t.DATA_MASK_000,new On($t.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[$t.DATA_MASK_001,new On($t.DATA_MASK_001,(A,e)=>(A&1)===0)],[$t.DATA_MASK_010,new On($t.DATA_MASK_010,(A,e)=>e%3===0)],[$t.DATA_MASK_011,new On($t.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[$t.DATA_MASK_100,new On($t.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[$t.DATA_MASK_101,new On($t.DATA_MASK_101,(A,e)=>A*e%6===0)],[$t.DATA_MASK_110,new On($t.DATA_MASK_110,(A,e)=>A*e%6<3)],[$t.DATA_MASK_111,new On($t.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Fs{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new D;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const n=this.bitMatrix.getHeight();let r=0;const t=n-7;for(let i=n-1;i>=t;i--)r=this.copyBit(8,i,r);for(let i=n-8;i<n;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=an.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ye.getVersionForNumber(n);let r=0;const t=e-11;for(let s=5;s>=0;s--)for(let a=e-9;a>=t;a--)r=this.copyBit(a,s,r);let i=Ye.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let s=5;s>=0;s--)for(let a=e-9;a>=t;a--)r=this.copyBit(s,a,r);if(i=Ye.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new D}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=On.values.get(e.getDataMask()),t=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,t);const i=n.buildFunctionPattern();let s=!0;const a=new Uint8Array(n.getTotalCodewords());let u=0,f=0,p=0;for(let x=t-1;x>0;x-=2){x===6&&x--;for(let y=0;y<t;y++){const C=s?t-1-y:y;for(let M=0;M<2;M++)i.get(x-M,C)||(p++,f<<=1,this.bitMatrix.get(x-M,C)&&(f|=1),p===8&&(a[u++]=f,p=0,f=0))}s=!s}if(u!==n.getTotalCodewords())throw new D;return a}remask(){if(this.parsedFormatInfo===null)return;const e=On.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let t=n+1,i=e.getHeight();t<i;t++)e.get(n,t)!==e.get(t,n)&&(e.flip(t,n),e.flip(n,t))}}class Si{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new v;const t=n.getECBlocksForLevel(r);let i=0;const s=t.getECBlocks();for(const M of s)i+=M.getCount();const a=new Array(i);let u=0;for(const M of s)for(let L=0;L<M.getCount();L++){const F=M.getDataCodewords(),V=t.getECCodewordsPerBlock()+F;a[u++]=new Si(F,new Uint8Array(V))}const f=a[0].codewords.length;let p=a.length-1;for(;p>=0&&a[p].codewords.length!==f;)p--;p++;const x=f-t.getECCodewordsPerBlock();let y=0;for(let M=0;M<x;M++)for(let L=0;L<u;L++)a[L].codewords[M]=e[y++];for(let M=p;M<u;M++)a[M].codewords[x]=e[y++];const C=a[0].codewords.length;for(let M=x;M<C;M++)for(let L=0;L<u;L++){const F=L<p?M:M+1;a[L].codewords[F]=e[y++]}return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Bn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Bn||(Bn={}));class Qe{constructor(e,n,r,t){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=t,Qe.FOR_BITS.set(t,this),Qe.FOR_VALUE.set(e,this)}static forBits(e){const n=Qe.FOR_BITS.get(e);if(n===void 0)throw new v;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Qe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(Bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(Bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(Bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(Bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(Bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(Bn.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(Bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(Bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(Bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(Bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Vt{static decode(e,n,r,t){const i=new di(e);let s=new Ie;const a=new Array;let u=-1,f=-1;try{let p=null,x=!1,y;do{if(i.available()<4)y=Qe.TERMINATOR;else{const C=i.readBits(4);y=Qe.forBits(C)}switch(y){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:x=!0;break;case Qe.STRUCTURED_APPEND:if(i.available()<16)throw new D;u=i.readBits(8),f=i.readBits(8);break;case Qe.ECI:const C=Vt.parseECIValue(i);if(p=W.getCharacterSetECIByValue(C),p===null)throw new D;break;case Qe.HANZI:const M=i.readBits(4),L=i.readBits(y.getCharacterCountBits(n));M===Vt.GB2312_SUBSET&&Vt.decodeHanziSegment(i,s,L);break;default:const F=i.readBits(y.getCharacterCountBits(n));switch(y){case Qe.NUMERIC:Vt.decodeNumericSegment(i,s,F);break;case Qe.ALPHANUMERIC:Vt.decodeAlphanumericSegment(i,s,F,x);break;case Qe.BYTE:Vt.decodeByteSegment(i,s,F,p,a,t);break;case Qe.KANJI:Vt.decodeKanjiSegment(i,s,F);break;default:throw new D}break}}while(y!==Qe.TERMINATOR)}catch{throw new D}return new _e(e,s.toString(),a.length===0?null:a,r===null?null:r.toString(),u,f)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new D;const t=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let a=s/96<<8&4294967295|s%96;a<959?a+=41377:a+=42657,t[i]=a>>8&255,t[i+1]=a&255,i+=2,r--}try{n.append(Le.decode(t,ae.GB2312))}catch(s){throw new D(s)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new D;const t=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let a=s/192<<8&4294967295|s%192;a<7936?a+=33088:a+=49472,t[i]=a>>8,t[i+1]=a,i+=2,r--}try{n.append(Le.decode(t,ae.SHIFT_JIS))}catch(s){throw new D(s)}}static decodeByteSegment(e,n,r,t,i,s){if(8*r>e.available())throw new D;const a=new Uint8Array(r);for(let f=0;f<r;f++)a[f]=e.readBits(8);let u;t===null?u=ae.guessEncoding(a,s):u=t.getName();try{n.append(Le.decode(a,u))}catch(f){throw new D(f)}i.push(a)}static toAlphaNumericChar(e){if(e>=Vt.ALPHANUMERIC_CHARS.length)throw new D;return Vt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,t){const i=n.length();for(;r>1;){if(e.available()<11)throw new D;const s=e.readBits(11);n.append(Vt.toAlphaNumericChar(Math.floor(s/45))),n.append(Vt.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new D;n.append(Vt.toAlphaNumericChar(e.readBits(6)))}if(t)for(let s=i;s<n.length();s++)n.charAt(s)==="%"&&(s<n.length()-1&&n.charAt(s+1)==="%"?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new D;const t=e.readBits(10);if(t>=1e3)throw new D;n.append(Vt.toAlphaNumericChar(Math.floor(t/100))),n.append(Vt.toAlphaNumericChar(Math.floor(t/10)%10)),n.append(Vt.toAlphaNumericChar(t%10)),r-=3}if(r===2){if(e.available()<7)throw new D;const t=e.readBits(7);if(t>=100)throw new D;n.append(Vt.toAlphaNumericChar(Math.floor(t/10))),n.append(Vt.toAlphaNumericChar(t%10))}else if(r===1){if(e.available()<4)throw new D;const t=e.readBits(4);if(t>=10)throw new D;n.append(Vt.toAlphaNumericChar(t))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new D}}Vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Vt.GB2312_SUBSET=1;class $i{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Us{constructor(){this.rsDecoder=new $e(pe.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(lt.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new Fs(e);let t=null;try{return this.decodeBitMatrixParser(r,n)}catch(i){t=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,n);return i.setOther(new $i(!0)),i}catch(i){throw t!==null?t:i}}decodeBitMatrixParser(e,n){const r=e.readVersion(),t=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=Si.getDataBlocks(i,r,t);let a=0;for(const p of s)a+=p.getNumDataCodewords();const u=new Uint8Array(a);let f=0;for(const p of s){const x=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(x,y);for(let C=0;C<y;C++)u[f++]=x[C]}return Vt.decode(u,r,t,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new j}for(let t=0;t<n;t++)e[t]=r[t]}}class Nr extends me{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const t=(this.getX()+n)/2,i=(this.getY()+e)/2,s=(this.estimatedModuleSize+r)/2;return new Nr(t,i,s)}}class Bi{constructor(e,n,r,t,i,s,a){this.image=e,this.startX=n,this.startY=r,this.width=t,this.height=i,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,t=e+r,i=this.startY+n/2,s=new Int32Array(3),a=this.image;for(let u=0;u<n;u++){const f=i+(u&1?-Math.floor((u+1)/2):Math.floor((u+1)/2));s[0]=0,s[1]=0,s[2]=0;let p=e;for(;p<t&&!a.get(p,f);)p++;let x=0;for(;p<t;){if(a.get(p,f))if(x===1)s[1]++;else if(x===2){if(this.foundPatternCross(s)){const y=this.handlePossibleCenter(s,f,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,x=1}else s[++x]++;else x===1&&x++,s[x]++;p++}if(this.foundPatternCross(s)){const y=this.handlePossibleCenter(s,f,t);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new q}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let t=0;t<3;t++)if(Math.abs(n-e[t])>=r)return!1;return!0}crossCheckVertical(e,n,r,t){const i=this.image,s=i.getHeight(),a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;let u=e;for(;u>=0&&i.get(n,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&!i.get(n,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(n,u)&&a[1]<=r;)a[1]++,u++;if(u===s||a[1]>r)return NaN;for(;u<s&&!i.get(n,u)&&a[2]<=r;)a[2]++,u++;if(a[2]>r)return NaN;const f=a[0]+a[1]+a[2];return 5*Math.abs(f-t)>=2*t?NaN:this.foundPatternCross(a)?Bi.centerFromEnd(a,u):NaN}handlePossibleCenter(e,n,r){const t=e[0]+e[1]+e[2],i=Bi.centerFromEnd(e,r),s=this.crossCheckVertical(n,i,2*e[1],t);if(!isNaN(s)){const a=(e[0]+e[1]+e[2])/3;for(const f of this.possibleCenters)if(f.aboutEquals(a,s,i))return f.combineEstimate(s,i,a);const u=new Nr(i,s,a);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class er extends me{constructor(e,n,r,t){super(e,n),this.estimatedModuleSize=r,this.count=t,t===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const t=this.count+1,i=(this.count*this.getX()+n)/t,s=(this.count*this.getY()+e)/t,a=(this.count*this.estimatedModuleSize+r)/t;return new er(i,s,a,t)}}class Or{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ln{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(U.TRY_HARDER)!==void 0,r=e!=null&&e.get(U.PURE_BARCODE)!==void 0,t=this.image,i=t.getHeight(),s=t.getWidth();let a=Math.floor(3*i/(4*ln.MAX_MODULES));(a<ln.MIN_SKIP||n)&&(a=ln.MIN_SKIP);let u=!1;const f=new Int32Array(5);for(let x=a-1;x<i&&!u;x+=a){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;let y=0;for(let C=0;C<s;C++)if(t.get(C,x))(y&1)===1&&y++,f[y]++;else if(y&1)f[y]++;else if(y===4)if(ln.foundPatternCross(f)){if(this.handlePossibleCenter(f,x,C,r)===!0)if(a=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>f[2]&&(x+=L-f[2]-a,C=s-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,y=3;continue}y=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,y=3;else f[++y]++;ln.foundPatternCross(f)&&this.handlePossibleCenter(f,x,s,r)===!0&&(a=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return me.orderBestPatterns(p),new Or(p)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let i=0;i<5;i++){const s=e[i];if(s===0)return!1;n+=s}if(n<7)return!1;const r=n/7,t=r/2;return Math.abs(r-e[0])<t&&Math.abs(r-e[1])<t&&Math.abs(3*r-e[2])<3*t&&Math.abs(r-e[3])<t&&Math.abs(r-e[4])<t}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,t){const i=this.getCrossCheckStateCount();let s=0;const a=this.image;for(;e>=s&&n>=s&&a.get(n-s,e-s);)i[2]++,s++;if(e<s||n<s)return!1;for(;e>=s&&n>=s&&!a.get(n-s,e-s)&&i[1]<=r;)i[1]++,s++;if(e<s||n<s||i[1]>r)return!1;for(;e>=s&&n>=s&&a.get(n-s,e-s)&&i[0]<=r;)i[0]++,s++;if(i[0]>r)return!1;const u=a.getHeight(),f=a.getWidth();for(s=1;e+s<u&&n+s<f&&a.get(n+s,e+s);)i[2]++,s++;if(e+s>=u||n+s>=f)return!1;for(;e+s<u&&n+s<f&&!a.get(n+s,e+s)&&i[3]<r;)i[3]++,s++;if(e+s>=u||n+s>=f||i[3]>=r)return!1;for(;e+s<u&&n+s<f&&a.get(n+s,e+s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return!1;const p=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(p-t)<2*t&&ln.foundPatternCross(i)}crossCheckVertical(e,n,r,t){const i=this.image,s=i.getHeight(),a=this.getCrossCheckStateCount();let u=e;for(;u>=0&&i.get(n,u);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(n,u)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&i.get(n,u)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(n,u);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!i.get(n,u)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&i.get(n,u)&&a[4]<r;)a[4]++,u++;if(a[4]>=r)return NaN;const f=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(f-t)>=2*t?NaN:ln.foundPatternCross(a)?ln.centerFromEnd(a,u):NaN}crossCheckHorizontal(e,n,r,t){const i=this.image,s=i.getWidth(),a=this.getCrossCheckStateCount();let u=e;for(;u>=0&&i.get(u,n);)a[2]++,u--;if(u<0)return NaN;for(;u>=0&&!i.get(u,n)&&a[1]<=r;)a[1]++,u--;if(u<0||a[1]>r)return NaN;for(;u>=0&&i.get(u,n)&&a[0]<=r;)a[0]++,u--;if(a[0]>r)return NaN;for(u=e+1;u<s&&i.get(u,n);)a[2]++,u++;if(u===s)return NaN;for(;u<s&&!i.get(u,n)&&a[3]<r;)a[3]++,u++;if(u===s||a[3]>=r)return NaN;for(;u<s&&i.get(u,n)&&a[4]<r;)a[4]++,u++;if(a[4]>=r)return NaN;const f=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(f-t)>=t?NaN:ln.foundPatternCross(a)?ln.centerFromEnd(a,u):NaN}handlePossibleCenter(e,n,r,t){const i=e[0]+e[1]+e[2]+e[3]+e[4];let s=ln.centerFromEnd(e,r),a=this.crossCheckVertical(n,Math.floor(s),e[2],i);if(!isNaN(a)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(a),e[2],i),!isNaN(s)&&(!t||this.crossCheckDiagonal(Math.floor(a),Math.floor(s),e[2],i)))){const u=i/7;let f=!1;const p=this.possibleCenters;for(let x=0,y=p.length;x<y;x++){const C=p[x];if(C.aboutEquals(u,a,s)){p[x]=C.combineEstimate(a,s,u),f=!0;break}}if(!f){const x=new er(s,a,u);p.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=ln.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=ln.CENTER_QUORUM&&(e++,n+=s.getEstimatedModuleSize());if(e<3)return!1;const t=n/r;let i=0;for(const s of this.possibleCenters)i+=Math.abs(s.getEstimatedModuleSize()-t);return i<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new q;const n=this.possibleCenters;let r;if(e>3){let t=0,i=0;for(const u of this.possibleCenters){const f=u.getEstimatedModuleSize();t+=f,i+=f*f}r=t/e;let s=Math.sqrt(i/e-r*r);n.sort((u,f)=>{const p=Math.abs(f.getEstimatedModuleSize()-r),x=Math.abs(u.getEstimatedModuleSize()-r);return p<x?-1:p>x?1:0});const a=Math.max(.2*r,s);for(let u=0;u<n.length&&n.length>3;u++){const f=n[u];Math.abs(f.getEstimatedModuleSize()-r)>a&&(n.splice(u,1),u--)}}if(n.length>3){let t=0;for(const i of n)t+=i.getEstimatedModuleSize();r=t/n.length,n.sort((i,s)=>{if(s.getCount()===i.getCount()){const a=Math.abs(s.getEstimatedModuleSize()-r),u=Math.abs(i.getEstimatedModuleSize()-r);return a<u?1:a>u?-1:0}else return s.getCount()-i.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}ln.CENTER_QUORUM=2,ln.MIN_SKIP=3,ln.MAX_MODULES=57;class qn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(U.NEED_RESULT_POINT_CALLBACK);const r=new ln(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),t=e.getBottomLeft(),i=this.calculateModuleSize(n,r,t);if(i<1)throw new q("No pattern found in proccess finder.");const s=qn.computeDimension(n,r,t,i),a=Ye.getProvisionalVersionForDimension(s),u=a.getDimensionForVersion()-7;let f=null;if(a.getAlignmentPatternCenters().length>0){const C=r.getX()-n.getX()+t.getX(),M=r.getY()-n.getY()+t.getY(),L=1-3/u,F=Math.floor(n.getX()+L*(C-n.getX())),V=Math.floor(n.getY()+L*(M-n.getY()));for(let ce=4;ce<=16;ce<<=1)try{f=this.findAlignmentInRegion(i,F,V,ce);break}catch(he){if(!(he instanceof q))throw he}}const p=qn.createTransform(n,r,t,f,s),x=qn.sampleGrid(this.image,p,s);let y;return f===null?y=[t,n,r]:y=[t,n,r,f],new We(x,y)}static createTransform(e,n,r,t,i){const s=i-3.5;let a,u,f,p;return t!==null?(a=t.getX(),u=t.getY(),f=s-3,p=f):(a=n.getX()-e.getX()+r.getX(),u=n.getY()-e.getY()+r.getY(),f=s,p=s),ot.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,f,p,3.5,s,e.getX(),e.getY(),n.getX(),n.getY(),a,u,r.getX(),r.getY())}static sampleGrid(e,n,r){return St.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,t){const i=we.round(me.distance(e,n)/t),s=we.round(me.distance(e,r)/t);let a=Math.floor((i+s)/2)+7;switch(a&3){case 0:a++;break;case 2:a--;break;case 3:throw new q("Dimensions could be not found.")}return a}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),t=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?t/7:isNaN(t)?r/7:(r+t)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,t){let i=this.sizeOfBlackWhiteBlackRun(e,n,r,t),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);let u=Math.floor(n-(t-n)*s);return s=1,u<0?(s=n/(n-u),u=0):u>=this.image.getHeight()&&(s=(this.image.getHeight()-1-n)/(u-n),u=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,n,a,u),i-1}sizeOfBlackWhiteBlackRun(e,n,r,t){const i=Math.abs(t-n)>Math.abs(r-e);if(i){let C=e;e=n,n=C,C=r,r=t,t=C}const s=Math.abs(r-e),a=Math.abs(t-n);let u=-s/2;const f=e<r?1:-1,p=n<t?1:-1;let x=0;const y=r+f;for(let C=e,M=n;C!==y;C+=f){const L=i?M:C,F=i?C:M;if(x===1===this.image.get(L,F)){if(x===2)return we.distance(C,M,e,n);x++}if(u+=a,u>0){if(M===t)break;M+=p,u-=s}}return x===2?we.distance(r+f,t,e,n):NaN}findAlignmentInRegion(e,n,r,t){const i=Math.floor(t*e),s=Math.max(0,n-i),a=Math.min(this.image.getWidth()-1,n+i);if(a-s<e*3)throw new q("Alignment top exceeds estimated module size.");const u=Math.max(0,r-i),f=Math.min(this.image.getHeight()-1,r+i);if(f-u<e*3)throw new q("Alignment bottom exceeds estimated module size.");return new Bi(this.image,s,u,a-s,f-u,e,this.resultPointCallback).find()}}class yn{constructor(){this.decoder=new Us}getDecoder(){return this.decoder}decode(e,n){let r,t;if(n!=null&&n.get(U.PURE_BARCODE)!==void 0){const u=yn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(u,n),t=yn.NO_POINTS}else{const u=new qn(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(u.getBits(),n),t=u.getPoints()}r.getOther()instanceof $i&&r.getOther().applyMirroredCorrection(t);const i=new Be(r.getText(),r.getRawBytes(),void 0,t,se.QR_CODE,void 0),s=r.getByteSegments();s!==null&&i.putMetadata(de.BYTE_SEGMENTS,s);const a=r.getECLevel();return a!==null&&i.putMetadata(de.ERROR_CORRECTION_LEVEL,a),r.hasStructuredAppend()&&(i.putMetadata(de.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(de.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new q;const t=this.moduleSize(n,e);let i=n[1],s=r[1],a=n[0],u=r[0];if(a>=u||i>=s)throw new q;if(s-i!==u-a&&(u=a+(s-i),u>=e.getWidth()))throw new q;const f=Math.round((u-a+1)/t),p=Math.round((s-i+1)/t);if(f<=0||p<=0)throw new q;if(p!==f)throw new q;const x=Math.floor(t/2);i+=x,a+=x;const y=a+Math.floor((f-1)*t)-u;if(y>0){if(y>x)throw new q;a-=y}const C=i+Math.floor((p-1)*t)-s;if(C>0){if(C>x)throw new q;i-=C}const M=new lt(f,p);for(let L=0;L<p;L++){const F=i+Math.floor(L*t);for(let V=0;V<f;V++)e.get(a+Math.floor(V*t),F)&&M.set(V,L)}return M}static moduleSize(e,n){const r=n.getHeight(),t=n.getWidth();let i=e[0],s=e[1],a=!0,u=0;for(;i<t&&s<r;){if(a!==n.get(i,s)){if(++u===5)break;a=!a}i++,s++}if(i===t||s===r)throw new q;return(i-e[0])/7}}yn.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(e){return we.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ke.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const t of e)n[r++]=t;return n}static getCodeword(e){const n=Q.binarySearch(Ke.SYMBOL_TABLE,e&262143);return n<0?-1:(Ke.CODEWORD_TABLE[n]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class js{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(e,n,r){let t=e.getBlackMatrix(),i=ut.detect(r,t);return i.length||(t=t.clone(),t.rotate180(),i=ut.detect(r,t)),new js(t,i)}static detect(e,n){const r=new Array;let t=0,i=0,s=!1;for(;t<n.getHeight();){const a=ut.findVertices(n,t,i);if(a[0]==null&&a[3]==null){if(!s)break;s=!1,i=0;for(const u of r)u[1]!=null&&(t=Math.trunc(Math.max(t,u[1].getY()))),u[3]!=null&&(t=Math.max(t,Math.trunc(u[3].getY())));t+=ut.ROW_STEP;continue}if(s=!0,r.push(a),!e)break;a[2]!=null?(i=Math.trunc(a[2].getX()),t=Math.trunc(a[2].getY())):(i=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY()))}return r}static findVertices(e,n,r){const t=e.getHeight(),i=e.getWidth(),s=new Array(8);return ut.copyToResult(s,ut.findRowsWithPattern(e,t,i,n,r,ut.START_PATTERN),ut.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),n=Math.trunc(s[4].getY())),ut.copyToResult(s,ut.findRowsWithPattern(e,t,i,n,r,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),s}static copyToResult(e,n,r){for(let t=0;t<r.length;t++)e[r[t]]=n[t]}static findRowsWithPattern(e,n,r,t,i,s){const a=new Array(4);let u=!1;const f=new Int32Array(s.length);for(;t<n;t+=ut.ROW_STEP){let x=ut.findGuardPattern(e,i,t,r,!1,s,f);if(x!=null){for(;t>0;){const y=ut.findGuardPattern(e,i,--t,r,!1,s,f);if(y!=null)x=y;else{t++;break}}a[0]=new me(x[0],t),a[1]=new me(x[1],t),u=!0;break}}let p=t+1;if(u){let x=0,y=Int32Array.from([Math.trunc(a[0].getX()),Math.trunc(a[1].getX())]);for(;p<n;p++){const C=ut.findGuardPattern(e,y[0],p,r,!1,s,f);if(C!=null&&Math.abs(y[0]-C[0])<ut.MAX_PATTERN_DRIFT&&Math.abs(y[1]-C[1])<ut.MAX_PATTERN_DRIFT)y=C,x=0;else{if(x>ut.SKIPPED_ROW_COUNT_MAX)break;x++}}p-=x+1,a[2]=new me(y[0],p),a[3]=new me(y[1],p)}return p-t<ut.BARCODE_MIN_HEIGHT&&Q.fill(a,null),a}static findGuardPattern(e,n,r,t,i,s,a){Q.fillWithin(a,0,a.length,0);let u=n,f=0;for(;e.get(u,r)&&u>0&&f++<ut.MAX_PIXEL_DRIFT;)u--;let p=u,x=0,y=s.length;for(let C=i;p<t;p++)if(e.get(p,r)!==C)a[x]++;else{if(x===y-1){if(ut.patternMatchVariance(a,s,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([u,p]);u+=a[0]+a[1],I.arraycopy(a,2,a,0,x-1),a[x-1]=0,a[x]=0,x--}else x++;a[x]=1,C=!C}return x===y-1&&ut.patternMatchVariance(a,s,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([u,p-1]):null}static patternMatchVariance(e,n,r){let t=e.length,i=0,s=0;for(let f=0;f<t;f++)i+=e[f],s+=n[f];if(i<s)return 1/0;let a=i/s;r*=a;let u=0;for(let f=0;f<t;f++){let p=e[f],x=n[f]*a,y=p>x?p-x:x-p;if(y>r)return 1/0;u+=y}return u/i}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class en{constructor(e,n){if(n.length===0)throw new v;this.field=e;let r=n.length;if(r>1&&n[0]===0){let t=1;for(;t<r&&n[t]===0;)t++;t===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-t),I.arraycopy(n,t,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let t=0;for(let i of this.coefficients)t=this.field.add(t,i);return t}let n=this.coefficients[0],r=this.coefficients.length;for(let t=1;t<r;t++)n=this.field.add(this.field.multiply(e,n),this.coefficients[t]);return n}add(e){if(!this.field.equals(e.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let s=n;n=r,r=s}let t=new Int32Array(r.length),i=r.length-n.length;I.arraycopy(r,0,t,0,i);for(let s=i;s<r.length;s++)t[s]=this.field.add(n[s-i],r[s]);return new en(this.field,t)}subtract(e){if(!this.field.equals(e.field))throw new v("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof en?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new en(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,t=e.coefficients,i=t.length,s=new Int32Array(r+i-1);for(let a=0;a<r;a++){let u=n[a];for(let f=0;f<i;f++)s[a+f]=this.field.add(s[a+f],this.field.multiply(u,t[f]))}return new en(this.field,s)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new en(this.field,n)}multiplyScalar(e){if(e===0)return new en(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let t=0;t<n;t++)r[t]=this.field.multiply(this.coefficients[t],e);return new en(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new v;if(n===0)return new en(this.field,new Int32Array([0]));let r=this.coefficients.length,t=new Int32Array(r+e);for(let i=0;i<r;i++)t[i]=this.field.multiply(this.coefficients[i],n);return new en(this.field,t)}toString(){let e=new Ie;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Hs{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new v;return this.logTable[e]}inverse(e){if(e===0)throw new ze;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Pi extends Hs{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let t=0;t<e;t++)this.expTable[t]=r,r=r*n%e;for(let t=0;t<e-1;t++)this.logTable[this.expTable[t]]=t;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new v;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new en(this,r)}}Pi.PDF417_GF=new Pi(Ke.NUMBER_OF_CODEWORDS,3);class Kr{constructor(){this.field=Pi.PDF417_GF}decode(e,n,r){let t=new en(this.field,e),i=new Int32Array(n),s=!1;for(let M=n;M>0;M--){let L=t.evaluateAt(this.field.exp(M));i[n-M]=L,L!==0&&(s=!0)}if(!s)return 0;let a=this.field.getOne();if(r!=null)for(const M of r){let L=this.field.exp(e.length-1-M),F=new en(this.field,new Int32Array([this.field.subtract(0,L),1]));a=a.multiply(F)}let u=new en(this.field,i),f=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),u,n),p=f[0],x=f[1],y=this.findErrorLocations(p),C=this.findErrorMagnitudes(x,p,y);for(let M=0;M<y.length;M++){let L=e.length-1-this.field.log(y[M]);if(L<0)throw j.getChecksumInstance();e[L]=this.field.subtract(e[L],C[M])}return y.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let y=e;e=n,n=y}let t=e,i=n,s=this.field.getZero(),a=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let y=t,C=s;if(t=i,s=a,t.isZero())throw j.getChecksumInstance();i=y;let M=this.field.getZero(),L=t.getCoefficient(t.getDegree()),F=this.field.inverse(L);for(;i.getDegree()>=t.getDegree()&&!i.isZero();){let V=i.getDegree()-t.getDegree(),ce=this.field.multiply(i.getCoefficient(i.getDegree()),F);M=M.add(this.field.buildMonomial(V,ce)),i=i.subtract(t.multiplyByMonomial(V,ce))}a=M.multiply(s).subtract(C).negative()}let u=a.getCoefficient(0);if(u===0)throw j.getChecksumInstance();let f=this.field.inverse(u),p=a.multiply(f),x=i.multiply(f);return[p,x]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),t=0;for(let i=1;i<this.field.getSize()&&t<n;i++)e.evaluateAt(i)===0&&(r[t]=this.field.inverse(i),t++);if(t!==n)throw j.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let t=n.getDegree(),i=new Int32Array(t);for(let f=1;f<=t;f++)i[t-f]=this.field.multiply(f,n.getCoefficient(f));let s=new en(this.field,i),a=r.length,u=new Int32Array(a);for(let f=0;f<a;f++){let p=this.field.inverse(r[f]),x=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(s.evaluateAt(p));u[f]=this.field.multiply(x,y)}return u}}class pi{constructor(e,n,r,t,i){e instanceof pi?this.constructor_2(e):this.constructor_1(e,n,r,t,i)}constructor_1(e,n,r,t,i){const s=n==null||r==null,a=t==null||i==null;if(s&&a)throw new q;s?(n=new me(0,t.getY()),r=new me(0,i.getY())):a&&(t=new me(e.getWidth()-1,n.getY()),i=new me(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=t,this.bottomRight=i,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(t.getX(),i.getX())),this.minY=Math.trunc(Math.min(n.getY(),t.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new pi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let t=this.topLeft,i=this.bottomLeft,s=this.topRight,a=this.bottomRight;if(e>0){let u=r?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);let p=new me(u.getX(),f);r?t=p:s=p}if(n>0){let u=r?this.bottomLeft:this.bottomRight,f=Math.trunc(u.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);let p=new me(u.getX(),f);r?i=p:a=p}return new pi(this.image,t,i,s,a)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qr{constructor(e,n,r,t){this.columnCount=e,this.errorCorrectionLevel=t,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ii{constructor(){this.buffer=""}static form(e,n){let r=-1;function t(s,a,u,f,p,x){if(s==="%%")return"%";if(n[++r]===void 0)return;s=f?parseInt(f.substr(1)):void 0;let y=p?parseInt(p.substr(1)):void 0,C;switch(x){case"s":C=n[r];break;case"c":C=n[r][0];break;case"f":C=parseFloat(n[r]).toFixed(s);break;case"p":C=parseFloat(n[r]).toPrecision(s);break;case"e":C=parseFloat(n[r]).toExponential(s);break;case"x":C=parseInt(n[r]).toString(y||16);break;case"d":C=parseFloat(parseInt(n[r],y||10).toPrecision(s)).toFixed(0);break}C=typeof C=="object"?JSON.stringify(C):(+C).toString(y);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;C.length<M;)C=a!==void 0?C+L:L+C;return C}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,t)}format(e,...n){this.buffer+=Ii.form(e,n)}toString(){return this.buffer}}class ki{constructor(e){this.boundingBox=new pi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<ki.MAX_NEARBY_DISTANCE;r++){let t=this.imageRowToCodewordIndex(e)-r;if(t>=0&&(n=this.codewords[t],n!=null)||(t=this.imageRowToCodewordIndex(e)+r,t<this.codewords.length&&(n=this.codewords[t],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ii;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}ki.MAX_NEARBY_DISTANCE=5;class Fi{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,t]of this.values.entries()){const i={getKey:()=>r,getValue:()=>t};i.getValue()>e?(e=i.getValue(),n=[],n.push(i.getKey())):i.getValue()===e&&n.push(i.getKey())}return Ke.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Jr extends ki{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),t=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(t.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=-1,f=1,p=0;for(let x=s;x<a;x++){if(n[x]==null)continue;let y=n[x],C=y.getRowNumber()-u;if(C===0)p++;else if(C===1)f=Math.max(f,p),p=1,u=y.getRowNumber();else if(C<0||y.getRowNumber()>=e.getRowCount()||C>x)n[x]=null;else{let M;f>2?M=(f-2)*C:M=C;let L=M>=x;for(let F=1;F<=M&&!L;F++)L=n[x-F]!=null;L?n[x]=null:(u=y.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let t=r.getRowNumber();if(t>=n.length)continue;n[t]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),t=this._isLeft?n.getBottomLeft():n.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(t.getY())),a=this.getCodewords(),u=-1;for(let f=i;f<s;f++){if(a[f]==null)continue;let p=a[f];p.setRowNumberAsRowIndicatorColumn();let x=p.getRowNumber()-u;x===0||(x===1?u=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?a[f]=null:u=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Fi,r=new Fi,t=new Fi,i=new Fi;for(let a of e){if(a==null)continue;a.setRowNumberAsRowIndicatorColumn();let u=a.getValue()%30,f=a.getRowNumber();switch(this._isLeft||(f+=2),f%3){case 0:r.setValue(u*3+1);break;case 1:i.setValue(u/3),t.setValue(u%3);break;case 2:n.setValue(u+1);break}}if(n.getValue().length===0||r.getValue().length===0||t.getValue().length===0||i.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+t.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||r.getValue()[0]+t.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let s=new Qr(n.getValue()[0],r.getValue()[0],t.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let t=e[r];if(e[r]==null)continue;let i=t.getValue()%30,s=t.getRowNumber();if(s>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:i*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==n.getErrorCorrectionLevel()||i%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ui{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ke.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let t=0;t<r.length;t++)r[t]!=null&&(r[t].hasValidRowNumber()||this.adjustRowNumbers(n,t,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let i=this.detectionResultColumns[t].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let t=n[r].getRowNumber(),i=0;for(let s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){let a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=Ui.adjustRowNumberIfValid(t,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let t=n[r].getRowNumber(),i=0;for(let s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){let a=this.detectionResultColumns[s].getCodewords()[r];a!=null&&(i=Ui.adjustRowNumberIfValid(t,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let t=r[n],i=this.detectionResultColumns[e-1].getCodewords(),s=i;this.detectionResultColumns[e+1]!=null&&(s=this.detectionResultColumns[e+1].getCodewords());let a=new Array(14);a[2]=i[n],a[3]=s[n],n>0&&(a[0]=r[n-1],a[4]=i[n-1],a[5]=s[n-1]),n>1&&(a[8]=r[n-2],a[10]=i[n-2],a[11]=s[n-2]),n<r.length-1&&(a[1]=r[n+1],a[6]=i[n+1],a[7]=s[n+1]),n<r.length-2&&(a[9]=r[n+2],a[12]=i[n+2],a[13]=s[n+2]);for(let u of a)if(Ui.adjustRowNumber(t,u))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ii;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let t=0;t<this.barcodeColumnCount+2;t++){if(this.detectionResultColumns[t]==null){n.format("    |   ");continue}let i=this.detectionResultColumns[t].getCodewords()[r];if(i==null){n.format("    |   ");continue}n.format(" %3d|%3d",i.getRowNumber(),i.getValue())}n.format("%n")}return n.toString()}}class _i{constructor(e,n,r,t){this.rowNumber=_i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(t)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==_i.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}_i.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let e=0;e<Ke.SYMBOL_TABLE.length;e++){let n=Ke.SYMBOL_TABLE[e],r=n&1;for(let t=0;t<Ke.BARS_IN_MODULE;t++){let i=0;for(;(n&1)===r;)i+=1,n>>=1;r=n&1,_n.RATIOS_TABLE[e]||(_n.RATIOS_TABLE[e]=new Array(Ke.BARS_IN_MODULE)),_n.RATIOS_TABLE[e][Ke.BARS_IN_MODULE-t-1]=Math.fround(i/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=_n.getDecodedCodewordValue(_n.sampleBitCounts(e));return n!==-1?n:_n.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=we.sum(e),r=new Int32Array(Ke.BARS_IN_MODULE),t=0,i=0;for(let s=0;s<Ke.MODULES_IN_CODEWORD;s++){let a=n/(2*Ke.MODULES_IN_CODEWORD)+s*n/Ke.MODULES_IN_CODEWORD;i+e[t]<=a&&(i+=e[t],t++),r[t]++}return r}static getDecodedCodewordValue(e){let n=_n.getBitValue(e);return Ke.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let t=0;t<e[r];t++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=we.sum(e),r=new Array(Ke.BARS_IN_MODULE);if(n>1)for(let s=0;s<r.length;s++)r[s]=Math.fround(e[s]/n);let t=Ae.MAX_VALUE,i=-1;this.bSymbolTableReady||_n.initialize();for(let s=0;s<_n.RATIOS_TABLE.length;s++){let a=0,u=_n.RATIOS_TABLE[s];for(let f=0;f<Ke.BARS_IN_MODULE;f++){let p=Math.fround(u[f]-r[f]);if(a+=Math.fround(p*p),a>=t)break}a<t&&(t=a,i=Ke.SYMBOL_TABLE[s])}return i}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(A=>new Array(Ke.BARS_IN_MODULE));class $r{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class es{static parseLong(e,n=void 0){return parseInt(e,n)}}class ts extends m{}ts.kind="NullPointerException";class ns{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new ts;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new H;if(r===0)return;for(let t=0;t<r;t++)this.write(e[n+t])}flush(){}close(){}}class tr extends m{}class is extends ns{constructor(e=32){if(super(),this.count=0,e<0)throw new v("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new tr;r=Z.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new H;this.ensureCapacity(this.count+r),I.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Tt;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function rs(){if(typeof window<"u")return window.BigInt||null;if(typeof un<"u")return un.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let nr;function Zn(A){if(typeof nr>"u"&&(nr=rs()),nr===null)throw new Error("BigInt is not supported!");return nr(A)}function ss(){let A=[];A[0]=Zn(1);let e=Zn(900);A[1]=e;for(let n=2;n<16;n++)A[n]=A[n-1]*e;return A}class J{static decode(e,n){let r=new Ie(""),t=W.ISO8859_1;r.enableDecoding(t);let i=1,s=e[i++],a=new $r;for(;i<e[0];){switch(s){case J.TEXT_COMPACTION_MODE_LATCH:i=J.textCompaction(e,i,r);break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:i=J.byteCompaction(s,e,t,i,r);break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case J.NUMERIC_COMPACTION_MODE_LATCH:i=J.numericCompaction(e,i,r);break;case J.ECI_CHARSET:W.getCharacterSetECIByValue(e[i++]);break;case J.ECI_GENERAL_PURPOSE:i+=2;break;case J.ECI_USER_DEFINED:i++;break;case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=J.decodeMacroBlock(e,i,a);break;case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:throw new D;default:i--,i=J.textCompaction(e,i,r);break}if(i<e.length)s=e[i++];else throw D.getFormatInstance()}if(r.length()===0)throw D.getFormatInstance();let u=new _e(null,r.toString(),null,n);return u.setOther(a),u}static decodeMacroBlock(e,n,r){if(n+J.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw D.getFormatInstance();let t=new Int32Array(J.NUMBER_OF_SEQUENCE_CODEWORDS);for(let a=0;a<J.NUMBER_OF_SEQUENCE_CODEWORDS;a++,n++)t[a]=e[n];r.setSegmentIndex(Z.parseInt(J.decodeBase900toBase10(t,J.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new Ie;n=J.textCompaction(e,n,i),r.setFileId(i.toString());let s=-1;for(e[n]===J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let a=new Ie;n=J.textCompaction(e,n+1,a),r.setFileName(a.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new Ie;n=J.textCompaction(e,n+1,u),r.setSender(u.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let f=new Ie;n=J.textCompaction(e,n+1,f),r.setAddressee(f.toString());break;case J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ie;n=J.numericCompaction(e,n+1,p),r.setSegmentCount(Z.parseInt(p.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new Ie;n=J.numericCompaction(e,n+1,x),r.setTimestamp(es.parseLong(x.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let y=new Ie;n=J.numericCompaction(e,n+1,y),r.setChecksum(Z.parseInt(y.toString()));break;case J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let C=new Ie;n=J.numericCompaction(e,n+1,C),r.setFileSize(es.parseLong(C.toString()));break;default:throw D.getFormatInstance()}break;case J.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(s!==-1){let a=n-s;r.isLastSegment()&&a--,r.setOptionalData(Q.copyOfRange(e,s,s+a))}return n}static textCompaction(e,n,r){let t=new Int32Array((e[0]-n)*2),i=new Int32Array((e[0]-n)*2),s=0,a=!1;for(;n<e[0]&&!a;){let u=e[n++];if(u<J.TEXT_COMPACTION_MODE_LATCH)t[s]=u/30,t[s+1]=u%30,s+=2;else switch(u){case J.TEXT_COMPACTION_MODE_LATCH:t[s++]=J.TEXT_COMPACTION_MODE_LATCH;break;case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:n--,a=!0;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t[s]=J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],i[s]=u,s++;break}}return J.decodeTextCompaction(t,i,s,r),n}static decodeTextCompaction(e,n,r,t){let i=Tt.ALPHA,s=Tt.ALPHA,a=0;for(;a<r;){let u=e[a],f="";switch(i){case Tt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case J.LL:i=Tt.LOWER;break;case J.ML:i=Tt.MIXED;break;case J.PS:s=i,i=Tt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(n[a]);break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break;case Tt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case J.AS:s=i,i=Tt.ALPHA_SHIFT;break;case J.ML:i=Tt.MIXED;break;case J.PS:s=i,i=Tt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(n[a]);break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break;case Tt.MIXED:if(u<J.PL)f=J.MIXED_CHARS[u];else switch(u){case J.PL:i=Tt.PUNCT;break;case 26:f=" ";break;case J.LL:i=Tt.LOWER;break;case J.AL:i=Tt.ALPHA;break;case J.PS:s=i,i=Tt.PUNCT_SHIFT;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(n[a]);break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break;case Tt.PUNCT:if(u<J.PAL)f=J.PUNCT_CHARS[u];else switch(u){case J.PAL:i=Tt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(n[a]);break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(i=s,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(i=s,u<J.PAL)f=J.PUNCT_CHARS[u];else switch(u){case J.PAL:i=Tt.ALPHA;break;case J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(n[a]);break;case J.TEXT_COMPACTION_MODE_LATCH:i=Tt.ALPHA;break}break}f!==""&&t.append(f),a++}}static byteCompaction(e,n,r,t,i){let s=new is,a=0,u=0,f=!1;switch(e){case J.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),x=n[t++];for(;t<n[0]&&!f;)switch(p[a++]=x,u=900*u+x,x=n[t++],x){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:t--,f=!0;break;default:if(a%5===0&&a>0){for(let y=0;y<6;++y)s.write(Number(Zn(u)>>Zn(8*(5-y))));u=0,a=0}break}t===n[0]&&x<J.TEXT_COMPACTION_MODE_LATCH&&(p[a++]=x);for(let y=0;y<a;y++)s.write(p[y]);break;case J.BYTE_COMPACTION_MODE_LATCH_6:for(;t<n[0]&&!f;){let y=n[t++];if(y<J.TEXT_COMPACTION_MODE_LATCH)a++,u=900*u+y;else switch(y){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.NUMERIC_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:t--,f=!0;break}if(a%5===0&&a>0){for(let C=0;C<6;++C)s.write(Number(Zn(u)>>Zn(8*(5-C))));u=0,a=0}}break}return i.append(Le.decode(s.toByteArray(),r)),t}static numericCompaction(e,n,r){let t=0,i=!1,s=new Int32Array(J.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!i;){let a=e[n++];if(n===e[0]&&(i=!0),a<J.TEXT_COMPACTION_MODE_LATCH)s[t]=a,t++;else switch(a){case J.TEXT_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH:case J.BYTE_COMPACTION_MODE_LATCH_6:case J.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case J.MACRO_PDF417_TERMINATOR:n--,i=!0;break}(t%J.MAX_NUMERIC_CODEWORDS===0||a===J.NUMERIC_COMPACTION_MODE_LATCH||i)&&t>0&&(r.append(J.decodeBase900toBase10(s,t)),t=0)}return n}static decodeBase900toBase10(e,n){let r=Zn(0);for(let i=0;i<n;i++)r+=J.EXP900[n-i-1]*Zn(e[i]);let t=r.toString();if(t.charAt(0)!=="1")throw new D;return t.substring(1)}}J.TEXT_COMPACTION_MODE_LATCH=900,J.BYTE_COMPACTION_MODE_LATCH=901,J.NUMERIC_COMPACTION_MODE_LATCH=902,J.BYTE_COMPACTION_MODE_LATCH_6=924,J.ECI_USER_DEFINED=925,J.ECI_GENERAL_PURPOSE=926,J.ECI_CHARSET=927,J.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,J.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,J.MACRO_PDF417_TERMINATOR=922,J.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,J.MAX_NUMERIC_CODEWORDS=15,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,J.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,J.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,J.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,J.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,J.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,J.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,J.PL=25,J.LL=27,J.AS=27,J.ML=28,J.AL=28,J.PS=29,J.PAL=29,J.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,J.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",J.EXP900=rs()?ss():[],J.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ft{constructor(){}static decode(e,n,r,t,i,s,a){let u=new pi(e,n,r,t,i),f=null,p=null,x;for(let M=!0;;M=!1){if(n!=null&&(f=ft.getRowIndicatorColumn(e,u,n,!0,s,a)),t!=null&&(p=ft.getRowIndicatorColumn(e,u,t,!1,s,a)),x=ft.merge(f,p),x==null)throw q.getNotFoundInstance();let L=x.getBoundingBox();if(M&&L!=null&&(L.getMinY()<u.getMinY()||L.getMaxY()>u.getMaxY()))u=L;else break}x.setBoundingBox(u);let y=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,f),x.setDetectionResultColumn(y,p);let C=f!=null;for(let M=1;M<=y;M++){let L=C?M:y-M;if(x.getDetectionResultColumn(L)!==void 0)continue;let F;L===0||L===y?F=new Jr(u,L===0):F=new ki(u),x.setDetectionResultColumn(L,F);let V=-1,ce=V;for(let he=u.getMinY();he<=u.getMaxY();he++){if(V=ft.getStartColumn(x,L,he,C),V<0||V>u.getMaxX()){if(ce===-1)continue;V=ce}let K=ft.detectCodeword(e,u.getMinX(),u.getMaxX(),C,V,he,s,a);K!=null&&(F.setCodeword(he,K),ce=V,s=Math.min(s,K.getWidth()),a=Math.max(a,K.getWidth()))}}return ft.createDecoderResult(x)}static merge(e,n){if(e==null&&n==null)return null;let r=ft.getBarcodeMetadata(e,n);if(r==null)return null;let t=pi.merge(ft.adjustBoundingBox(e),ft.adjustBoundingBox(n));return new Ui(r,t)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=ft.getMax(n),t=0;for(let a of n)if(t+=r-a,a>0)break;let i=e.getCodewords();for(let a=0;t>0&&i[a]==null;a++)t--;let s=0;for(let a=n.length-1;a>=0&&(s+=r-n[a],!(n[a]>0));a--);for(let a=i.length-1;s>0&&i[a]==null;a--)s--;return e.getBoundingBox().addMissingRows(t,s,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let t;return n==null||(t=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==t.getColumnCount()&&r.getErrorCorrectionLevel()!==t.getErrorCorrectionLevel()&&r.getRowCount()!==t.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,t,i,s){let a=new Jr(n,t);for(let u=0;u<2;u++){let f=u===0?1:-1,p=Math.trunc(Math.trunc(r.getX()));for(let x=Math.trunc(Math.trunc(r.getY()));x<=n.getMaxY()&&x>=n.getMinY();x+=f){let y=ft.detectCodeword(e,0,e.getWidth(),t,p,x,i,s);y!=null&&(a.setCodeword(x,y),t?p=y.getStartX():p=y.getEndX())}}return a}static adjustCodewordCount(e,n){let r=n[0][1],t=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ft.getNumberOfECCodeWords(e.getBarcodeECLevel());if(t.length===0){if(i<1||i>Ke.MAX_CODEWORDS_IN_BARCODE)throw q.getNotFoundInstance();r.setValue(i)}else t[0]!==i&&r.setValue(i)}static createDecoderResult(e){let n=ft.createBarcodeMatrix(e);ft.adjustCodewordCount(e,n);let r=new Array,t=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let f=0;f<e.getBarcodeColumnCount();f++){let p=n[u][f+1].getValue(),x=u*e.getBarcodeColumnCount()+f;p.length===0?r.push(x):p.length===1?t[x]=p[0]:(s.push(x),i.push(p))}let a=new Array(i.length);for(let u=0;u<a.length;u++)a[u]=i[u];return ft.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),t,Ke.toIntArray(r),Ke.toIntArray(s),a)}static createDecoderResultFromAmbiguousValues(e,n,r,t,i){let s=new Int32Array(t.length),a=100;for(;a-- >0;){for(let u=0;u<s.length;u++)n[t[u]]=i[u][s[u]];try{return ft.decodeCodewords(n,e,r)}catch(u){if(!(u instanceof j))throw u}if(s.length===0)throw j.getChecksumInstance();for(let u=0;u<s.length;u++)if(s[u]<i[u].length-1){s[u]++;break}else if(s[u]=0,u===s.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let t=0;t<n.length;t++)for(let i=0;i<n[t].length;i++)n[t][i]=new Fi;let r=0;for(let t of e.getDetectionResultColumns()){if(t!=null){for(let i of t.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=0){if(s>=n.length)continue;n[s][r].setValue(i.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,t){let i=t?1:-1,s=null;if(ft.isValidBarcodeColumn(e,n-i)&&(s=e.getDetectionResultColumn(n-i).getCodeword(r)),s!=null)return t?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(n).getCodewordNearby(r),s!=null)return t?s.getStartX():s.getEndX();if(ft.isValidBarcodeColumn(e,n-i)&&(s=e.getDetectionResultColumn(n-i).getCodewordNearby(r)),s!=null)return t?s.getEndX():s.getStartX();let a=0;for(;ft.isValidBarcodeColumn(e,n-i);){n-=i;for(let u of e.getDetectionResultColumn(n).getCodewords())if(u!=null)return(t?u.getEndX():u.getStartX())+i*a*(u.getEndX()-u.getStartX());a++}return t?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,t,i,s,a,u){i=ft.adjustCodewordStartColumn(e,n,r,t,i,s);let f=ft.getModuleBitCount(e,n,r,t,i,s);if(f==null)return null;let p,x=we.sum(f);if(t)p=i+x;else{for(let M=0;M<f.length/2;M++){let L=f[M];f[M]=f[f.length-1-M],f[f.length-1-M]=L}p=i,i=p-x}if(!ft.checkCodewordSkew(x,a,u))return null;let y=_n.getDecodedValue(f),C=Ke.getCodeword(y);return C===-1?null:new _i(i,p,ft.getCodewordBucketNumber(y),C)}static getModuleBitCount(e,n,r,t,i,s){let a=i,u=new Int32Array(8),f=0,p=t?1:-1,x=t;for(;(t?a<r:a>=n)&&f<u.length;)e.get(a,s)===x?(u[f]++,a+=p):(f++,x=!x);return f===u.length||a===(t?r:n)&&f===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,t,i,s){let a=i,u=t?-1:1;for(let f=0;f<2;f++){for(;(t?a>=n:a<r)&&t===e.get(a,s);){if(Math.abs(i-a)>ft.CODEWORD_SKEW_SIZE)return i;a+=u}u=-u,t=!t}return a}static checkCodewordSkew(e,n,r){return n-ft.CODEWORD_SKEW_SIZE<=e&&e<=r+ft.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw D.getFormatInstance();let t=1<<n+1,i=ft.correctErrors(e,r,t);ft.verifyCodewordCount(e,t);let s=J.decode(e,""+n);return s.setErrorsCorrected(i),s.setErasures(r.length),s}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+ft.MAX_ERRORS||r<0||r>ft.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return ft.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw D.getFormatInstance();let r=e[0];if(r>e.length)throw D.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw D.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,t=n.length-1;for(;!((e&1)!==r&&(r=e&1,t--,t<0));)n[t]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ft.getCodewordBucketNumber(ft.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Ii;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let t=0;t<e[r].length;t++){let i=e[r][t];i.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}n.format("%n")}return n.toString()}}ft.CODEWORD_SKEW_SIZE=2,ft.MAX_ERRORS=3,ft.MAX_EC_CODEWORDS=512,ft.errorCorrection=new Kr;class sn{decode(e,n=null){let r=sn.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw q.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return sn.decode(e,n,!0)}catch(r){throw r instanceof D||r instanceof j?q.getNotFoundInstance():r}}static decode(e,n,r){const t=new Array,i=ut.detectMultiple(e,n,r);for(const s of i.getPoints()){const a=ft.decode(i.getBits(),s[4],s[5],s[6],s[7],sn.getMinCodewordWidth(s),sn.getMaxCodewordWidth(s)),u=new Be(a.getText(),a.getRawBytes(),void 0,s,se.PDF_417);u.putMetadata(de.ERROR_CORRECTION_LEVEL,a.getECLevel());const f=a.getOther();f!=null&&u.putMetadata(de.PDF417_EXTRA_METADATA,f),t.push(u)}return t.map(s=>s)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?Z.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(sn.getMaxWidth(e[0],e[4]),sn.getMaxWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(sn.getMaxWidth(e[1],e[5]),sn.getMaxWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(sn.getMinWidth(e[0],e[4]),sn.getMinWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(sn.getMinWidth(e[1],e[5]),sn.getMinWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class ir extends m{}ir.kind="ReaderException";class ii{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!h(e)&&e.get(U.TRY_HARDER)===!0,r=h(e)?null:e.get(U.POSSIBLE_FORMATS),t=new Array;if(!h(r)){const i=r.some(s=>s===se.UPC_A||s===se.UPC_E||s===se.EAN_13||s===se.EAN_8||s===se.CODABAR||s===se.CODE_39||s===se.CODE_93||s===se.CODE_128||s===se.ITF||s===se.RSS_14||s===se.RSS_EXPANDED);i&&!n&&t.push(new wn(e,this.verbose)),r.includes(se.QR_CODE)&&t.push(new yn),r.includes(se.DATA_MATRIX)&&t.push(new Ln),r.includes(se.AZTEC)&&t.push(new Tn),r.includes(se.PDF_417)&&t.push(new sn),i&&n&&t.push(new wn(e,this.verbose))}t.length===0&&(n||t.push(new wn(e,this.verbose)),t.push(new yn),t.push(new Ln),t.push(new Tn),t.push(new sn),n&&t.push(new wn(e,this.verbose))),this.readers=t}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ir("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof ir)continue}throw new q("No MultiFormat Readers were able to detect the code.")}}class os extends Pe{constructor(e=null,n=500){const r=new ii;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class zs extends Pe{constructor(e=500){super(new sn,e)}}class Ws extends Pe{constructor(e=500){super(new yn,e)}}var rr;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(rr||(rr={}));var on=rr;class Mr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new it(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const t=this.field;for(let i=n.length;i<=e;i++){const s=r.multiply(new it(t,Int32Array.from([1,t.exp(i-1+t.getGeneratorBase())])));n.push(s),r=s}}return n[e]}encode(e,n){if(n===0)throw new v("No error correction bytes");const r=e.length-n;if(r<=0)throw new v("No data bytes provided");const t=this.buildGenerator(n),i=new Int32Array(r);I.arraycopy(e,0,i,0,r);let s=new it(this.field,i);s=s.multiplyByMonomial(n,1);const u=s.divide(t)[1].getCoefficients(),f=n-u.length;for(let p=0;p<f;p++)e[r+p]=0;I.arraycopy(u,0,e,r+f,u.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(e){return Gt.applyMaskPenaltyRule1Internal(e,!0)+Gt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),t=e.getWidth(),i=e.getHeight();for(let s=0;s<i-1;s++){const a=r[s];for(let u=0;u<t-1;u++){const f=a[u];f===a[u+1]&&f===r[s+1][u]&&f===r[s+1][u+1]&&n++}}return Gt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),t=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++)for(let a=0;a<t;a++){const u=r[s];a+6<t&&u[a]===1&&u[a+1]===0&&u[a+2]===1&&u[a+3]===1&&u[a+4]===1&&u[a+5]===0&&u[a+6]===1&&(Gt.isWhiteHorizontal(u,a-4,a)||Gt.isWhiteHorizontal(u,a+7,a+11))&&n++,s+6<i&&r[s][a]===1&&r[s+1][a]===0&&r[s+2][a]===1&&r[s+3][a]===1&&r[s+4][a]===1&&r[s+5][a]===0&&r[s+6][a]===1&&(Gt.isWhiteVertical(r,a,s-4,s)||Gt.isWhiteVertical(r,a,s+7,s+11))&&n++}return n*Gt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let t=n;t<r;t++)if(e[t]===1)return!1;return!0}static isWhiteVertical(e,n,r,t){r=Math.max(r,0),t=Math.min(t,e.length);for(let i=r;i<t;i++)if(e[i][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),t=e.getWidth(),i=e.getHeight();for(let u=0;u<i;u++){const f=r[u];for(let p=0;p<t;p++)f[p]===1&&n++}const s=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-s)*10/s)*Gt.N4}static getDataMaskBit(e,n,r){let t,i;switch(e){case 0:t=r+n&1;break;case 1:t=r&1;break;case 2:t=n%3;break;case 3:t=(r+n)%3;break;case 4:t=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:i=r*n,t=(i&1)+i%3;break;case 6:i=r*n,t=(i&1)+i%3&1;break;case 7:i=r*n,t=i%3+(r+n&1)&1;break;default:throw new v("Invalid mask pattern: "+e)}return t===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const t=n?e.getHeight():e.getWidth(),i=n?e.getWidth():e.getHeight(),s=e.getArray();for(let a=0;a<t;a++){let u=0,f=-1;for(let p=0;p<i;p++){const x=n?s[a][p]:s[p][a];x===f?u++:(u>=5&&(r+=Gt.N1+(u-5)),u=1,f=x)}u>=5&&(r+=Gt.N1+(u-5))}return r}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class ji{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let t=0;t!==n;t++)r[t]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)Q.fill(n,e)}equals(e){if(!(e instanceof ji))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,t=this.height;r<t;++r){const i=this.bytes[r],s=n.bytes[r];for(let a=0,u=this.width;a<u;++a)if(i[a]!==s[a])return!1}return!0}toString(){const e=new Ie;for(let n=0,r=this.height;n<r;++n){const t=this.bytes[n];for(let i=0,s=this.width;i<s;++i)switch(t[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ie;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class Pt extends m{}Pt.kind="WriterException";class tt{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,t,i){tt.clearMatrix(i),tt.embedBasicPatterns(r,i),tt.embedTypeInfo(n,t,i),tt.maybeEmbedVersionInfo(r,i),tt.embedDataBits(e,t,i)}static embedBasicPatterns(e,n){tt.embedPositionDetectionPatternsAndSeparators(n),tt.embedDarkDotAtLeftBottomCorner(n),tt.maybeEmbedPositionAdjustmentPatterns(e,n),tt.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const t=new O;tt.makeTypeInfoBits(e,n,t);for(let i=0,s=t.getSize();i<s;++i){const a=t.get(t.getSize()-1-i),u=tt.TYPE_INFO_COORDINATES[i],f=u[0],p=u[1];if(r.setBoolean(f,p,a),i<8){const x=r.getWidth()-i-1,y=8;r.setBoolean(x,y,a)}else{const y=r.getHeight()-7+(i-8);r.setBoolean(8,y,a)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new O;tt.makeVersionInfoBits(e,r);let t=6*3-1;for(let i=0;i<6;++i)for(let s=0;s<3;++s){const a=r.get(t);t--,n.setBoolean(i,n.getHeight()-11+s,a),n.setBoolean(n.getHeight()-11+s,i,a)}}static embedDataBits(e,n,r){let t=0,i=-1,s=r.getWidth()-1,a=r.getHeight()-1;for(;s>0;){for(s===6&&(s-=1);a>=0&&a<r.getHeight();){for(let u=0;u<2;++u){const f=s-u;if(!tt.isEmpty(r.get(f,a)))continue;let p;t<e.getSize()?(p=e.get(t),++t):p=!1,n!==255&&Gt.getDataMaskBit(n,f,a)&&(p=!p),r.setBoolean(f,a,p)}a+=i}i=-i,a+=i,s-=2}if(t!==e.getSize())throw new Pt("Not all bits consumed: "+t+"/"+e.getSize())}static findMSBSet(e){return 32-Z.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new v("0 polynomial");const r=tt.findMSBSet(n);for(e<<=r-1;tt.findMSBSet(e)>=r;)e^=n<<tt.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!xi.isValidMaskPattern(n))throw new Pt("Invalid mask pattern");const t=e.getBits()<<3|n;r.appendBits(t,5);const i=tt.calculateBCHCode(t,tt.TYPE_INFO_POLY);r.appendBits(i,10);const s=new O;if(s.appendBits(tt.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Pt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=tt.calculateBCHCode(e.getVersionNumber(),tt.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Pt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;tt.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),tt.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Pt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let t=0;t<8;++t){if(!tt.isEmpty(r.get(e+t,n)))throw new Pt;r.setNumber(e+t,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let t=0;t<7;++t){if(!tt.isEmpty(r.get(e,n+t)))throw new Pt;r.setNumber(e,n+t,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let t=0;t<5;++t){const i=tt.POSITION_ADJUSTMENT_PATTERN[t];for(let s=0;s<5;++s)r.setNumber(e+s,n+t,i[s])}}static embedPositionDetectionPattern(e,n,r){for(let t=0;t<7;++t){const i=tt.POSITION_DETECTION_PATTERN[t];for(let s=0;s<7;++s)r.setNumber(e+s,n+t,i[s])}}static embedPositionDetectionPatternsAndSeparators(e){const n=tt.POSITION_DETECTION_PATTERN[0].length;tt.embedPositionDetectionPattern(0,0,e),tt.embedPositionDetectionPattern(e.getWidth()-n,0,e),tt.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;tt.embedHorizontalSeparationPattern(0,r-1,e),tt.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),tt.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const t=7;tt.embedVerticalSeparationPattern(t,0,e),tt.embedVerticalSeparationPattern(e.getHeight()-t-1,0,e),tt.embedVerticalSeparationPattern(t,e.getHeight()-t,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,t=tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,s=t.length;i!==s;i++){const a=t[i];if(a>=0)for(let u=0;u!==s;u++){const f=t[u];f>=0&&tt.isEmpty(n.get(f,a))&&tt.embedPositionAdjustmentPattern(f-2,a-2,n)}}}}tt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),tt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),tt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),tt.VERSION_INFO_POLY=7973,tt.TYPE_INFO_POLY=1335,tt.TYPE_INFO_MASK_PATTERN=21522;class Hi{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nt{constructor(){}static calculateMaskPenalty(e){return Gt.applyMaskPenaltyRule1(e)+Gt.applyMaskPenaltyRule2(e)+Gt.applyMaskPenaltyRule3(e)+Gt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let t=Nt.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(on.CHARACTER_SET)!==void 0;i&&(t=r.get(on.CHARACTER_SET).toString());const s=this.chooseMode(e,t),a=new O;if(s===Qe.BYTE&&(i||Nt.DEFAULT_BYTE_MODE_ENCODING!==t)){const he=W.getCharacterSetECIByName(t);he!==void 0&&this.appendECI(he,a)}this.appendModeInfo(s,a);const u=new O;this.appendBytes(e,s,u,t);let f;if(r!==null&&r.get(on.QR_VERSION)!==void 0){const he=Number.parseInt(r.get(on.QR_VERSION).toString(),10);f=Ye.getVersionForNumber(he);const K=this.calculateBitsNeeded(s,a,u,f);if(!this.willFit(K,f,n))throw new Pt("Data too big for requested version")}else f=this.recommendVersion(n,s,a,u);const p=new O;p.appendBitArray(a);const x=s===Qe.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(x,f,s,p),p.appendBitArray(u);const y=f.getECBlocksForLevel(n),C=f.getTotalCodewords()-y.getTotalECCodewords();this.terminateBits(C,p);const M=this.interleaveWithECBytes(p,f.getTotalCodewords(),C,y.getNumBlocks()),L=new xi;L.setECLevel(n),L.setMode(s),L.setVersion(f);const F=f.getDimensionForVersion(),V=new ji(F,F),ce=this.chooseMaskPattern(M,n,f,V);return L.setMaskPattern(ce),tt.buildMatrix(M,n,f,ce,V),L.setMatrix(V),L}static recommendVersion(e,n,r,t){const i=this.calculateBitsNeeded(n,r,t,Ye.getVersionForNumber(1)),s=this.chooseVersion(i,e),a=this.calculateBitsNeeded(n,r,t,s);return this.chooseVersion(a,e)}static calculateBitsNeeded(e,n,r,t){return n.getSize()+e.getCharacterCountBits(t)+r.getSize()}static getAlphanumericCode(e){return e<Nt.ALPHANUMERIC_TABLE.length?Nt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(W.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Qe.KANJI;let r=!1,t=!1;for(let i=0,s=e.length;i<s;++i){const a=e.charAt(i);if(Nt.isDigit(a))r=!0;else if(this.getAlphanumericCode(a.charCodeAt(0))!==-1)t=!0;else return Qe.BYTE}return t?Qe.ALPHANUMERIC:r?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Le.encode(e,W.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let t=0;t<r;t+=2){const i=n[t]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,n,r,t){let i=Number.MAX_SAFE_INTEGER,s=-1;for(let a=0;a<xi.NUM_MASK_PATTERNS;a++){tt.buildMatrix(e,n,r,a,t);let u=this.calculateMaskPenalty(t);u<i&&(i=u,s=a)}return s}static chooseVersion(e,n){for(let r=1;r<=40;r++){const t=Ye.getVersionForNumber(r);if(Nt.willFit(e,t,n))return t}throw new Pt("Data too big")}static willFit(e,n,r){const t=n.getTotalCodewords(),s=n.getECBlocksForLevel(r).getTotalECCodewords(),a=t-s,u=(e+7)/8;return a>=u}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new Pt("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let s=0;s<4&&n.getSize()<r;++s)n.appendBit(!1);const t=n.getSize()&7;if(t>0)for(let s=t;s<8;s++)n.appendBit(!1);const i=e-n.getSizeInBytes();for(let s=0;s<i;++s)n.appendBits(s&1?17:236,8);if(n.getSize()!==r)throw new Pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,t,i,s){if(t>=r)throw new Pt("Block ID too large");const a=e%r,u=r-a,f=Math.floor(e/r),p=f+1,x=Math.floor(n/r),y=x+1,C=f-x,M=p-y;if(C!==M)throw new Pt("EC bytes mismatch");if(r!==u+a)throw new Pt("RS blocks mismatch");if(e!==(x+C)*u+(y+M)*a)throw new Pt("Total bytes mismatch");t<u?(i[0]=x,s[0]=C):(i[0]=y,s[0]=M)}static interleaveWithECBytes(e,n,r,t){if(e.getSizeInBytes()!==r)throw new Pt("Number of bits and data bytes does not match");let i=0,s=0,a=0;const u=new Array;for(let p=0;p<t;++p){const x=new Int32Array(1),y=new Int32Array(1);Nt.getNumDataBytesAndNumECBytesForBlockID(n,r,t,p,x,y);const C=x[0],M=new Uint8Array(C);e.toBytes(8*i,M,0,C);const L=Nt.generateECBytes(M,y[0]);u.push(new Hi(M,L)),s=Math.max(s,C),a=Math.max(a,L.length),i+=x[0]}if(r!==i)throw new Pt("Data bytes does not match offset");const f=new O;for(let p=0;p<s;++p)for(const x of u){const y=x.getDataBytes();p<y.length&&f.appendBits(y[p],8)}for(let p=0;p<a;++p)for(const x of u){const y=x.getErrorCorrectionBytes();p<y.length&&f.appendBits(y[p],8)}if(n!==f.getSizeInBytes())throw new Pt("Interleaving error: "+n+" and "+f.getSizeInBytes()+" differ.");return f}static generateECBytes(e,n){const r=e.length,t=new Int32Array(r+n);for(let s=0;s<r;s++)t[s]=e[s]&255;new Mr(pe.QR_CODE_FIELD_256).encode(t,n);const i=new Uint8Array(n);for(let s=0;s<n;s++)i[s]=t[r+s];return i}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,t){const i=r.getCharacterCountBits(n);if(e>=1<<i)throw new Pt(e+" is bigger than "+((1<<i)-1));t.appendBits(e,i)}static appendBytes(e,n,r,t){switch(n){case Qe.NUMERIC:Nt.appendNumericBytes(e,r);break;case Qe.ALPHANUMERIC:Nt.appendAlphanumericBytes(e,r);break;case Qe.BYTE:Nt.append8BitBytes(e,r,t);break;case Qe.KANJI:Nt.appendKanjiBytes(e,r);break;default:throw new Pt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Nt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let t=0;for(;t<r;){const i=Nt.getDigit(e.charAt(t));if(t+2<r){const s=Nt.getDigit(e.charAt(t+1)),a=Nt.getDigit(e.charAt(t+2));n.appendBits(i*100+s*10+a,10),t+=3}else if(t+1<r){const s=Nt.getDigit(e.charAt(t+1));n.appendBits(i*10+s,7),t+=2}else n.appendBits(i,4),t++}}static appendAlphanumericBytes(e,n){const r=e.length;let t=0;for(;t<r;){const i=Nt.getAlphanumericCode(e.charCodeAt(t));if(i===-1)throw new Pt;if(t+1<r){const s=Nt.getAlphanumericCode(e.charCodeAt(t+1));if(s===-1)throw new Pt;n.appendBits(i*45+s,11),t+=2}else n.appendBits(i,6),t++}}static append8BitBytes(e,n,r){let t;try{t=Le.encode(e,r)}catch(i){throw new Pt(i)}for(let i=0,s=t.length;i!==s;i++){const a=t[i];n.appendBits(a,8)}}static appendKanjiBytes(e,n){let r;try{r=Le.encode(e,W.SJIS)}catch(i){throw new Pt(i)}const t=r.length;for(let i=0;i<t;i+=2){const s=r[i]&255,a=r[i+1]&255,u=s<<8&4294967295|a;let f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new Pt("Invalid byte sequence");const p=(f>>8)*192+(f&255);n.appendBits(p,13)}}static appendECI(e,n){n.appendBits(Qe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class mi{write(e,n,r,t=null){if(e.length===0)throw new v("Found empty contents");if(n<0||r<0)throw new v("Requested dimensions are too small: "+n+"x"+r);let i=_t.L,s=mi.QUIET_ZONE_SIZE;t!==null&&(t.get(on.ERROR_CORRECTION)!==void 0&&(i=_t.fromString(t.get(on.ERROR_CORRECTION).toString())),t.get(on.MARGIN)!==void 0&&(s=Number.parseInt(t.get(on.MARGIN).toString(),10)));const a=Nt.encode(e,i,t);return this.renderResult(a,n,r,s)}writeToDom(e,n,r,t,i=null){typeof e=="string"&&(e=document.querySelector(e));const s=this.write(n,r,t,i);e&&e.appendChild(s)}renderResult(e,n,r,t){const i=e.getMatrix();if(i===null)throw new At;const s=i.getWidth(),a=i.getHeight(),u=s+t*2,f=a+t*2,p=Math.max(n,u),x=Math.max(r,f),y=Math.min(Math.floor(p/u),Math.floor(x/f)),C=Math.floor((p-s*y)/2),M=Math.floor((x-a*y)/2),L=this.createSVGElement(p,x);for(let F=0,V=M;F<a;F++,V+=y)for(let ce=0,he=C;ce<s;ce++,he+=y)if(i.get(ce,F)===1){const K=this.createSvgRectElement(he,V,y,y);L.appendChild(K)}return L}createSVGElement(e,n){const r=document.createElementNS(mi.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,t){const i=document.createElementNS(mi.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"fill","#000000"),i}}mi.QUIET_ZONE_SIZE=4,mi.SVG_NS="http://www.w3.org/2000/svg";class ri{encode(e,n,r,t,i){if(e.length===0)throw new v("Found empty contents");if(n!==se.QR_CODE)throw new v("Can only encode QR_CODE, but got "+n);if(r<0||t<0)throw new v(`Requested dimensions are too small: ${r}x${t}`);let s=_t.L,a=ri.QUIET_ZONE_SIZE;i!==null&&(i.get(on.ERROR_CORRECTION)!==void 0&&(s=_t.fromString(i.get(on.ERROR_CORRECTION).toString())),i.get(on.MARGIN)!==void 0&&(a=Number.parseInt(i.get(on.MARGIN).toString(),10)));const u=Nt.encode(e,s,i);return ri.renderResult(u,r,t,a)}static renderResult(e,n,r,t){const i=e.getMatrix();if(i===null)throw new At;const s=i.getWidth(),a=i.getHeight(),u=s+t*2,f=a+t*2,p=Math.max(n,u),x=Math.max(r,f),y=Math.min(Math.floor(p/u),Math.floor(x/f)),C=Math.floor((p-s*y)/2),M=Math.floor((x-a*y)/2),L=new lt(p,x);for(let F=0,V=M;F<a;F++,V+=y)for(let ce=0,he=C;ce<s;ce++,he+=y)i.get(ce,F)===1&&L.setRegion(he,V,y,y);return L}}ri.QUIET_ZONE_SIZE=4;class as{encode(e,n,r,t,i){let s;switch(n){case se.QR_CODE:s=new ri;break;default:throw new v("No encoder available for format "+n)}return s.encode(e,n,r,t,i)}}class zn extends zt{constructor(e,n,r,t,i,s,a,u){if(super(s,a),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=t,this.top=i,t+s>n||i+a>r)throw new v("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(s,a)}getRow(e,n){if(e<0||e>=this.getHeight())throw new v("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const t=(e+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,t,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,t=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return I.arraycopy(this.yuvData,i,t,0,r),t;for(let s=0;s<n;s++){const a=s*e;I.arraycopy(this.yuvData,i,t,a,e),i+=this.dataWidth}return t}isCropSupported(){return!0}crop(e,n,r,t){return new zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,t,!1)}renderThumbnail(){const e=this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),t=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let s=0;s<n;s++){const a=s*e;for(let u=0;u<e;u++){const f=t[i+u*zn.THUMBNAIL_SCALE_FACTOR]&255;r[a+u]=4278190080|f*65793}i+=this.dataWidth*zn.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let t=0,i=this.top*this.dataWidth+this.left;t<n;t++,i+=this.dataWidth){const s=i+e/2;for(let a=i,u=i+e-1;a<s;a++,u--){const f=r[a];r[a]=r[u],r[u]=f}}}invert(){return new Wt(this)}}zn.THUMBNAIL_SCALE_FACTOR=2;class Dr extends zt{constructor(e,n,r,t,i,s,a){if(super(n,r),this.dataWidth=t,this.dataHeight=i,this.left=s,this.top=a,e.BYTES_PER_ELEMENT===4){const u=n*r,f=new Uint8ClampedArray(u);for(let p=0;p<u;p++){const x=e[p],y=x>>16&255,C=x>>7&510,M=x&255;f[p]=(y+C+M)/4&255}this.luminances=f}else this.luminances=e;if(t===void 0&&(this.dataWidth=n),i===void 0&&(this.dataHeight=r),s===void 0&&(this.left=0),a===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new v("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const t=(e+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,t,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,t=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return I.arraycopy(this.luminances,i,t,0,r),t;for(let s=0;s<n;s++){const a=s*e;I.arraycopy(this.luminances,i,t,a,e),i+=this.dataWidth}return t}isCropSupported(){return!0}crop(e,n,r,t){return new Dr(this.luminances,r,t,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Wt(this)}}class ls extends W{static forName(e){return this.getCharacterSetECIByName(e)}}class sr{}sr.ISO_8859_1=W.ISO8859_1;class cs{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Rr{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class us{constructor(e){this.previous=e}getPrevious(){return this.previous}}class si extends us{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new si(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new si(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Z.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Lr extends si{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new Lr(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vs(A,e,n){return new Lr(A,e,n)}function oi(A,e,n){return new si(A,e,n)}const Gs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ai=0,or=1,Mn=2,fs=3,Pn=4,Xs=new si(null,0,0),Br=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function hs(A){for(let e of A)Q.fill(e,-1);return A[ai][Pn]=0,A[or][Pn]=0,A[or][ai]=28,A[fs][Pn]=0,A[Mn][Pn]=0,A[Mn][ai]=15,A}const Pr=hs(Q.createInt32Array(6,6));class Wn{constructor(e,n,r,t){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=t}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,t=this.token;if(e!==this.mode){let s=Br[this.mode][e];t=oi(t,s&65535,s>>16),r+=s>>16}let i=e===Mn?4:5;return t=oi(t,n,i),new Wn(t,e,0,r+i)}shiftAndAppend(e,n){let r=this.token,t=this.mode===Mn?4:5;return r=oi(r,Pr[this.mode][e],t),r=oi(r,n,5),new Wn(r,this.mode,0,this.bitCount+t+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,t=this.bitCount;if(this.mode===Pn||this.mode===Mn){let a=Br[r][ai];n=oi(n,a&65535,a>>16),t+=a>>16,r=ai}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new Wn(n,r,this.binaryShiftByteCount+1,t+i);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Vs(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Wn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(Br[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Wn.calculateBinaryShiftCost(e)-Wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let t=this.endBinaryShift(e.length).token;t!==null;t=t.getPrevious())n.unshift(t);let r=new O;for(const t of n)t.appendTo(r,e);return r}toString(){return ae.format("%s bits=%d bytes=%d",Gs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Wn.INITIAL_STATE=new Wn(Xs,ai,0,0);function Ys(A){const e=ae.getCharCode(" "),n=ae.getCharCode("."),r=ae.getCharCode(",");A[ai][e]=1;const t=ae.getCharCode("Z"),i=ae.getCharCode("A");for(let y=i;y<=t;y++)A[ai][y]=y-i+2;A[or][e]=1;const s=ae.getCharCode("z"),a=ae.getCharCode("a");for(let y=a;y<=s;y++)A[or][y]=y-a+2;A[Mn][e]=1;const u=ae.getCharCode("9"),f=ae.getCharCode("0");for(let y=f;y<=u;y++)A[Mn][y]=y-f+2;A[Mn][r]=12,A[Mn][n]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let y=0;y<p.length;y++)A[fs][ae.getCharCode(p[y])]=y;const x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let y=0;y<x.length;y++)ae.getCharCode(x[y])>0&&(A[Pn][ae.getCharCode(x[y])]=y);return A}const kr=Ys(Q.createInt32Array(5,256));class zi{constructor(e){this.text=e}encode(){const e=ae.getCharCode(" "),n=ae.getCharCode(`
`);let r=Rr.singletonList(Wn.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let s,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ae.getCharCode("\r"):s=a===n?2:0;break;case ae.getCharCode("."):s=a===e?3:0;break;case ae.getCharCode(","):s=a===e?4:0;break;case ae.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(r=zi.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}return Rr.min(r,(i,s)=>i.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let t of e)this.updateStateForChar(t,n,r);return zi.simplifyStates(r)}updateStateForChar(e,n,r){let t=this.text[n]&255,i=kr[e.getMode()][t]>0,s=null;for(let a=0;a<=Pn;a++){let u=kr[a][t];if(u>0){if(s==null&&(s=e.endBinaryShift(n)),!i||a===e.getMode()||a===Mn){const f=s.latchAndAppend(a,u);r.push(f)}if(!i&&Pr[e.getMode()][a]>=0){const f=s.shiftAndAppend(a,u);r.push(f)}}}if(e.getBinaryShiftByteCount()>0||kr[e.getMode()][t]===0){let a=e.addBinaryShiftChar(n);r.push(a)}}static updateStateListForPair(e,n,r){const t=[];for(let i of e)this.updateStateForPair(i,n,r,t);return this.simplifyStates(t)}static updateStateForPair(e,n,r,t){let i=e.endBinaryShift(n);if(t.push(i.latchAndAppend(Pn,r)),e.getMode()!==Pn&&t.push(i.shiftAndAppend(Pn,r)),r===3||r===4){let s=i.latchAndAppend(Mn,16-r).latchAndAppend(Mn,1);t.push(s)}if(e.getBinaryShiftByteCount()>0){let s=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);t.push(s)}}static simplifyStates(e){let n=[];for(const r of e){let t=!0;for(const i of n){if(i.isBetterThanOrEqualTo(r)){t=!1;break}r.isBetterThanOrEqualTo(i)&&(n=n.filter(s=>s!==i))}t&&n.push(r)}return n}}class Ct{constructor(){}static encodeBytes(e){return Ct.encode(e,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let t=new zi(e).encode(),i=Z.truncDivision(t.getSize()*n,100)+11,s=t.getSize()+i,a,u,f,p,x;if(r!==Ct.DEFAULT_AZTEC_LAYERS){if(a=r<0,u=Math.abs(r),u>(a?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new v(ae.format("Illegal value %s for layers",r));f=Ct.totalBitsInLayer(u,a),p=Ct.WORD_SIZE[u];let K=f-f%p;if(x=Ct.stuffBits(t,p),x.getSize()+i>K)throw new v("Data to large for user specified layer");if(a&&x.getSize()>p*64)throw new v("Data to large for user specified layer")}else{p=0,x=null;for(let K=0;;K++){if(K>Ct.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(a=K<=3,u=a?K+1:K,f=Ct.totalBitsInLayer(u,a),s>f)continue;(x==null||p!==Ct.WORD_SIZE[u])&&(p=Ct.WORD_SIZE[u],x=Ct.stuffBits(t,p));let Te=f-f%p;if(!(a&&x.getSize()>p*64)&&x.getSize()+i<=Te)break}}let y=Ct.generateCheckWords(x,f,p),C=x.getSize()/p,M=Ct.generateModeMessage(a,u,C),L=(a?11:14)+u*4,F=new Int32Array(L),V;if(a){V=L;for(let K=0;K<F.length;K++)F[K]=K}else{V=L+1+2*Z.truncDivision(Z.truncDivision(L,2)-1,15);let K=Z.truncDivision(L,2),Te=Z.truncDivision(V,2);for(let Ee=0;Ee<K;Ee++){let st=Ee+Z.truncDivision(Ee,15);F[K-Ee-1]=Te-st-1,F[K+Ee]=Te+st+1}}let ce=new lt(V);for(let K=0,Te=0;K<u;K++){let Ee=(u-K)*4+(a?9:12);for(let st=0;st<Ee;st++){let kt=st*2;for(let Ht=0;Ht<2;Ht++)y.get(Te+kt+Ht)&&ce.set(F[K*2+Ht],F[K*2+st]),y.get(Te+Ee*2+kt+Ht)&&ce.set(F[K*2+st],F[L-1-K*2-Ht]),y.get(Te+Ee*4+kt+Ht)&&ce.set(F[L-1-K*2-Ht],F[L-1-K*2-st]),y.get(Te+Ee*6+kt+Ht)&&ce.set(F[L-1-K*2-st],F[K*2+Ht])}Te+=Ee*8}if(Ct.drawModeMessage(ce,a,V,M),a)Ct.drawBullsEye(ce,Z.truncDivision(V,2),5);else{Ct.drawBullsEye(ce,Z.truncDivision(V,2),7);for(let K=0,Te=0;K<Z.truncDivision(L,2)-1;K+=15,Te+=16)for(let Ee=Z.truncDivision(V,2)&1;Ee<V;Ee+=2)ce.set(Z.truncDivision(V,2)-Te,Ee),ce.set(Z.truncDivision(V,2)+Te,Ee),ce.set(Ee,Z.truncDivision(V,2)-Te),ce.set(Ee,Z.truncDivision(V,2)+Te)}let he=new cs;return he.setCompact(a),he.setSize(V),he.setLayers(u),he.setCodeWords(C),he.setMatrix(ce),he}static drawBullsEye(e,n,r){for(let t=0;t<r;t+=2)for(let i=n-t;i<=n+t;i++)e.set(i,n-t),e.set(i,n+t),e.set(n-t,i),e.set(n+t,i);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let t=new O;return e?(t.appendBits(n-1,2),t.appendBits(r-1,6),t=Ct.generateCheckWords(t,28,4)):(t.appendBits(n-1,5),t.appendBits(r-1,11),t=Ct.generateCheckWords(t,40,4)),t}static drawModeMessage(e,n,r,t){let i=Z.truncDivision(r,2);if(n)for(let s=0;s<7;s++){let a=i-3+s;t.get(s)&&e.set(a,i-5),t.get(s+7)&&e.set(i+5,a),t.get(20-s)&&e.set(a,i+5),t.get(27-s)&&e.set(i-5,a)}else for(let s=0;s<10;s++){let a=i-5+s+Z.truncDivision(s,5);t.get(s)&&e.set(a,i-7),t.get(s+10)&&e.set(i+7,a),t.get(29-s)&&e.set(a,i+7),t.get(39-s)&&e.set(i-7,a)}}static generateCheckWords(e,n,r){let t=e.getSize()/r,i=new Mr(Ct.getGF(r)),s=Z.truncDivision(n,r),a=Ct.bitsToWords(e,r,s);i.encode(a,s-t);let u=n%r,f=new O;f.appendBits(0,u);for(const p of Array.from(a))f.appendBits(p,r);return f}static bitsToWords(e,n,r){let t=new Int32Array(r),i,s;for(i=0,s=e.getSize()/n;i<s;i++){let a=0;for(let u=0;u<n;u++)a|=e.get(i*n+u)?1<<n-u-1:0;t[i]=a}return t}static getGF(e){switch(e){case 4:return pe.AZTEC_PARAM;case 6:return pe.AZTEC_DATA_6;case 8:return pe.AZTEC_DATA_8;case 10:return pe.AZTEC_DATA_10;case 12:return pe.AZTEC_DATA_12;default:throw new v("Unsupported word size "+e)}}static stuffBits(e,n){let r=new O,t=e.getSize(),i=(1<<n)-2;for(let s=0;s<t;s+=n){let a=0;for(let u=0;u<n;u++)(s+u>=t||e.get(s+u))&&(a|=1<<n-1-u);(a&i)===i?(r.appendBits(a&i,n),s--):a&i?r.appendBits(a,n):(r.appendBits(a|1,n),s--)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ar{encode(e,n,r,t){return this.encodeWithHints(e,n,r,t,null)}encodeWithHints(e,n,r,t,i){let s=sr.ISO_8859_1,a=Ct.DEFAULT_EC_PERCENT,u=Ct.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(on.CHARACTER_SET)&&(s=ls.forName(i.get(on.CHARACTER_SET).toString())),i.has(on.ERROR_CORRECTION)&&(a=Z.parseInt(i.get(on.ERROR_CORRECTION).toString())),i.has(on.AZTEC_LAYERS)&&(u=Z.parseInt(i.get(on.AZTEC_LAYERS).toString()))),ar.encodeLayers(e,n,r,t,s,a,u)}static encodeLayers(e,n,r,t,i,s,a){if(n!==se.AZTEC)throw new v("Can only encode AZTEC, but got "+n);let u=Ct.encode(ae.getBytes(e,i),s,a);return ar.renderResult(u,r,t)}static renderResult(e,n,r){let t=e.getMatrix();if(t==null)throw new At;let i=t.getWidth(),s=t.getHeight(),a=Math.max(n,i),u=Math.max(r,s),f=Math.min(a/i,u/s),p=(a-i*f)/2,x=(u-s*f)/2,y=new lt(a,u);for(let C=0,M=x;C<s;C++,M+=f)for(let L=0,F=p;L<i;L++,F+=f)t.get(L,C)&&y.setRegion(F,M,f,f);return y}}l.AbstractExpandedDecoder=ge,l.ArgumentException=b,l.ArithmeticException=ze,l.AztecCode=cs,l.AztecCodeReader=Tn,l.AztecCodeWriter=ar,l.AztecDecoder=re,l.AztecDetector=xn,l.AztecDetectorResult=xe,l.AztecEncoder=Ct,l.AztecHighLevelEncoder=zi,l.AztecPoint=dt,l.BarcodeFormat=se,l.Binarizer=B,l.BinaryBitmap=R,l.BitArray=O,l.BitMatrix=lt,l.BitSource=di,l.BrowserAztecCodeReader=Hn,l.BrowserBarcodeReader=bi,l.BrowserCodeReader=Pe,l.BrowserDatamatrixCodeReader=gi,l.BrowserMultiFormatReader=os,l.BrowserPDF417Reader=zs,l.BrowserQRCodeReader=Ws,l.BrowserQRCodeSvgWriter=mi,l.CharacterSetECI=W,l.ChecksumException=j,l.Code128Reader=ue,l.Code39Reader=Mt,l.DataMatrixDecodedBitStreamParser=gn,l.DataMatrixReader=Ln,l.DecodeHintType=U,l.DecoderResult=_e,l.DefaultGridSampler=rt,l.DetectorResult=We,l.EAN13Reader=mn,l.EncodeHintType=on,l.Exception=m,l.FormatException=D,l.GenericGF=pe,l.GenericGFPoly=it,l.GlobalHistogramBinarizer=yt,l.GridSampler=Ge,l.GridSamplerInstance=St,l.HTMLCanvasElementLuminanceSource=Zt,l.HybridBinarizer=ke,l.ITFReader=vt,l.IllegalArgumentException=v,l.IllegalStateException=At,l.InvertedLuminanceSource=Wt,l.LuminanceSource=zt,l.MathUtils=we,l.MultiFormatOneDReader=wn,l.MultiFormatReader=ii,l.MultiFormatWriter=as,l.NotFoundException=q,l.OneDReader=jt,l.PDF417DecodedBitStreamParser=J,l.PDF417DecoderErrorCorrection=Kr,l.PDF417Reader=sn,l.PDF417ResultMetadata=$r,l.PerspectiveTransform=ot,l.PlanarYUVLuminanceSource=zn,l.QRCodeByteMatrix=ji,l.QRCodeDataMask=On,l.QRCodeDecodedBitStreamParser=Vt,l.QRCodeDecoderErrorCorrectionLevel=_t,l.QRCodeDecoderFormatInformation=an,l.QRCodeEncoder=Nt,l.QRCodeEncoderQRCode=xi,l.QRCodeMaskUtil=Gt,l.QRCodeMatrixUtil=tt,l.QRCodeMode=Qe,l.QRCodeReader=yn,l.QRCodeVersion=Ye,l.QRCodeWriter=ri,l.RGBLuminanceSource=Dr,l.RSS14Reader=at,l.RSSExpandedReader=ie,l.ReaderException=ir,l.ReedSolomonDecoder=$e,l.ReedSolomonEncoder=Mr,l.ReedSolomonException=Kt,l.Result=Be,l.ResultMetadataType=de,l.ResultPoint=me,l.StringUtils=ae,l.UnsupportedOperationException=Oe,l.VideoInputDevice=et,l.WhiteRectangleDetector=ye,l.WriterException=Pt,l.ZXingArrays=Q,l.ZXingCharset=ls,l.ZXingInteger=Z,l.ZXingStandardCharsets=sr,l.ZXingStringBuilder=Ie,l.ZXingStringEncoding=Le,l.ZXingSystem=I,l.createAbstractExpandedDecoder=Dt,Object.defineProperty(l,"__esModule",{value:!0})})})(jo,jo.exports);var Yt=jo.exports;const Wf=Wl(Yt),Vf=ic({__proto__:null,default:Wf},[Yt]);var $a=function(){function o(c,l,h){if(this.formatMap=new Map([[Re.QR_CODE,Yt.BarcodeFormat.QR_CODE],[Re.AZTEC,Yt.BarcodeFormat.AZTEC],[Re.CODABAR,Yt.BarcodeFormat.CODABAR],[Re.CODE_39,Yt.BarcodeFormat.CODE_39],[Re.CODE_93,Yt.BarcodeFormat.CODE_93],[Re.CODE_128,Yt.BarcodeFormat.CODE_128],[Re.DATA_MATRIX,Yt.BarcodeFormat.DATA_MATRIX],[Re.MAXICODE,Yt.BarcodeFormat.MAXICODE],[Re.ITF,Yt.BarcodeFormat.ITF],[Re.EAN_13,Yt.BarcodeFormat.EAN_13],[Re.EAN_8,Yt.BarcodeFormat.EAN_8],[Re.PDF_417,Yt.BarcodeFormat.PDF_417],[Re.RSS_14,Yt.BarcodeFormat.RSS_14],[Re.RSS_EXPANDED,Yt.BarcodeFormat.RSS_EXPANDED],[Re.UPC_A,Yt.BarcodeFormat.UPC_A],[Re.UPC_E,Yt.BarcodeFormat.UPC_E],[Re.UPC_EAN_EXTENSION,Yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Vf)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=l,this.logger=h;var g=this.createZXingFormats(c),d=new Map;d.set(Yt.DecodeHintType.POSSIBLE_FORMATS,g),d.set(Yt.DecodeHintType.TRY_HARDER,!1),this.hints=d}return o.prototype.decodeAsync=function(c){var l=this;return new Promise(function(h,g){try{h(l.decode(c))}catch(d){g(d)}})},o.prototype.decode=function(c){var l=new Yt.MultiFormatReader(this.verbose,this.hints),h=new Yt.HTMLCanvasElementLuminanceSource(c),g=new Yt.BinaryBitmap(new Yt.HybridBinarizer(h)),d=l.decode(g);return{text:d.text,format:Xl.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(l,h,g){c.set(l,h)}),c},o.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},o.prototype.createZXingFormats=function(c){for(var l=[],h=0,g=c;h<g.length;h++){var d=g[h];this.formatMap.has(d)?l.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return l},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o}(),Gf=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},Xf=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},el=function(){function o(c,l,h){if(this.formatMap=new Map([[Re.QR_CODE,"qr_code"],[Re.AZTEC,"aztec"],[Re.CODABAR,"codabar"],[Re.CODE_39,"code_39"],[Re.CODE_93,"code_93"],[Re.CODE_128,"code_128"],[Re.DATA_MATRIX,"data_matrix"],[Re.ITF,"itf"],[Re.EAN_13,"ean_13"],[Re.EAN_8,"ean_8"],[Re.PDF_417,"pdf417"],[Re.UPC_A,"upc_a"],[Re.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=l,this.logger=h;var g=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(g),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},o.prototype.decodeAsync=function(c){return Gf(this,void 0,void 0,function(){var l,h;return Xf(this,function(g){switch(g.label){case 0:return[4,this.detector.detect(c)];case 1:if(l=g.sent(),!l||l.length===0)throw"No barcode or QR code detected.";return h=this.selectLargestBarcode(l),[2,{text:h.rawValue,format:Xl.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(c){for(var l=null,h=0,g=0,d=c;g<d.length;g++){var w=d[g],E=w.boundingBox.width*w.boundingBox.height;E>h&&(h=E,l=w)}if(!l)throw"No largest barcode found";return l},o.prototype.createBarcodeDetectorFormats=function(c){for(var l=[],h=0,g=c;h<g.length;h++){var d=g[h];this.formatMap.has(d)?l.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:l}},o.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},o.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(l,h,g){c.set(l,h)}),c},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o}(),tl=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},nl=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Yf=function(){function o(c,l,h,g){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=h,l&&el.isSupported()?(this.primaryDecoder=new el(c,h,g),this.secondaryDecoder=new $a(c,h,g)):this.primaryDecoder=new $a(c,h,g)}return o.prototype.decodeAsync=function(c){return tl(this,void 0,void 0,function(){var l;return nl(this,function(h){switch(h.label){case 0:l=performance.now(),h.label=1;case 1:return h.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,h.sent()];case 3:return this.possiblyLogPerformance(l),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(c){return tl(this,void 0,void 0,function(){var l,h;return nl(this,function(g){switch(g.label){case 0:l=performance.now(),g.label=1;case 1:return g.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,g.sent()];case 3:if(h=g.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw h;case 4:return this.possiblyLogPerformance(l),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(c){if(this.verbose){var l=performance.now()-c;this.executionResults.push(l),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,l=0,h=this.executionResults;l<h.length;l++){var g=h[l];c+=g}var d=c/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o}(),Jo=globalThis&&globalThis.__extends||function(){var o=function(c,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(h[d]=g[d])},o(c,l)};return function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(c,l);function h(){this.constructor=c}c.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),Rs=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},Ls=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Kl=function(){function o(c,l){this.name=c,this.track=l}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(c){var l={};l[this.name]=c;var h={advanced:[l]};return this.track.applyConstraints(h)},o.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var l=c[this.name];return l}return null},o}(),qf=function(o){Jo(c,o);function c(l,h){return o.call(this,l,h)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(l){var h={};h[this.name]=l;var g={advanced:[h]};return this.track.applyConstraints(g)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var l=this.track.getCapabilities(),h=l[this.name];return{min:h.min,max:h.max,step:h.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c}(Kl),Zf=function(o){Jo(c,o);function c(l){return o.call(this,"zoom",l)||this}return c}(qf),Kf=function(o){Jo(c,o);function c(l){return o.call(this,"torch",l)||this}return c}(Kl),Qf=function(){function o(c){this.track=c}return o.prototype.zoomFeature=function(){return new Zf(this.track)},o.prototype.torchFeature=function(){return new Kf(this.track)},o}(),Jf=function(){function o(c,l,h){this.isClosed=!1,this.parentElement=c,this.mediaStream=l,this.callbacks=h,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return o.prototype.createVideoElement=function(c){var l=document.createElement("video");return l.style.width="".concat(c,"px"),l.style.display="block",l.muted=!0,l.setAttribute("muted","true"),l.playsInline=!0,l},o.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var l=function(){var h=c.surface.clientWidth,g=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(h,g),c.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(c,l,h,g){return Rs(this,void 0,void 0,function(){var d,w;return Ls(this,function(E){switch(E.label){case 0:return d=new o(c,l,g),h.aspectRatio?(w={aspectRatio:h.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:E.sent(),E.label=2;case 2:return d.setupSurface(),[2,d]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(c){this.failIfClosed();var l=this,h=function(){setTimeout(c,200),l.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(c){return Rs(this,void 0,void 0,function(){return Ls(this,function(l){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(l,h){var g=c.mediaStream.getVideoTracks(),d=g.length,w=0;c.mediaStream.getVideoTracks().forEach(function(E){c.mediaStream.removeTrack(E),E.stop(),++w,w>=d&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),l())})})},o.prototype.getCapabilities=function(){return new Qf(this.getFirstTrackOrFail())},o}(),$f=function(){function o(c){this.mediaStream=c}return o.prototype.render=function(c,l,h){return Rs(this,void 0,void 0,function(){return Ls(this,function(g){return[2,Jf.create(c,this.mediaStream,l,h)]})})},o.create=function(c){return Rs(this,void 0,void 0,function(){var l,h;return Ls(this,function(g){switch(g.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return l={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(l)];case 1:return h=g.sent(),[2,new o(h)]}})})},o}(),il=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},rl=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},eh=function(){function o(){}return o.failIfNotSupported=function(){return il(this,void 0,void 0,function(){return rl(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(c){return il(this,void 0,void 0,function(){return rl(this,function(l){return[2,$f.create(c)]})})},o}(),th=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},nh=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ih=function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var c=Ir.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(c=Ir.insecureContextCameraQueryError()),Promise.reject(c)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},o.getCamerasFromMediaDevices=function(){return th(this,void 0,void 0,function(){var c,l,h,g,d,w,E;return nh(this,function(S){switch(S.label){case 0:return c=function(m){for(var b=m.getVideoTracks(),v=0,R=b;v<R.length;v++){var j=R[v];j.enabled=!1,j.stop(),m.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return l=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(h=S.sent(),g=[],d=0,w=h;d<w.length;d++)E=w[d],E.kind==="videoinput"&&g.push({id:E.deviceId,label:E.label});return c(l),[2,g]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,l){var h=function(d){for(var w=[],E=0,S=d;E<S.length;E++){var m=S[E];m.kind==="video"&&w.push({id:m.id,label:m.label})}c(w)},g=MediaStreamTrack;g.getSources(h)})},o}(),tn;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(tn||(tn={}));var rh=function(){function o(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return o.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},o.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(c)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(c){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(c,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},o.prototype.failIfNewStateIs=function(c,l){for(var h=0,g=l;h<g.length;h++){var d=g[h];if(c===d)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},o}(),sh=function(){function o(c){this.stateManager=c}return o.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},o.prototype.directTransition=function(c){this.stateManager.directTransition(c)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},o}(),oh=function(){function o(){}return o.create=function(){return new sh(new rh)},o}(),ah=globalThis&&globalThis.__extends||function(){var o=function(c,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(h[d]=g[d])},o(c,l)};return function(c,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(c,l);function h(){this.constructor=c}c.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),Fn=function(o){ah(c,o);function c(){return o!==null&&o.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c}($n),lh=function(){function o(c,l){this.logger=l,this.fps=Fn.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=Fn.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Zl.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!ci(this.qrbox)},o.create=function(c,l){return new o(c,l)},o}(),sl=function(){function o(c,l){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var h;typeof l=="boolean"?this.verbose=l===!0:l&&(h=l,this.verbose=h.verbose===!0,h.experimentalFeatures),this.logger=new ql(this.verbose),this.qrcode=new Yf(this.getSupportedFormats(l),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=oh.create()}return o.prototype.start=function(c,l,h,g){var d=this;if(!c)throw"cameraIdOrConfig is required";if(!h||typeof h!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;g?w=g:w=this.verbose?this.logger.log:function(){};var E=lh.create(l,this.logger);this.clearElement();var S=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=S,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:Fn.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var v=this,R=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(j,B){var I=m?E.videoConstraints:v.createVideoConstraints(c);if(!I){R.cancel(),B("videoConstraints should be defined");return}var H={};(!m||E.aspectRatio)&&(H.aspectRatio=E.aspectRatio);var $={onRenderSurfaceReady:function(Q,Z){v.setupUi(Q,Z,E),v.isScanning=!0,v.foreverScan(E,h,w)}};eh.failIfNotSupported().then(function(Q){Q.create(I).then(function(Z){return Z.render(d.element,H,$).then(function(O){v.renderedCamera=O,R.execute(),j(null)}).catch(function(O){R.cancel(),B(O)})}).catch(function(Z){R.cancel(),B(Ir.errorGettingUserMedia(Z))})}).catch(function(Q){R.cancel(),B(Ir.cameraStreamingNotSupported())})})},o.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(ci(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,l=function(){c.stateManagerProxy.directTransition(tn.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){l();return}this.renderedCamera.resume(function(){l()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var l=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=function(){if(c.element){var d=document.getElementById(Fn.SHADED_REGION_ELEMENT_ID);d&&c.element.removeChild(d)}},g=this;return this.renderedCamera.close().then(function(){return g.renderedCamera=null,g.element&&(g.element.removeChild(g.canvasElement),g.canvasElement=null),h(),g.qrRegion&&(g.qrRegion=null),g.context&&(g.context=null),l.execute(),g.hidePausedState(),g.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(c,l){return this.scanFileV2(c,l).then(function(h){return h.decodedText})},o.prototype.scanFileV2=function(c,l){var h=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ci(l)&&(l=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(g,d){h.possiblyCloseLastScanImageFile(),h.clearElement(),h.lastScanImageFile=URL.createObjectURL(c);var w=new Image;w.onload=function(){var E=w.width,S=w.height,m=document.getElementById(h.elementId),b=m.clientWidth?m.clientWidth:Fn.DEFAULT_WIDTH,v=Math.max(m.clientHeight?m.clientHeight:S,Fn.FILE_SCAN_MIN_HEIGHT),R=h.computeCanvasDrawConfig(E,S,b,v);if(l){var j=h.createCanvasElement(b,v,"qr-canvas-visible");j.style.display="inline-block",m.appendChild(j);var B=j.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=b,B.canvas.height=v,B.drawImage(w,0,0,E,S,R.x,R.y,R.width,R.height)}var I=Fn.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(w.width,R.width),$=Math.max(w.height,R.height),Q=H+2*I,Z=$+2*I,O=h.createCanvasElement(Q,Z);m.appendChild(O);var ee=O.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=Q,ee.canvas.height=Z,ee.drawImage(w,0,0,E,S,I,I,H,$);try{h.qrcode.decodeRobustlyAsync(O).then(function(U){g(Qa.createFromQrcodeResult(U))}).catch(d)}catch(U){d("QR code parse error, error = ".concat(U))}},w.onerror=d,w.onabort=d,w.onstalled=d,w.onsuspend=d,w.src=URL.createObjectURL(c)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return ih.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(c){if(c){if(!Zl.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(c){var l=[Re.QR_CODE,Re.AZTEC,Re.CODABAR,Re.CODE_39,Re.CODE_93,Re.CODE_128,Re.DATA_MATRIX,Re.MAXICODE,Re.ITF,Re.EAN_13,Re.EAN_8,Re.PDF_417,Re.RSS_14,Re.RSS_EXPANDED,Re.UPC_A,Re.UPC_E,Re.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return l;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var h=[],g=0,d=c.formatsToSupport;g<d.length;g++){var w=d[g];Hf(w)?h.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(h.length===0)throw"None of formatsToSupport match supported values.";return h},o.prototype.getUseBarCodeDetectorIfSupported=function(c){if(ci(c))return!0;if(!ci(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if(ci(c.experimentalFeatures))return!0;var l=c.experimentalFeatures;return ci(l.useBarCodeDetectorIfSupported)?!0:l.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(c,l,h){var g=this,d=h.qrbox;this.validateQrboxConfig(d);var w=this.toQrdimensions(c,l,d),E=function(m){if(m<Fn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Fn.MIN_QR_BOX_SIZE,"px.")},S=function(m){return m>c&&(g.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=c),m};E(w.width),E(w.height),w.width=S(w.width)},o.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(c,l,h){if(typeof h=="number")return{width:h,height:h};if(typeof h=="function")try{return h(c,l)}catch(g){throw new Error("qrbox config was passed as a function but it failed with unknown error"+g)}return h},o.prototype.setupUi=function(c,l,h){h.isShadedBoxEnabled()&&this.validateQrboxSize(c,l,h);var g=ci(h.qrbox)?{width:c,height:l}:h.qrbox;this.validateQrboxConfig(g);var d=this.toQrdimensions(c,l,g);d.height>l&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=h.isShadedBoxEnabled()&&d.height<=l,E={x:0,y:0,width:c,height:l},S=w?this.getShadedRegionBounds(c,l,d):E,m=this.createCanvasElement(S.width,S.height),b={willReadFrequently:!0},v=m.getContext("2d",b);v.canvas.width=S.width,v.canvas.height=S.height,this.element.append(m),w&&this.possiblyInsertShadingElement(this.element,c,l,d),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=v,this.canvasElement=m},o.prototype.createScannerPausedUiElement=function(c){var l=document.createElement("div");l.innerText=Ir.scannerPaused(),l.style.display="none",l.style.position="absolute",l.style.top="0px",l.style.zIndex="1",l.style.background="rgba(9, 9, 9, 0.46)",l.style.color="#FFECEC",l.style.textAlign="center",l.style.width="100%",c.appendChild(l),this.scannerPausedUiElement=l},o.prototype.scanContext=function(c,l){var h=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(g){return c(g.text,Qa.createFromQrcodeResult(g)),h.possiblyUpdateShaders(!0),!0}).catch(function(g){h.possiblyUpdateShaders(!1);var d=Ir.codeParseError(g);return l(d,Yl.createFrom(d)),!1})},o.prototype.foreverScan=function(c,l,h){var g=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),w=d.videoWidth/d.clientWidth,E=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*w,m=this.qrRegion.height*E,b=this.qrRegion.x*w,v=this.qrRegion.y*E;this.context.drawImage(d,b,v,S,m,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){g.foreverScanTimeout=setTimeout(function(){g.foreverScan(c,l,h)},g.getTimeoutFps(c.fps))};this.scanContext(l,h).then(function(j){!j&&c.disableFlip!==!0?(g.context.translate(g.context.canvas.width,0),g.context.scale(-1,1),g.scanContext(l,h).finally(function(){R()})):R()}).catch(function(j){g.logger.logError("Error happend while scanning context",j),R()})}},o.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var l="facingMode",h="deviceId",g={user:!0,environment:!0},d="exact",w=function(B){if(B in g)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},E=Object.keys(c);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var S=Object.keys(c)[0];if(S!==l&&S!==h)throw"Only '".concat(l,"' and '").concat(h,"' ")+" are supported for 'cameraIdOrConfig'";if(S===l){var m=c.facingMode;if(typeof m=="string"){if(w(m))return{facingMode:m}}else if(typeof m=="object")if(d in m){if(w(m["".concat(d)]))return{facingMode:{exact:m["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var v=c.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(d in v)return{deviceId:{exact:v["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var R=typeof v;throw"Invalid type of 'deviceId' = ".concat(R)}}}var j=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},o.prototype.computeCanvasDrawConfig=function(c,l,h,g){if(c<=h&&l<=g){var d=(h-c)/2,w=(g-l)/2;return{x:d,y:w,width:c,height:l}}else{var E=c,S=l;return c>h&&(l=h/c*l,c=h),l>g&&(c=g/l*c,l=g),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(S)+" to ".concat(c,"X").concat(l,".")),this.computeCanvasDrawConfig(c,l,h,g)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},o.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(l){l.style.backgroundColor=c?Fn.BORDER_SHADER_MATCH_COLOR:Fn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(c,l,h){var g=c,d=l,w=document.createElement("canvas");return w.style.width="".concat(g,"px"),w.style.height="".concat(d,"px"),w.style.display="none",w.id=ci(h)?"qr-canvas":h,w},o.prototype.getShadedRegionBounds=function(c,l,h){if(h.width>c||h.height>l)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-h.width)/2,y:(l-h.height)/2,width:h.width,height:h.height}},o.prototype.possiblyInsertShadingElement=function(c,l,h,g){if(!(l-g.width<1||h-g.height<1)){var d=document.createElement("div");d.style.position="absolute";var w=(l-g.width)/2,E=(h-g.height)/2;if(d.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Fn.SHADED_REGION_ELEMENT_ID),l-g.width<11||h-g.height<11)this.hasBorderShaders=!1;else{var S=5,m=40;this.insertShaderBorders(d,m,S,-S,null,0,!0),this.insertShaderBorders(d,m,S,-S,null,0,!1),this.insertShaderBorders(d,m,S,null,-S,0,!0),this.insertShaderBorders(d,m,S,null,-S,0,!1),this.insertShaderBorders(d,S,m+S,-S,null,-S,!0),this.insertShaderBorders(d,S,m+S,null,-S,-S,!0),this.insertShaderBorders(d,S,m+S,-S,null,-S,!1),this.insertShaderBorders(d,S,m+S,null,-S,-S,!1),this.hasBorderShaders=!0}c.append(d)}},o.prototype.insertShaderBorders=function(c,l,h,g,d,w,E){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Fn.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(l,"px"),S.style.height="".concat(h,"px"),g!==null&&(S.style.top="".concat(g,"px")),d!==null&&(S.style.bottom="".concat(d,"px")),E?S.style.left="".concat(w,"px"):S.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),c.appendChild(S)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(c){return 1e3/c},o}(),$o="data:image/svg+xml;base64,",ch=$o+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",uh=$o+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ol=$o+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",fh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",al=function(){function o(){}return o.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},o}(),hh=function(){function o(){this.data=al.createDefault();var c=localStorage.getItem(o.LOCAL_STORAGE_KEY);c?this.data=JSON.parse(c):this.reset()}return o.prototype.hasCameraPermissions=function(){return this.data.hasPermission},o.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},o.prototype.setHasPermission=function(c){this.data.hasPermission=c,this.flush()},o.prototype.setLastUsedCameraId=function(c){this.data.lastUsedCameraId=c,this.flush()},o.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},o.prototype.reset=function(){this.data=al.createDefault(),this.flush()},o.prototype.flush=function(){localStorage.setItem(o.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},o.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",o}(),dh=function(){function o(){this.infoDiv=document.createElement("div")}return o.prototype.renderInto=function(c){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ja.poweredBy();var l=document.createElement("a");l.innerText="ScanApp",l.href="https://scanapp.org",l.target="new",l.style.color="white",this.infoDiv.appendChild(l);var h=document.createElement("br"),g=document.createElement("br");this.infoDiv.appendChild(h),this.infoDiv.appendChild(g);var d=document.createElement("a");d.innerText=Ja.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),c.appendChild(this.infoDiv)},o.prototype.show=function(){this.infoDiv.style.display="block"},o.prototype.hide=function(){this.infoDiv.style.display="none"},o}(),gh=function(){function o(c,l){this.isShowingInfoIcon=!0,this.onTapIn=c,this.onTapOut=l,this.infoIcon=document.createElement("img")}return o.prototype.renderInto=function(c){var l=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ol,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(h){return l.onHoverIn()},this.infoIcon.onmouseout=function(h){return l.onHoverOut()},this.infoIcon.onclick=function(h){return l.onClick()},c.appendChild(this.infoIcon)},o.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},o.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},o.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=fh,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ol,this.infoIcon.style.opacity="0.6")},o}(),ph=function(){function o(){var c=this;this.infoDiv=new dh,this.infoIcon=new gh(function(){c.infoDiv.show()},function(){c.infoDiv.hide()})}return o.prototype.renderInto=function(c){this.infoDiv.renderInto(c),this.infoIcon.renderInto(c)},o}(),xh=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},mh=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ll=function(){function o(){}return o.hasPermissions=function(){return xh(this,void 0,void 0,function(){var c,l,h,g;return mh(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(c=d.sent(),l=0,h=c;l<h.length;l++)if(g=h[l],g.kind==="videoinput"&&g.label)return[2,!0];return[2,!1]}})})},o}(),Ni=function(){function o(c){this.supportedScanTypes=this.validateAndReturnScanTypes(c)}return o.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},o.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},o.prototype.isCameraScanRequired=function(){for(var c=0,l=this.supportedScanTypes;c<l.length;c++){var h=l[c];if(o.isCameraScanType(h))return!0}return!1},o.isCameraScanType=function(c){return c===Mi.SCAN_TYPE_CAMERA},o.isFileScanType=function(c){return c===Mi.SCAN_TYPE_FILE},o.prototype.validateAndReturnScanTypes=function(c){if(!c||c.length===0)return $n.DEFAULT_SUPPORTED_SCAN_TYPE;var l=$n.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(c.length>l)throw"Max ".concat(l," values expected for ")+"supportedScanTypes";for(var h=0,g=c;h<g.length;h++){var d=g[h];if(!$n.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return c},o}(),jn=function(){function o(){}return o.ALL_ELEMENT_CLASS="html5-qrcode-element",o.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",o.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",o.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",o.TORCH_BUTTON_ID="html5-qrcode-button-torch",o.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",o.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",o.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",o.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",o.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",o.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",o}(),yi=function(){function o(){}return o.createElement=function(c,l){var h=document.createElement(c);return h.id=l,h.classList.add(jn.ALL_ELEMENT_CLASS),c==="button"&&h.setAttribute("type","button"),h},o}(),Ql=globalThis&&globalThis.__awaiter||function(o,c,l,h){function g(d){return d instanceof l?d:new l(function(w){w(d)})}return new(l||(l=Promise))(function(d,w){function E(b){try{m(h.next(b))}catch(v){w(v)}}function S(b){try{m(h.throw(b))}catch(v){w(v)}}function m(b){b.done?d(b.value):g(b.value).then(E,S)}m((h=h.apply(o,c||[])).next())})},Jl=globalThis&&globalThis.__generator||function(o,c){var l={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},h,g,d,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(m){return function(b){return S([m,b])}}function S(m){if(h)throw new TypeError("Generator is already executing.");for(;w&&(w=0,m[0]&&(l=0)),l;)try{if(h=1,g&&(d=m[0]&2?g.return:m[0]?g.throw||((d=g.return)&&d.call(g),0):g.next)&&!(d=d.call(g,m[1])).done)return d;switch(g=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,g=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(d=l.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){l=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){l.label=m[1];break}if(m[0]===6&&l.label<d[1]){l.label=d[1],d=m;break}if(d&&l.label<d[2]){l.label=d[2],l.ops.push(m);break}d[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(o,l)}catch(b){m=[6,b],g=0}finally{h=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},cl=function(){function o(c,l,h){this.isTorchOn=!1,this.torchCapability=c,this.buttonController=l,this.onTorchActionFailureCallback=h}return o.prototype.isTorchEnabled=function(){return this.isTorchOn},o.prototype.flipState=function(){return Ql(this,void 0,void 0,function(){var c,l;return Jl(this,function(h){switch(h.label){case 0:this.buttonController.disable(),c=!this.isTorchOn,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.torchCapability.apply(c)];case 2:return h.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),c),[3,4];case 3:return l=h.sent(),this.propagateFailure(c,l),this.buttonController.enable(),[3,4];case 4:return[2]}})})},o.prototype.updateUiBasedOnLatestSettings=function(c,l){c===l?(this.buttonController.setText(l?Ft.torchOffButton():Ft.torchOnButton()),this.isTorchOn=l):this.propagateFailure(l),this.buttonController.enable()},o.prototype.propagateFailure=function(c,l){var h=c?Ft.torchOnFailedMessage():Ft.torchOffFailedMessage();l&&(h+="; Error = "+l),this.onTorchActionFailureCallback(h)},o.prototype.reset=function(){this.isTorchOn=!1},o}(),wh=function(){function o(c,l){this.onTorchActionFailureCallback=l,this.torchButton=yi.createElement("button",jn.TORCH_BUTTON_ID),this.torchController=new cl(c,this,l)}return o.prototype.render=function(c,l){var h=this;this.torchButton.innerText=Ft.torchOnButton(),this.torchButton.style.display=l.display,this.torchButton.style.marginLeft=l.marginLeft;var g=this;this.torchButton.addEventListener("click",function(d){return Ql(h,void 0,void 0,function(){return Jl(this,function(w){switch(w.label){case 0:return[4,g.torchController.flipState()];case 1:return w.sent(),g.torchController.isTorchEnabled()?(g.torchButton.classList.remove(jn.TORCH_BUTTON_CLASS_TORCH_OFF),g.torchButton.classList.add(jn.TORCH_BUTTON_CLASS_TORCH_ON)):(g.torchButton.classList.remove(jn.TORCH_BUTTON_CLASS_TORCH_ON),g.torchButton.classList.add(jn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),c.appendChild(this.torchButton)},o.prototype.updateTorchCapability=function(c){this.torchController=new cl(c,this,this.onTorchActionFailureCallback)},o.prototype.getTorchButton=function(){return this.torchButton},o.prototype.hide=function(){this.torchButton.style.display="none"},o.prototype.show=function(){this.torchButton.style.display="inline-block"},o.prototype.disable=function(){this.torchButton.disabled=!0},o.prototype.enable=function(){this.torchButton.disabled=!1},o.prototype.setText=function(c){this.torchButton.innerText=c},o.prototype.reset=function(){this.torchButton.innerText=Ft.torchOnButton(),this.torchController.reset()},o.create=function(c,l,h,g){var d=new o(l,g);return d.render(c,h),d},o}(),yh=function(){function o(c,l,h){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=l?"block":"none",c.appendChild(this.fileBasedScanRegion);var g=document.createElement("label");g.setAttribute("for",this.getFileScanInputId()),g.style.display="inline-block",this.fileBasedScanRegion.appendChild(g),this.fileSelectionButton=yi.createElement("button",jn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){g.click()}),g.append(this.fileSelectionButton),this.fileScanInput=yi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",g.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var S=E.target;if(!(S.files&&S.files.length===0)){var m=S.files,b=m[0],v=b.name;d.setImageNameToButton(v),h(b)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(E){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var S=E.dataTransfer;if(S){var m=S.files;if(!m||m.length===0)return;for(var b=!1,v=0;v<m.length;++v){var R=m.item(v);if(R){var j=/image.*/;if(R.type.match(j)){b=!0;var B=R.name;d.setImageNameToButton(B),h(R),w.innerText=Ft.dragAndDropMessage();break}}}b||(w.innerText=Ft.dragAndDropMessageOnlyImages())}})}return o.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},o.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},o.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},o.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},o.prototype.createFileBasedScanRegion=function(){var c=document.createElement("div");return c.style.textAlign="center",c.style.margin="auto",c.style.width="80%",c.style.maxWidth="600px",c.style.border=this.fileBasedScanRegionDefaultBorder(),c.style.padding="10px",c.style.marginBottom="10px",c},o.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},o.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},o.prototype.createDragAndDropMessage=function(){var c=document.createElement("div");return c.innerText=Ft.dragAndDropMessage(),c.style.fontWeight="400",c},o.prototype.setImageNameToButton=function(c){var l=20;if(c.length>l){var h=c.substring(0,8),g=c.length,d=c.substring(g-8,g);c="".concat(h,"....").concat(d)}var w=Ft.fileSelectionChooseAnother()+" - "+c;this.fileSelectionButton.innerText=w},o.prototype.setInitialValueToButton=function(){var c=Ft.fileSelectionChooseImage()+" - "+Ft.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=c},o.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},o.create=function(c,l,h){var g=new o(c,l,h);return g},o}(),Ah=function(){function o(c){this.selectElement=yi.createElement("select",jn.CAMERA_SELECTION_SELECT_ID),this.cameras=c,this.options=[]}return o.prototype.render=function(c){var l=document.createElement("span");l.style.marginRight="10px";var h=this.cameras.length;if(h===0)throw new Error("No cameras found");if(h===1)l.style.display="none";else{var g=Ft.selectCamera();l.innerText="".concat(g," (").concat(this.cameras.length,")  ")}for(var d=1,w=0,E=this.cameras;w<E.length;w++){var S=E[w],m=S.id,b=S.label==null?m:S.label;(!b||b==="")&&(b=[Ft.anonymousCameraPrefix(),d++].join(" "));var v=document.createElement("option");v.value=m,v.innerText=b,this.options.push(v),this.selectElement.appendChild(v)}l.appendChild(this.selectElement),c.appendChild(l)},o.prototype.disable=function(){this.selectElement.disabled=!0},o.prototype.isDisabled=function(){return this.selectElement.disabled===!0},o.prototype.enable=function(){this.selectElement.disabled=!1},o.prototype.getValue=function(){return this.selectElement.value},o.prototype.hasValue=function(c){for(var l=0,h=this.options;l<h.length;l++){var g=h[l];if(g.value===c)return!0}return!1},o.prototype.setValue=function(c){if(!this.hasValue(c))throw new Error("".concat(c," is not present in the camera list."));this.selectElement.value=c},o.prototype.hasSingleItem=function(){return this.cameras.length===1},o.prototype.numCameras=function(){return this.cameras.length},o.create=function(c,l){var h=new o(l);return h.render(c),h},o}(),Eh=function(){function o(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=yi.createElement("input",jn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return o.prototype.render=function(c,l){this.zoomElementContainer.style.display=l?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",c.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var h=Ft.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(h),this.rangeText.style.marginRight="10px";var g=this;this.rangeInput.addEventListener("input",function(){return g.onValueChange()}),this.rangeInput.addEventListener("change",function(){return g.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},o.prototype.onValueChange=function(){var c=Ft.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},o.prototype.setValues=function(c,l,h,g){this.rangeInput.min=c.toString(),this.rangeInput.max=l.toString(),this.rangeInput.step=g.toString(),this.rangeInput.value=h.toString(),this.onValueChange()},o.prototype.show=function(){this.zoomElementContainer.style.display="block"},o.prototype.hide=function(){this.zoomElementContainer.style.display="none"},o.prototype.setOnCameraZoomValueChangeCallback=function(c){this.onChangeCallback=c},o.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},o.create=function(c,l){var h=new o;return h.render(c,l),h},o}(),Un;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Un||(Un={}));function Ch(o){return{fps:o.fps,qrbox:o.qrbox,aspectRatio:o.aspectRatio,disableFlip:o.disableFlip,videoConstraints:o.videoConstraints}}function bh(o,c){return{formatsToSupport:o.formatsToSupport,useBarCodeDetectorIfSupported:o.useBarCodeDetectorIfSupported,experimentalFeatures:o.experimentalFeatures,verbose:c}}var vh=function(){function o(c,l,h){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=c,this.config=this.createConfig(l),this.verbose=h===!0,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.scanTypeSelector=new Ni(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ql(this.verbose),this.persistedDataManager=new hh,l.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return o.prototype.render=function(c,l){var h=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,w){if(c)c(d,w);else{if(h.lastMatchFound===d)return;h.lastMatchFound=d,h.setHeaderMessage(Ft.lastMatch(d),Un.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,w){l&&l(d,w)};var g=document.getElementById(this.elementId);if(!g)throw"HTML Element with id=".concat(this.elementId," not found");g.innerHTML="",this.createBasicLayout(g),this.html5Qrcode=new sl(this.getScanRegionId(),bh(this.config,this.verbose))},o.prototype.pause=function(c){(ci(c)||c!==!0)&&(c=!1),this.getHtml5QrcodeOrFail().pause(c)},o.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},o.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},o.prototype.clear=function(){var c=this,l=function(){var h=document.getElementById(c.elementId);h&&(h.innerHTML="",c.resetBasicLayout(h))};return this.html5Qrcode?new Promise(function(h,g){if(!c.html5Qrcode){h();return}c.html5Qrcode.isScanning?c.html5Qrcode.stop().then(function(d){if(!c.html5Qrcode){h();return}c.html5Qrcode.clear(),l(),h()}).catch(function(d){c.verbose&&c.logger.logError("Unable to stop qrcode scanner",d),g(d)}):(c.html5Qrcode.clear(),l(),h())}):Promise.resolve()},o.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},o.prototype.applyVideoConstraints=function(c){return this.getHtml5QrcodeOrFail().applyVideoConstraints(c)},o.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},o.prototype.createConfig=function(c){return c?(c.fps||(c.fps=$n.SCAN_DEFAULT_FPS),c.rememberLastUsedCamera!==!$n.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(c.rememberLastUsedCamera=$n.DEFAULT_REMEMBER_LAST_CAMERA_USED),c.supportedScanTypes||(c.supportedScanTypes=$n.DEFAULT_SUPPORTED_SCAN_TYPE),c):{fps:$n.SCAN_DEFAULT_FPS,rememberLastUsedCamera:$n.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:$n.DEFAULT_SUPPORTED_SCAN_TYPE}},o.prototype.createBasicLayout=function(c){c.style.position="relative",c.style.padding="0px",c.style.border="1px solid silver",this.createHeader(c);var l=document.createElement("div"),h=this.getScanRegionId();l.id=h,l.style.width="100%",l.style.minHeight="100px",l.style.textAlign="center",c.appendChild(l),Ni.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var g=document.createElement("div"),d=this.getDashboardId();g.id=d,g.style.width="100%",c.appendChild(g),this.setupInitialDashboard(g)},o.prototype.resetBasicLayout=function(c){c.style.border="none"},o.prototype.setupInitialDashboard=function(c){this.createSection(c),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},o.prototype.createHeader=function(c){var l=document.createElement("div");l.style.textAlign="left",l.style.margin="0px",c.appendChild(l);var h=new ph;h.renderInto(l);var g=document.createElement("div");g.id=this.getHeaderMessageContainerId(),g.style.display="none",g.style.textAlign="center",g.style.fontSize="14px",g.style.padding="2px 10px",g.style.margin="4px",g.style.borderTop="1px solid #f6f6f6",l.appendChild(g)},o.prototype.createSection=function(c){var l=document.createElement("div");l.id=this.getDashboardSectionId(),l.style.width="100%",l.style.padding="10px 0px 10px 0px",l.style.textAlign="left",c.appendChild(l)},o.prototype.createCameraListUi=function(c,l,h){var g=this;g.showHideScanTypeSwapLink(!1),g.setHeaderMessage(Ft.cameraPermissionRequesting());var d=function(){h||g.createPermissionButton(c,l)};sl.getCameras().then(function(w){g.persistedDataManager.setHasPermission(!0),g.showHideScanTypeSwapLink(!0),g.resetHeaderMessage(),w&&w.length>0?(c.removeChild(l),g.renderCameraSelection(w)):(g.setHeaderMessage(Ft.noCameraFound(),Un.STATUS_WARNING),d())}).catch(function(w){g.persistedDataManager.setHasPermission(!1),h?h.disabled=!1:d(),g.setHeaderMessage(w,Un.STATUS_WARNING),g.showHideScanTypeSwapLink(!0)})},o.prototype.createPermissionButton=function(c,l){var h=this,g=yi.createElement("button",this.getCameraPermissionButtonId());g.innerText=Ft.cameraPermissionTitle(),g.addEventListener("click",function(){g.disabled=!0,h.createCameraListUi(c,l,g)}),l.appendChild(g)},o.prototype.createPermissionsUi=function(c,l){var h=this;if(Ni.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ll.hasPermissions().then(function(g){g?h.createCameraListUi(c,l):(h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,l))}).catch(function(g){h.persistedDataManager.setHasPermission(!1),h.createPermissionButton(c,l)});return}this.createPermissionButton(c,l)},o.prototype.createSectionControlPanel=function(){var c=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");c.appendChild(l);var h=document.createElement("div");h.id=this.getDashboardSectionCameraScanRegionId(),h.style.display=Ni.isCameraScanType(this.currentScanType)?"block":"none",l.appendChild(h);var g=document.createElement("div");g.style.textAlign="center",h.appendChild(g),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(h,g),this.renderFileScanUi(l)},o.prototype.renderFileScanUi=function(c){var l=Ni.isFileScanType(this.currentScanType),h=this,g=function(d){if(!h.html5Qrcode)throw"html5Qrcode not defined";Ni.isFileScanType(h.currentScanType)&&(h.setHeaderMessage(Ft.loadingImage()),h.html5Qrcode.scanFileV2(d,!0).then(function(w){h.resetHeaderMessage(),h.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){h.setHeaderMessage(w,Un.STATUS_WARNING),h.qrCodeErrorCallback(w,Yl.createFrom(w))}))};this.fileSelectionUi=yh.create(c,l,g)},o.prototype.renderCameraSelection=function(c){var l=this,h=this,g=document.getElementById(this.getDashboardSectionCameraScanRegionId());g.style.textAlign="center";var d=Eh.create(g,!1),w=function(I){var H=I.zoomFeature();if(H.isSupported()){d.setOnCameraZoomValueChangeCallback(function(Q){H.apply(Q)});var $=1;l.config.defaultZoomValueIfSupported&&($=l.config.defaultZoomValueIfSupported),$=zf($,H.min(),H.max()),d.setValues(H.min(),H.max(),$,H.step()),d.show()}},E=Ah.create(g,c),S=document.createElement("span"),m=yi.createElement("button",jn.CAMERA_START_BUTTON_ID);m.innerText=Ft.scanButtonStartScanningText(),S.appendChild(m);var b=yi.createElement("button",jn.CAMERA_STOP_BUTTON_ID);b.innerText=Ft.scanButtonStopScanningText(),b.style.display="none",b.disabled=!0,S.appendChild(b);var v,R=function(I){if(!I.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(I.torchFeature()):v=wh.create(S,I.torchFeature(),{display:"none",marginLeft:"5px"},function(H){h.setHeaderMessage(H,Un.STATUS_WARNING)}),v.show()};g.appendChild(S);var j=function(I){I||(m.style.display="none"),m.innerText=Ft.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,I&&(m.style.display="inline-block")};if(m.addEventListener("click",function(I){m.innerText=Ft.scanButtonScanningStarting(),E.disable(),m.disabled=!0,m.style.opacity="0.5",l.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!1),h.resetHeaderMessage();var H=E.getValue();h.persistedDataManager.setLastUsedCameraId(H),h.html5Qrcode.start(H,Ch(h.config),h.qrCodeSuccessCallback,h.qrCodeErrorCallback).then(function($){b.disabled=!1,b.style.display="inline-block",j(!1);var Q=h.html5Qrcode.getRunningTrackCameraCapabilities();l.config.showTorchButtonIfSupported===!0&&R(Q),l.config.showZoomSliderIfSupported===!0&&w(Q)}).catch(function($){h.showHideScanTypeSwapLink(!0),E.enable(),j(!0),h.setHeaderMessage($,Un.STATUS_WARNING)})}),E.hasSingleItem()&&m.click(),b.addEventListener("click",function(I){if(!h.html5Qrcode)throw"html5Qrcode not defined";b.disabled=!0,h.html5Qrcode.stop().then(function(H){l.scanTypeSelector.hasMoreThanOneScanType()&&h.showHideScanTypeSwapLink(!0),E.enable(),m.disabled=!1,b.style.display="none",m.style.display="inline-block",v&&(v.reset(),v.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),h.insertCameraScanImageToScanRegion()}).catch(function(H){b.disabled=!1,h.setHeaderMessage(H,Un.STATUS_WARNING)})}),h.persistedDataManager.getLastUsedCameraId()){var B=h.persistedDataManager.getLastUsedCameraId();E.hasValue(B)?(E.setValue(B),m.click()):h.persistedDataManager.resetLastUsedCameraId()}},o.prototype.createSectionSwap=function(){var c=this,l=Ft.textIfCameraScanSelected(),h=Ft.textIfFileScanSelected(),g=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var w=yi.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=Ni.isCameraScanType(this.currentScanType)?l:h,w.addEventListener("click",function(){if(!c.sectionSwapAllowed){c.verbose&&c.logger.logError("Section swap called when not allowed");return}c.resetHeaderMessage(),c.fileSelectionUi.resetValue(),c.sectionSwapAllowed=!1,Ni.isCameraScanType(c.currentScanType)?(c.clearScanRegion(),c.getCameraScanRegion().style.display="none",c.fileSelectionUi.show(),w.innerText=h,c.currentScanType=Mi.SCAN_TYPE_FILE,c.insertFileScanImageToScanRegion()):(c.clearScanRegion(),c.getCameraScanRegion().style.display="block",c.fileSelectionUi.hide(),w.innerText=l,c.currentScanType=Mi.SCAN_TYPE_CAMERA,c.insertCameraScanImageToScanRegion(),c.startCameraScanIfPermissionExistsOnSwap()),c.sectionSwapAllowed=!0}),d.appendChild(w),g.appendChild(d)},o.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var c=this,l=this;if(this.persistedDataManager.hasCameraPermissions()){ll.hasPermissions().then(function(h){if(h){var g=document.getElementById(l.getCameraPermissionButtonId());if(!g)throw c.logger.logError("Permission button not found, fail;"),"Permission button not found";g.click()}else l.persistedDataManager.setHasPermission(!1)}).catch(function(h){l.persistedDataManager.setHasPermission(!1)});return}},o.prototype.resetHeaderMessage=function(){var c=document.getElementById(this.getHeaderMessageContainerId());c.style.display="none"},o.prototype.setHeaderMessage=function(c,l){l||(l=Un.STATUS_DEFAULT);var h=this.getHeaderMessageDiv();switch(h.innerText=c,h.style.display="block",l){case Un.STATUS_SUCCESS:h.style.background="rgba(106, 175, 80, 0.26)",h.style.color="#477735";break;case Un.STATUS_WARNING:h.style.background="rgba(203, 36, 49, 0.14)",h.style.color="#cb2431";break;case Un.STATUS_DEFAULT:default:h.style.background="rgba(0, 0, 0, 0)",h.style.color="rgb(17, 17, 17)";break}},o.prototype.showHideScanTypeSwapLink=function(c){this.scanTypeSelector.hasMoreThanOneScanType()&&(c!==!0&&(c=!1),this.sectionSwapAllowed=c,this.getDashboardSectionSwapLink().style.display=c?"inline-block":"none")},o.prototype.insertCameraScanImageToScanRegion=function(){var c=this,l=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){l.innerHTML="<br>",l.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(h){l.innerHTML="<br>",l.appendChild(c.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ch,this.cameraScanImage.alt=Ft.cameraScanAltText()},o.prototype.insertFileScanImageToScanRegion=function(){var c=this,l=document.getElementById(this.getScanRegionId());if(this.fileScanImage){l.innerHTML="<br>",l.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(h){l.innerHTML="<br>",l.appendChild(c.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=uh,this.fileScanImage.alt=Ft.fileScanAltText()},o.prototype.clearScanRegion=function(){var c=document.getElementById(this.getScanRegionId());c.innerHTML=""},o.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},o.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},o.prototype.getDashboardSectionSwapLinkId=function(){return jn.SCAN_TYPE_CHANGE_ANCHOR_ID},o.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},o.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},o.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},o.prototype.getCameraPermissionButtonId=function(){return jn.CAMERA_PERMISSION_BUTTON_ID},o.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},o.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},o.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},o}();Ko.start();window.Flickity=jf;window.Html5QrcodeScanner=vh;
